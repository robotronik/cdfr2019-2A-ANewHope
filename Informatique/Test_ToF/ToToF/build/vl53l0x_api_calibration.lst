ARM GAS  /tmp/ccHkrygC.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.file	"vl53l0x_api_calibration.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.global	refArrayQuadrants
  21              		.section	.data.refArrayQuadrants,"aw",%progbits
  22              		.align	2
  25              	refArrayQuadrants:
  26 0000 0A000000 		.word	10
  27 0004 05000000 		.word	5
  28 0008 00000000 		.word	0
  29 000c 05000000 		.word	5
  30              		.section	.text.VL53L0X_perform_xtalk_calibration,"ax",%progbits
  31              		.align	2
  32              		.global	VL53L0X_perform_xtalk_calibration
  33              		.thumb
  34              		.thumb_func
  36              	VL53L0X_perform_xtalk_calibration:
  37              	.LFB123:
  38              		.file 1 "Drivers/VL53L0X/API/vl53l0x_api_calibration.c"
   1:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** /*******************************************************************************
   2:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  Copyright © 2016, STMicroelectronics International N.V.
   3:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  All rights reserved.
   4:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
   5:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  Redistribution and use in source and binary forms, with or without
   6:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  modification, are permitted provided that the following conditions are met:
   7:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  * Redistributions of source code must retain the above copyright
   8:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  notice, this list of conditions and the following disclaimer.
   9:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  * Redistributions in binary form must reproduce the above copyright
  10:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  notice, this list of conditions and the following disclaimer in the
  11:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  documentation and/or other materials provided with the distribution.
  12:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  * Neither the name of STMicroelectronics nor the
  13:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  names of its contributors may be used to endorse or promote products
  14:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  derived from this software without specific prior written permission.
  15:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  16:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  17:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  18:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
  19:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  NON-INFRINGEMENT OF INTELLECTUAL PROPERTY RIGHTS ARE DISCLAIMED.
  20:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  IN NO EVENT SHALL STMICROELECTRONICS INTERNATIONAL N.V. BE LIABLE FOR ANY
  21:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  22:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
ARM GAS  /tmp/ccHkrygC.s 			page 2


  23:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  24:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  25:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  26:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:Drivers/VL53L0X/API/vl53l0x_api_calibration.c ****  ******************************************************************************/
  28:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  29:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #include "vl53l0x_api.h"
  30:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #include "vl53l0x_api_core.h"
  31:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #include "vl53l0x_api_calibration.h"
  32:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  33:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #ifndef __KERNEL__
  34:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #include <stdlib.h>
  35:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #endif
  36:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  37:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define LOG_FUNCTION_START(fmt, ...) \
  38:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	_LOG_FUNCTION_START(TRACE_MODULE_API, fmt, ##__VA_ARGS__)
  39:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define LOG_FUNCTION_END(status, ...) \
  40:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	_LOG_FUNCTION_END(TRACE_MODULE_API, status, ##__VA_ARGS__)
  41:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define LOG_FUNCTION_END_FMT(status, fmt, ...) \
  42:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	_LOG_FUNCTION_END_FMT(TRACE_MODULE_API, status, fmt, ##__VA_ARGS__)
  43:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  44:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define REF_ARRAY_SPAD_0  0
  45:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define REF_ARRAY_SPAD_5  5
  46:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** #define REF_ARRAY_SPAD_10 10
  47:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  48:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** uint32_t refArrayQuadrants[4] = {REF_ARRAY_SPAD_10, REF_ARRAY_SPAD_5,
  49:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		REF_ARRAY_SPAD_0, REF_ARRAY_SPAD_5 };
  50:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  51:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_xtalk_calibration(VL53L0X_DEV Dev,
  52:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			FixPoint1616_t XTalkCalDistance,
  53:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			FixPoint1616_t *pXTalkCompensationRateMegaCps)
  54:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
  39              		.loc 1 54 0
  40              		.cfi_startproc
  41              		@ args = 0, pretend = 0, frame = 96
  42              		@ frame_needed = 1, uses_anonymous_args = 0
  43 0000 80B5     		push	{r7, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 8
  46              		.cfi_offset 7, -8
  47              		.cfi_offset 14, -4
  48 0002 98B0     		sub	sp, sp, #96
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 104
  51 0004 00AF     		add	r7, sp, #0
  52              	.LCFI2:
  53              		.cfi_def_cfa_register 7
  54 0006 F860     		str	r0, [r7, #12]
  55 0008 B960     		str	r1, [r7, #8]
  56 000a 7A60     		str	r2, [r7, #4]
  55:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
  57              		.loc 1 55 0
  58 000c 0023     		movs	r3, #0
  59 000e 87F85F30 		strb	r3, [r7, #95]
  56:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t sum_ranging = 0;
  60              		.loc 1 56 0
  61 0012 0023     		movs	r3, #0
ARM GAS  /tmp/ccHkrygC.s 			page 3


  62 0014 A7F85C30 		strh	r3, [r7, #92]	@ movhi
  57:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t sum_spads = 0;
  63              		.loc 1 57 0
  64 0018 0023     		movs	r3, #0
  65 001a A7F85A30 		strh	r3, [r7, #90]	@ movhi
  58:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t sum_signalRate = 0;
  66              		.loc 1 58 0
  67 001e 0023     		movs	r3, #0
  68 0020 7B65     		str	r3, [r7, #84]
  59:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t total_count = 0;
  69              		.loc 1 59 0
  70 0022 0023     		movs	r3, #0
  71 0024 3B65     		str	r3, [r7, #80]
  60:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t xtalk_meas = 0;
  72              		.loc 1 60 0
  73 0026 0023     		movs	r3, #0
  74 0028 87F84F30 		strb	r3, [r7, #79]
  61:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_RangingMeasurementData_t RangingMeasurementData;
  62:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t xTalkStoredMeanSignalRate;
  63:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t xTalkStoredMeanRange;
  64:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t xTalkStoredMeanRtnSpads;
  65:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t signalXTalkTotalPerSpad;
  66:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t xTalkStoredMeanRtnSpadsAsInt;
  67:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t xTalkCalDistanceAsInt;
  68:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t XTalkCompensationRateMegaCps;
  69:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  70:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (XTalkCalDistance <= 0)
  75              		.loc 1 70 0
  76 002c BB68     		ldr	r3, [r7, #8]
  77 002e 002B     		cmp	r3, #0
  78 0030 02D1     		bne	.L2
  71:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_ERROR_INVALID_PARAMS;
  79              		.loc 1 71 0
  80 0032 FC23     		movs	r3, #252
  81 0034 87F85F30 		strb	r3, [r7, #95]
  82              	.L2:
  72:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  73:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Disable the XTalk compensation */
  74:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
  83              		.loc 1 74 0
  84 0038 97F95F30 		ldrsb	r3, [r7, #95]
  85 003c 002B     		cmp	r3, #0
  86 003e 06D1     		bne	.L3
  75:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetXTalkCompensationEnable(Dev, 0);
  87              		.loc 1 75 0
  88 0040 F868     		ldr	r0, [r7, #12]
  89 0042 0021     		movs	r1, #0
  90 0044 FFF7FEFF 		bl	VL53L0X_SetXTalkCompensationEnable
  91 0048 0346     		mov	r3, r0
  92 004a 87F85F30 		strb	r3, [r7, #95]
  93              	.L3:
  76:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  77:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Disable the RIT */
  78:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
  94              		.loc 1 78 0
  95 004e 97F95F30 		ldrsb	r3, [r7, #95]
  96 0052 002B     		cmp	r3, #0
ARM GAS  /tmp/ccHkrygC.s 			page 4


  97 0054 07D1     		bne	.L4
  79:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetLimitCheckEnable(Dev,
  98              		.loc 1 79 0
  99 0056 F868     		ldr	r0, [r7, #12]
 100 0058 0321     		movs	r1, #3
 101 005a 0022     		movs	r2, #0
 102 005c FFF7FEFF 		bl	VL53L0X_SetLimitCheckEnable
 103 0060 0346     		mov	r3, r0
 104 0062 87F85F30 		strb	r3, [r7, #95]
 105              	.L4:
  80:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_CHECKENABLE_RANGE_IGNORE_THRESHOLD, 0);
  81:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
  82:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  83:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Perform 50 measurements and compute the averages */
  84:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 106              		.loc 1 84 0
 107 0066 97F95F30 		ldrsb	r3, [r7, #95]
 108 006a 002B     		cmp	r3, #0
 109 006c 43D1     		bne	.L5
  85:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		sum_ranging = 0;
 110              		.loc 1 85 0
 111 006e 0023     		movs	r3, #0
 112 0070 A7F85C30 		strh	r3, [r7, #92]	@ movhi
  86:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		sum_spads = 0;
 113              		.loc 1 86 0
 114 0074 0023     		movs	r3, #0
 115 0076 A7F85A30 		strh	r3, [r7, #90]	@ movhi
  87:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		sum_signalRate = 0;
 116              		.loc 1 87 0
 117 007a 0023     		movs	r3, #0
 118 007c 7B65     		str	r3, [r7, #84]
  88:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		total_count = 0;
 119              		.loc 1 88 0
 120 007e 0023     		movs	r3, #0
 121 0080 3B65     		str	r3, [r7, #80]
  89:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		for (xtalk_meas = 0; xtalk_meas < 50; xtalk_meas++) {
 122              		.loc 1 89 0
 123 0082 0023     		movs	r3, #0
 124 0084 87F84F30 		strb	r3, [r7, #79]
 125 0088 2BE0     		b	.L6
 126              	.L10:
  90:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 127              		.loc 1 90 0
 128 008a 07F11403 		add	r3, r7, #20
 129 008e F868     		ldr	r0, [r7, #12]
 130 0090 1946     		mov	r1, r3
 131 0092 FFF7FEFF 		bl	VL53L0X_PerformSingleRangingMeasurement
 132 0096 0346     		mov	r3, r0
 133 0098 87F85F30 		strb	r3, [r7, #95]
  91:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				&RangingMeasurementData);
  92:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  93:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status != VL53L0X_ERROR_NONE)
 134              		.loc 1 93 0
 135 009c 97F95F30 		ldrsb	r3, [r7, #95]
 136 00a0 002B     		cmp	r3, #0
 137 00a2 00D0     		beq	.L7
  94:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
ARM GAS  /tmp/ccHkrygC.s 			page 5


 138              		.loc 1 94 0
 139 00a4 21E0     		b	.L8
 140              	.L7:
  95:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
  96:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* The range is valid when RangeStatus = 0 */
  97:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (RangingMeasurementData.RangeStatus == 0) {
 141              		.loc 1 97 0
 142 00a6 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 143 00aa 002B     		cmp	r3, #0
 144 00ac 14D1     		bne	.L9
  98:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_ranging = sum_ranging +
  99:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					RangingMeasurementData.RangeMilliMeter;
 145              		.loc 1 99 0
 146 00ae BA8B     		ldrh	r2, [r7, #28]
  98:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_ranging = sum_ranging +
 147              		.loc 1 98 0
 148 00b0 B7F85C30 		ldrh	r3, [r7, #92]	@ movhi
 149 00b4 1344     		add	r3, r3, r2
 150 00b6 A7F85C30 		strh	r3, [r7, #92]	@ movhi
 100:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_signalRate = sum_signalRate +
 101:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				RangingMeasurementData.SignalRateRtnMegaCps;
 151              		.loc 1 101 0
 152 00ba 3B6A     		ldr	r3, [r7, #32]
 100:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_signalRate = sum_signalRate +
 153              		.loc 1 100 0
 154 00bc 7A6D     		ldr	r2, [r7, #84]
 155 00be 1344     		add	r3, r3, r2
 156 00c0 7B65     		str	r3, [r7, #84]
 102:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_spads = sum_spads +
 103:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				RangingMeasurementData.EffectiveSpadRtnCount
 157              		.loc 1 103 0
 158 00c2 3B8D     		ldrh	r3, [r7, #40]
 102:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_spads = sum_spads +
 159              		.loc 1 102 0
 160 00c4 1B0A     		lsrs	r3, r3, #8
 161 00c6 9AB2     		uxth	r2, r3
 162 00c8 B7F85A30 		ldrh	r3, [r7, #90]	@ movhi
 163 00cc 1344     		add	r3, r3, r2
 164 00ce A7F85A30 		strh	r3, [r7, #90]	@ movhi
 104:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					/ 256;
 105:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				total_count = total_count + 1;
 165              		.loc 1 105 0
 166 00d2 3B6D     		ldr	r3, [r7, #80]
 167 00d4 0133     		adds	r3, r3, #1
 168 00d6 3B65     		str	r3, [r7, #80]
 169              	.L9:
  89:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 170              		.loc 1 89 0 discriminator 2
 171 00d8 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 172 00dc 0133     		adds	r3, r3, #1
 173 00de 87F84F30 		strb	r3, [r7, #79]
 174              	.L6:
  89:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 175              		.loc 1 89 0 is_stmt 0 discriminator 1
 176 00e2 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 177 00e6 312B     		cmp	r3, #49
 178 00e8 CFD9     		bls	.L10
ARM GAS  /tmp/ccHkrygC.s 			page 6


 179              	.L8:
 106:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 107:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 108:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 109:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* no valid values found */
 110:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (total_count == 0)
 180              		.loc 1 110 0 is_stmt 1
 181 00ea 3B6D     		ldr	r3, [r7, #80]
 182 00ec 002B     		cmp	r3, #0
 183 00ee 02D1     		bne	.L5
 111:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_ERROR_RANGE_ERROR;
 184              		.loc 1 111 0
 185 00f0 FA23     		movs	r3, #250
 186 00f2 87F85F30 		strb	r3, [r7, #95]
 187              	.L5:
 112:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 113:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 114:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 115:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 116:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 188              		.loc 1 116 0
 189 00f6 97F95F30 		ldrsb	r3, [r7, #95]
 190 00fa 002B     		cmp	r3, #0
 191 00fc 5DD1     		bne	.L11
 117:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* FixPoint1616_t / uint16_t = FixPoint1616_t */
 118:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanSignalRate = sum_signalRate / total_count;
 192              		.loc 1 118 0
 193 00fe 7A6D     		ldr	r2, [r7, #84]
 194 0100 3B6D     		ldr	r3, [r7, #80]
 195 0102 B2FBF3F3 		udiv	r3, r2, r3
 196 0106 7B64     		str	r3, [r7, #68]
 119:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanRange = (FixPoint1616_t)((uint32_t)(
 120:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			sum_ranging << 16) / total_count);
 197              		.loc 1 120 0
 198 0108 B7F85C30 		ldrh	r3, [r7, #92]
 199 010c 1B04     		lsls	r3, r3, #16
 119:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanRange = (FixPoint1616_t)((uint32_t)(
 200              		.loc 1 119 0
 201 010e 1A46     		mov	r2, r3
 202 0110 3B6D     		ldr	r3, [r7, #80]
 203 0112 B2FBF3F3 		udiv	r3, r2, r3
 204 0116 3B64     		str	r3, [r7, #64]
 121:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanRtnSpads = (FixPoint1616_t)((uint32_t)(
 122:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			sum_spads << 16) / total_count);
 205              		.loc 1 122 0
 206 0118 B7F85A30 		ldrh	r3, [r7, #90]
 207 011c 1B04     		lsls	r3, r3, #16
 121:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanRtnSpads = (FixPoint1616_t)((uint32_t)(
 208              		.loc 1 121 0
 209 011e 1A46     		mov	r2, r3
 210 0120 3B6D     		ldr	r3, [r7, #80]
 211 0122 B2FBF3F3 		udiv	r3, r2, r3
 212 0126 FB63     		str	r3, [r7, #60]
 123:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 124:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Round Mean Spads to Whole Number.
 125:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * Typically the calculated mean SPAD count is a whole number
 126:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * or very close to a whole
ARM GAS  /tmp/ccHkrygC.s 			page 7


 127:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * number, therefore any truncation will not result in a
 128:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * significant loss in accuracy.
 129:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * Also, for a grey target at a typical distance of around
 130:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * 400mm, around 220 SPADs will
 131:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * be enabled, therefore, any truncation will result in a loss
 132:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * of accuracy of less than
 133:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * 0.5%.
 134:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 */
 135:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		xTalkStoredMeanRtnSpadsAsInt = (xTalkStoredMeanRtnSpads +
 213              		.loc 1 135 0
 214 0128 FB6B     		ldr	r3, [r7, #60]
 215 012a 03F50043 		add	r3, r3, #32768
 216 012e 1B0C     		lsrs	r3, r3, #16
 217 0130 BB63     		str	r3, [r7, #56]
 136:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			0x8000) >> 16;
 137:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 138:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Round Cal Distance to Whole Number.
 139:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * Note that the cal distance is in mm, therefore no resolution
 140:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * is lost.*/
 141:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 xTalkCalDistanceAsInt = (XTalkCalDistance + 0x8000) >> 16;
 218              		.loc 1 141 0
 219 0132 BB68     		ldr	r3, [r7, #8]
 220 0134 03F50043 		add	r3, r3, #32768
 221 0138 1B0C     		lsrs	r3, r3, #16
 222 013a 7B63     		str	r3, [r7, #52]
 142:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 143:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (xTalkStoredMeanRtnSpadsAsInt == 0 ||
 223              		.loc 1 143 0
 224 013c BB6B     		ldr	r3, [r7, #56]
 225 013e 002B     		cmp	r3, #0
 226 0140 06D0     		beq	.L12
 227              		.loc 1 143 0 is_stmt 0 discriminator 1
 228 0142 7B6B     		ldr	r3, [r7, #52]
 229 0144 002B     		cmp	r3, #0
 230 0146 03D0     		beq	.L12
 144:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		   xTalkCalDistanceAsInt == 0 ||
 231              		.loc 1 144 0 is_stmt 1
 232 0148 3A6C     		ldr	r2, [r7, #64]
 233 014a BB68     		ldr	r3, [r7, #8]
 234 014c 9A42     		cmp	r2, r3
 235 014e 02D3     		bcc	.L13
 236              	.L12:
 145:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		   xTalkStoredMeanRange >= XTalkCalDistance) {
 146:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			XTalkCompensationRateMegaCps = 0;
 237              		.loc 1 146 0
 238 0150 0023     		movs	r3, #0
 239 0152 BB64     		str	r3, [r7, #72]
 240 0154 18E0     		b	.L14
 241              	.L13:
 147:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		} else {
 148:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Round Cal Distance to Whole Number.
 149:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			   Note that the cal distance is in mm, therefore no
 150:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			   resolution is lost.*/
 151:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			xTalkCalDistanceAsInt = (XTalkCalDistance +
 242              		.loc 1 151 0
 243 0156 BB68     		ldr	r3, [r7, #8]
 244 0158 03F50043 		add	r3, r3, #32768
ARM GAS  /tmp/ccHkrygC.s 			page 8


 245 015c 1B0C     		lsrs	r3, r3, #16
 246 015e 7B63     		str	r3, [r7, #52]
 152:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				0x8000) >> 16;
 153:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 154:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Apply division by mean spad count early in the
 155:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * calculation to keep the numbers small.
 156:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * This ensures we can maintain a 32bit calculation.
 157:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * Fixed1616 / int := Fixed1616 */
 158:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			signalXTalkTotalPerSpad = (xTalkStoredMeanSignalRate) /
 247              		.loc 1 158 0
 248 0160 7A6C     		ldr	r2, [r7, #68]
 249 0162 BB6B     		ldr	r3, [r7, #56]
 250 0164 B2FBF3F3 		udiv	r3, r2, r3
 251 0168 3B63     		str	r3, [r7, #48]
 159:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				xTalkStoredMeanRtnSpadsAsInt;
 160:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 161:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Complete the calculation for total Signal XTalk per
 162:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * SPAD
 163:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * Fixed1616 * (Fixed1616 - Fixed1616/int) :=
 164:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * (2^16 * Fixed1616)
 165:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 */
 166:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			signalXTalkTotalPerSpad *= ((1 << 16) -
 167:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(xTalkStoredMeanRange / xTalkCalDistanceAsInt));
 252              		.loc 1 167 0
 253 016a 3A6C     		ldr	r2, [r7, #64]
 254 016c 7B6B     		ldr	r3, [r7, #52]
 255 016e B2FBF3F3 		udiv	r3, r2, r3
 166:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(xTalkStoredMeanRange / xTalkCalDistanceAsInt));
 256              		.loc 1 166 0
 257 0172 C3F58032 		rsb	r2, r3, #65536
 258 0176 3B6B     		ldr	r3, [r7, #48]
 259 0178 02FB03F3 		mul	r3, r2, r3
 260 017c 3B63     		str	r3, [r7, #48]
 168:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 169:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Round from 2^16 * Fixed1616, to Fixed1616. */
 170:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			XTalkCompensationRateMegaCps = (signalXTalkTotalPerSpad
 171:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				+ 0x8000) >> 16;
 261              		.loc 1 171 0
 262 017e 3B6B     		ldr	r3, [r7, #48]
 263 0180 03F50043 		add	r3, r3, #32768
 170:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				+ 0x8000) >> 16;
 264              		.loc 1 170 0
 265 0184 1B0C     		lsrs	r3, r3, #16
 266 0186 BB64     		str	r3, [r7, #72]
 267              	.L14:
 172:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 173:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 174:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*pXTalkCompensationRateMegaCps = XTalkCompensationRateMegaCps;
 268              		.loc 1 174 0
 269 0188 7B68     		ldr	r3, [r7, #4]
 270 018a BA6C     		ldr	r2, [r7, #72]
 271 018c 1A60     		str	r2, [r3]
 175:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 176:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Enable the XTalk compensation */
 177:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE)
 272              		.loc 1 177 0
 273 018e 97F95F30 		ldrsb	r3, [r7, #95]
ARM GAS  /tmp/ccHkrygC.s 			page 9


 274 0192 002B     		cmp	r3, #0
 275 0194 06D1     		bne	.L15
 178:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_SetXTalkCompensationEnable(Dev, 1);
 276              		.loc 1 178 0
 277 0196 F868     		ldr	r0, [r7, #12]
 278 0198 0121     		movs	r1, #1
 279 019a FFF7FEFF 		bl	VL53L0X_SetXTalkCompensationEnable
 280 019e 0346     		mov	r3, r0
 281 01a0 87F85F30 		strb	r3, [r7, #95]
 282              	.L15:
 179:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 180:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Enable the XTalk compensation */
 181:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE)
 283              		.loc 1 181 0
 284 01a4 97F95F30 		ldrsb	r3, [r7, #95]
 285 01a8 002B     		cmp	r3, #0
 286 01aa 06D1     		bne	.L11
 182:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_SetXTalkCompensationRateMegaCps(Dev,
 287              		.loc 1 182 0
 288 01ac F868     		ldr	r0, [r7, #12]
 289 01ae B96C     		ldr	r1, [r7, #72]
 290 01b0 FFF7FEFF 		bl	VL53L0X_SetXTalkCompensationRateMegaCps
 291 01b4 0346     		mov	r3, r0
 292 01b6 87F85F30 		strb	r3, [r7, #95]
 293              	.L11:
 183:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					XTalkCompensationRateMegaCps);
 184:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 185:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 186:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 187:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 294              		.loc 1 187 0
 295 01ba 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 296 01be 5BB2     		sxtb	r3, r3
 188:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 297              		.loc 1 188 0
 298 01c0 1846     		mov	r0, r3
 299 01c2 6037     		adds	r7, r7, #96
 300              	.LCFI3:
 301              		.cfi_def_cfa_offset 8
 302 01c4 BD46     		mov	sp, r7
 303              	.LCFI4:
 304              		.cfi_def_cfa_register 13
 305              		@ sp needed
 306 01c6 80BD     		pop	{r7, pc}
 307              		.cfi_endproc
 308              	.LFE123:
 310              		.section	.text.VL53L0X_perform_offset_calibration,"ax",%progbits
 311              		.align	2
 312              		.global	VL53L0X_perform_offset_calibration
 313              		.thumb
 314              		.thumb_func
 316              	VL53L0X_perform_offset_calibration:
 317              	.LFB124:
 189:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 190:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_offset_calibration(VL53L0X_DEV Dev,
 191:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			FixPoint1616_t CalDistanceMilliMeter,
 192:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			int32_t *pOffsetMicroMeter)
ARM GAS  /tmp/ccHkrygC.s 			page 10


 193:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 318              		.loc 1 193 0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 72
 321              		@ frame_needed = 1, uses_anonymous_args = 0
 322 0000 80B5     		push	{r7, lr}
 323              	.LCFI5:
 324              		.cfi_def_cfa_offset 8
 325              		.cfi_offset 7, -8
 326              		.cfi_offset 14, -4
 327 0002 92B0     		sub	sp, sp, #72
 328              	.LCFI6:
 329              		.cfi_def_cfa_offset 80
 330 0004 00AF     		add	r7, sp, #0
 331              	.LCFI7:
 332              		.cfi_def_cfa_register 7
 333 0006 F860     		str	r0, [r7, #12]
 334 0008 B960     		str	r1, [r7, #8]
 335 000a 7A60     		str	r2, [r7, #4]
 194:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 336              		.loc 1 194 0
 337 000c 0023     		movs	r3, #0
 338 000e 87F84730 		strb	r3, [r7, #71]
 195:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t sum_ranging = 0;
 339              		.loc 1 195 0
 340 0012 0023     		movs	r3, #0
 341 0014 A7F84430 		strh	r3, [r7, #68]	@ movhi
 196:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t total_count = 0;
 342              		.loc 1 196 0
 343 0018 0023     		movs	r3, #0
 344 001a 3B64     		str	r3, [r7, #64]
 197:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_RangingMeasurementData_t RangingMeasurementData;
 198:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	FixPoint1616_t StoredMeanRange;
 199:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t StoredMeanRangeAsInt;
 200:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t CalDistanceAsInt_mm;
 201:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t SequenceStepEnabled;
 202:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int meas = 0;
 345              		.loc 1 202 0
 346 001c 0023     		movs	r3, #0
 347 001e FB63     		str	r3, [r7, #60]
 203:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 204:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (CalDistanceMilliMeter <= 0)
 348              		.loc 1 204 0
 349 0020 BB68     		ldr	r3, [r7, #8]
 350 0022 002B     		cmp	r3, #0
 351 0024 02D1     		bne	.L18
 205:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_ERROR_INVALID_PARAMS;
 352              		.loc 1 205 0
 353 0026 FC23     		movs	r3, #252
 354 0028 87F84730 		strb	r3, [r7, #71]
 355              	.L18:
 206:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 207:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 356              		.loc 1 207 0
 357 002c 97F94730 		ldrsb	r3, [r7, #71]
 358 0030 002B     		cmp	r3, #0
 359 0032 06D1     		bne	.L19
ARM GAS  /tmp/ccHkrygC.s 			page 11


 208:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetOffsetCalibrationDataMicroMeter(Dev, 0);
 360              		.loc 1 208 0
 361 0034 F868     		ldr	r0, [r7, #12]
 362 0036 0021     		movs	r1, #0
 363 0038 FFF7FEFF 		bl	VL53L0X_SetOffsetCalibrationDataMicroMeter
 364 003c 0346     		mov	r3, r0
 365 003e 87F84730 		strb	r3, [r7, #71]
 366              	.L19:
 209:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 210:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 211:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Get the value of the TCC */
 212:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 367              		.loc 1 212 0
 368 0042 97F94730 		ldrsb	r3, [r7, #71]
 369 0046 002B     		cmp	r3, #0
 370 0048 09D1     		bne	.L20
 213:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_GetSequenceStepEnable(Dev,
 371              		.loc 1 213 0
 372 004a 07F11303 		add	r3, r7, #19
 373 004e F868     		ldr	r0, [r7, #12]
 374 0050 0021     		movs	r1, #0
 375 0052 1A46     		mov	r2, r3
 376 0054 FFF7FEFF 		bl	VL53L0X_GetSequenceStepEnable
 377 0058 0346     		mov	r3, r0
 378 005a 87F84730 		strb	r3, [r7, #71]
 379              	.L20:
 214:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_SEQUENCESTEP_TCC, &SequenceStepEnabled);
 215:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 216:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 217:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Disable the TCC */
 218:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 380              		.loc 1 218 0
 381 005e 97F94730 		ldrsb	r3, [r7, #71]
 382 0062 002B     		cmp	r3, #0
 383 0064 07D1     		bne	.L21
 219:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetSequenceStepEnable(Dev,
 384              		.loc 1 219 0
 385 0066 F868     		ldr	r0, [r7, #12]
 386 0068 0021     		movs	r1, #0
 387 006a 0022     		movs	r2, #0
 388 006c FFF7FEFF 		bl	VL53L0X_SetSequenceStepEnable
 389 0070 0346     		mov	r3, r0
 390 0072 87F84730 		strb	r3, [r7, #71]
 391              	.L21:
 220:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_SEQUENCESTEP_TCC, 0);
 221:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 222:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 223:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Disable the RIT */
 224:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 392              		.loc 1 224 0
 393 0076 97F94730 		ldrsb	r3, [r7, #71]
 394 007a 002B     		cmp	r3, #0
 395 007c 07D1     		bne	.L22
 225:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetLimitCheckEnable(Dev,
 396              		.loc 1 225 0
 397 007e F868     		ldr	r0, [r7, #12]
 398 0080 0321     		movs	r1, #3
ARM GAS  /tmp/ccHkrygC.s 			page 12


 399 0082 0022     		movs	r2, #0
 400 0084 FFF7FEFF 		bl	VL53L0X_SetLimitCheckEnable
 401 0088 0346     		mov	r3, r0
 402 008a 87F84730 		strb	r3, [r7, #71]
 403              	.L22:
 226:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_CHECKENABLE_RANGE_IGNORE_THRESHOLD, 0);
 227:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 228:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Perform 50 measurements and compute the averages */
 229:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 404              		.loc 1 229 0
 405 008e 97F94730 		ldrsb	r3, [r7, #71]
 406 0092 002B     		cmp	r3, #0
 407 0094 2ED1     		bne	.L23
 230:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		sum_ranging = 0;
 408              		.loc 1 230 0
 409 0096 0023     		movs	r3, #0
 410 0098 A7F84430 		strh	r3, [r7, #68]	@ movhi
 231:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		total_count = 0;
 411              		.loc 1 231 0
 412 009c 0023     		movs	r3, #0
 413 009e 3B64     		str	r3, [r7, #64]
 232:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		for (meas = 0; meas < 50; meas++) {
 414              		.loc 1 232 0
 415 00a0 0023     		movs	r3, #0
 416 00a2 FB63     		str	r3, [r7, #60]
 417 00a4 1DE0     		b	.L24
 418              	.L28:
 233:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 419              		.loc 1 233 0
 420 00a6 07F11403 		add	r3, r7, #20
 421 00aa F868     		ldr	r0, [r7, #12]
 422 00ac 1946     		mov	r1, r3
 423 00ae FFF7FEFF 		bl	VL53L0X_PerformSingleRangingMeasurement
 424 00b2 0346     		mov	r3, r0
 425 00b4 87F84730 		strb	r3, [r7, #71]
 234:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					&RangingMeasurementData);
 235:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 236:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status != VL53L0X_ERROR_NONE)
 426              		.loc 1 236 0
 427 00b8 97F94730 		ldrsb	r3, [r7, #71]
 428 00bc 002B     		cmp	r3, #0
 429 00be 00D0     		beq	.L25
 237:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 430              		.loc 1 237 0
 431 00c0 12E0     		b	.L26
 432              	.L25:
 238:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 239:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* The range is valid when RangeStatus = 0 */
 240:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (RangingMeasurementData.RangeStatus == 0) {
 433              		.loc 1 240 0
 434 00c2 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 435 00c6 002B     		cmp	r3, #0
 436 00c8 08D1     		bne	.L27
 241:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_ranging = sum_ranging +
 242:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					RangingMeasurementData.RangeMilliMeter;
 437              		.loc 1 242 0
 438 00ca BA8B     		ldrh	r2, [r7, #28]
ARM GAS  /tmp/ccHkrygC.s 			page 13


 241:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				sum_ranging = sum_ranging +
 439              		.loc 1 241 0
 440 00cc B7F84430 		ldrh	r3, [r7, #68]	@ movhi
 441 00d0 1344     		add	r3, r3, r2
 442 00d2 A7F84430 		strh	r3, [r7, #68]	@ movhi
 243:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				total_count = total_count + 1;
 443              		.loc 1 243 0
 444 00d6 3B6C     		ldr	r3, [r7, #64]
 445 00d8 0133     		adds	r3, r3, #1
 446 00da 3B64     		str	r3, [r7, #64]
 447              	.L27:
 232:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 448              		.loc 1 232 0 discriminator 2
 449 00dc FB6B     		ldr	r3, [r7, #60]
 450 00de 0133     		adds	r3, r3, #1
 451 00e0 FB63     		str	r3, [r7, #60]
 452              	.L24:
 232:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 453              		.loc 1 232 0 is_stmt 0 discriminator 1
 454 00e2 FB6B     		ldr	r3, [r7, #60]
 455 00e4 312B     		cmp	r3, #49
 456 00e6 DEDD     		ble	.L28
 457              	.L26:
 244:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 245:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 246:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 247:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* no valid values found */
 248:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (total_count == 0)
 458              		.loc 1 248 0 is_stmt 1
 459 00e8 3B6C     		ldr	r3, [r7, #64]
 460 00ea 002B     		cmp	r3, #0
 461 00ec 02D1     		bne	.L23
 249:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_ERROR_RANGE_ERROR;
 462              		.loc 1 249 0
 463 00ee FA23     		movs	r3, #250
 464 00f0 87F84730 		strb	r3, [r7, #71]
 465              	.L23:
 250:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 251:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 252:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 253:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 466              		.loc 1 253 0
 467 00f4 97F94730 		ldrsb	r3, [r7, #71]
 468 00f8 002B     		cmp	r3, #0
 469 00fa 2CD1     		bne	.L29
 254:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* FixPoint1616_t / uint16_t = FixPoint1616_t */
 255:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		StoredMeanRange = (FixPoint1616_t)((uint32_t)(sum_ranging << 16)
 470              		.loc 1 255 0
 471 00fc B7F84430 		ldrh	r3, [r7, #68]
 472 0100 1B04     		lsls	r3, r3, #16
 473 0102 1A46     		mov	r2, r3
 474 0104 3B6C     		ldr	r3, [r7, #64]
 475 0106 B2FBF3F3 		udiv	r3, r2, r3
 476 010a BB63     		str	r3, [r7, #56]
 256:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/ total_count);
 257:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 258:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		StoredMeanRangeAsInt = (StoredMeanRange + 0x8000) >> 16;
ARM GAS  /tmp/ccHkrygC.s 			page 14


 477              		.loc 1 258 0
 478 010c BB6B     		ldr	r3, [r7, #56]
 479 010e 03F50043 		add	r3, r3, #32768
 480 0112 1B0C     		lsrs	r3, r3, #16
 481 0114 7B63     		str	r3, [r7, #52]
 259:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 260:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Round Cal Distance to Whole Number.
 261:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * Note that the cal distance is in mm, therefore no resolution
 262:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * is lost.*/
 263:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 CalDistanceAsInt_mm = (CalDistanceMilliMeter + 0x8000) >> 16;
 482              		.loc 1 263 0
 483 0116 BB68     		ldr	r3, [r7, #8]
 484 0118 03F50043 		add	r3, r3, #32768
 485 011c 1B0C     		lsrs	r3, r3, #16
 486 011e 3B63     		str	r3, [r7, #48]
 264:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 265:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 *pOffsetMicroMeter = (CalDistanceAsInt_mm -
 487              		.loc 1 265 0
 488 0120 3A6B     		ldr	r2, [r7, #48]
 489 0122 7B6B     		ldr	r3, [r7, #52]
 490 0124 D31A     		subs	r3, r2, r3
 266:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 StoredMeanRangeAsInt) * 1000;
 491              		.loc 1 266 0
 492 0126 4FF47A72 		mov	r2, #1000
 493 012a 02FB03F3 		mul	r3, r2, r3
 265:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 StoredMeanRangeAsInt) * 1000;
 494              		.loc 1 265 0
 495 012e 1A46     		mov	r2, r3
 496 0130 7B68     		ldr	r3, [r7, #4]
 497 0132 1A60     		str	r2, [r3]
 267:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 268:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Apply the calculated offset */
 269:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE) {
 498              		.loc 1 269 0
 499 0134 97F94730 		ldrsb	r3, [r7, #71]
 500 0138 002B     		cmp	r3, #0
 501 013a 0CD1     		bne	.L29
 270:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_SETPARAMETERFIELD(Dev, RangeOffsetMicroMeters,
 502              		.loc 1 270 0
 503 013c 7B68     		ldr	r3, [r7, #4]
 504 013e 1A68     		ldr	r2, [r3]
 505 0140 FB68     		ldr	r3, [r7, #12]
 506 0142 5A62     		str	r2, [r3, #36]
 271:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					*pOffsetMicroMeter);
 272:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_SetOffsetCalibrationDataMicroMeter(Dev,
 507              		.loc 1 272 0
 508 0144 7B68     		ldr	r3, [r7, #4]
 509 0146 1B68     		ldr	r3, [r3]
 510 0148 F868     		ldr	r0, [r7, #12]
 511 014a 1946     		mov	r1, r3
 512 014c FFF7FEFF 		bl	VL53L0X_SetOffsetCalibrationDataMicroMeter
 513 0150 0346     		mov	r3, r0
 514 0152 87F84730 		strb	r3, [r7, #71]
 515              	.L29:
 273:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					*pOffsetMicroMeter);
 274:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 275:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
ARM GAS  /tmp/ccHkrygC.s 			page 15


 276:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 277:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 278:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Restore the TCC */
 279:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 516              		.loc 1 279 0
 517 0156 97F94730 		ldrsb	r3, [r7, #71]
 518 015a 002B     		cmp	r3, #0
 519 015c 0AD1     		bne	.L30
 280:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (SequenceStepEnabled != 0)
 520              		.loc 1 280 0
 521 015e FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 522 0160 002B     		cmp	r3, #0
 523 0162 07D0     		beq	.L30
 281:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = VL53L0X_SetSequenceStepEnable(Dev,
 524              		.loc 1 281 0
 525 0164 F868     		ldr	r0, [r7, #12]
 526 0166 0021     		movs	r1, #0
 527 0168 0122     		movs	r2, #1
 528 016a FFF7FEFF 		bl	VL53L0X_SetSequenceStepEnable
 529 016e 0346     		mov	r3, r0
 530 0170 87F84730 		strb	r3, [r7, #71]
 531              	.L30:
 282:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					VL53L0X_SEQUENCESTEP_TCC, 1);
 283:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 284:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 285:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 532              		.loc 1 285 0
 533 0174 97F84730 		ldrb	r3, [r7, #71]	@ zero_extendqisi2
 534 0178 5BB2     		sxtb	r3, r3
 286:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 535              		.loc 1 286 0
 536 017a 1846     		mov	r0, r3
 537 017c 4837     		adds	r7, r7, #72
 538              	.LCFI8:
 539              		.cfi_def_cfa_offset 8
 540 017e BD46     		mov	sp, r7
 541              	.LCFI9:
 542              		.cfi_def_cfa_register 13
 543              		@ sp needed
 544 0180 80BD     		pop	{r7, pc}
 545              		.cfi_endproc
 546              	.LFE124:
 548 0182 00BF     		.section	.text.VL53L0X_set_offset_calibration_data_micro_meter,"ax",%progbits
 549              		.align	2
 550              		.global	VL53L0X_set_offset_calibration_data_micro_meter
 551              		.thumb
 552              		.thumb_func
 554              	VL53L0X_set_offset_calibration_data_micro_meter:
 555              	.LFB125:
 287:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 288:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 289:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_set_offset_calibration_data_micro_meter(VL53L0X_DEV Dev,
 290:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		int32_t OffsetCalibrationDataMicroMeter)
 291:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 556              		.loc 1 291 0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 32
ARM GAS  /tmp/ccHkrygC.s 			page 16


 559              		@ frame_needed = 1, uses_anonymous_args = 0
 560 0000 80B5     		push	{r7, lr}
 561              	.LCFI10:
 562              		.cfi_def_cfa_offset 8
 563              		.cfi_offset 7, -8
 564              		.cfi_offset 14, -4
 565 0002 88B0     		sub	sp, sp, #32
 566              	.LCFI11:
 567              		.cfi_def_cfa_offset 40
 568 0004 00AF     		add	r7, sp, #0
 569              	.LCFI12:
 570              		.cfi_def_cfa_register 7
 571 0006 7860     		str	r0, [r7, #4]
 572 0008 3960     		str	r1, [r7]
 292:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 573              		.loc 1 292 0
 574 000a 0023     		movs	r3, #0
 575 000c FB76     		strb	r3, [r7, #27]
 293:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t cMaxOffsetMicroMeter = 511000;
 576              		.loc 1 293 0
 577 000e 1D4B     		ldr	r3, .L38
 578 0010 7B61     		str	r3, [r7, #20]
 294:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t cMinOffsetMicroMeter = -512000;
 579              		.loc 1 294 0
 580 0012 1D4B     		ldr	r3, .L38+4
 581 0014 3B61     		str	r3, [r7, #16]
 295:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int16_t cOffsetRange = 4096;
 582              		.loc 1 295 0
 583 0016 4FF48053 		mov	r3, #4096
 584 001a FB81     		strh	r3, [r7, #14]	@ movhi
 296:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t encodedOffsetVal;
 297:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 298:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	LOG_FUNCTION_START("");
 299:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 300:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (OffsetCalibrationDataMicroMeter > cMaxOffsetMicroMeter)
 585              		.loc 1 300 0
 586 001c 3A68     		ldr	r2, [r7]
 587 001e 7B69     		ldr	r3, [r7, #20]
 588 0020 9A42     		cmp	r2, r3
 589 0022 02DD     		ble	.L33
 301:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		OffsetCalibrationDataMicroMeter = cMaxOffsetMicroMeter;
 590              		.loc 1 301 0
 591 0024 7B69     		ldr	r3, [r7, #20]
 592 0026 3B60     		str	r3, [r7]
 593 0028 05E0     		b	.L34
 594              	.L33:
 302:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	else if (OffsetCalibrationDataMicroMeter < cMinOffsetMicroMeter)
 595              		.loc 1 302 0
 596 002a 3A68     		ldr	r2, [r7]
 597 002c 3B69     		ldr	r3, [r7, #16]
 598 002e 9A42     		cmp	r2, r3
 599 0030 01DA     		bge	.L34
 303:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		OffsetCalibrationDataMicroMeter = cMinOffsetMicroMeter;
 600              		.loc 1 303 0
 601 0032 3B69     		ldr	r3, [r7, #16]
 602 0034 3B60     		str	r3, [r7]
 603              	.L34:
ARM GAS  /tmp/ccHkrygC.s 			page 17


 304:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 305:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* The offset register is 10.2 format and units are mm
 306:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * therefore conversion is applied by a division of
 307:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * 250.
 308:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 309:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (OffsetCalibrationDataMicroMeter >= 0) {
 604              		.loc 1 309 0
 605 0036 3B68     		ldr	r3, [r7]
 606 0038 002B     		cmp	r3, #0
 607 003a 08DB     		blt	.L35
 310:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		encodedOffsetVal =
 311:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			OffsetCalibrationDataMicroMeter/250;
 608              		.loc 1 311 0
 609 003c 3B68     		ldr	r3, [r7]
 610 003e 134A     		ldr	r2, .L38+8
 611 0040 82FB0312 		smull	r1, r2, r2, r3
 612 0044 1211     		asrs	r2, r2, #4
 613 0046 DB17     		asrs	r3, r3, #31
 614 0048 D31A     		subs	r3, r2, r3
 310:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		encodedOffsetVal =
 615              		.loc 1 310 0
 616 004a FB61     		str	r3, [r7, #28]
 617 004c 0AE0     		b	.L36
 618              	.L35:
 312:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	} else {
 313:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		encodedOffsetVal =
 314:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			cOffsetRange +
 619              		.loc 1 314 0
 620 004e B7F90E20 		ldrsh	r2, [r7, #14]
 315:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			OffsetCalibrationDataMicroMeter/250;
 621              		.loc 1 315 0
 622 0052 3B68     		ldr	r3, [r7]
 623 0054 0D49     		ldr	r1, .L38+8
 624 0056 81FB0301 		smull	r0, r1, r1, r3
 625 005a 0911     		asrs	r1, r1, #4
 626 005c DB17     		asrs	r3, r3, #31
 627 005e CB1A     		subs	r3, r1, r3
 314:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			OffsetCalibrationDataMicroMeter/250;
 628              		.loc 1 314 0
 629 0060 1344     		add	r3, r3, r2
 313:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			cOffsetRange +
 630              		.loc 1 313 0
 631 0062 FB61     		str	r3, [r7, #28]
 632              	.L36:
 316:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 317:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 318:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_WrWord(Dev,
 633              		.loc 1 318 0
 634 0064 FB69     		ldr	r3, [r7, #28]
 635 0066 9BB2     		uxth	r3, r3
 636 0068 7868     		ldr	r0, [r7, #4]
 637 006a 2821     		movs	r1, #40
 638 006c 1A46     		mov	r2, r3
 639 006e FFF7FEFF 		bl	VL53L0X_WrWord
 640 0072 0346     		mov	r3, r0
 641 0074 FB76     		strb	r3, [r7, #27]
 319:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_REG_ALGO_PART_TO_PART_RANGE_OFFSET_MM,
ARM GAS  /tmp/ccHkrygC.s 			page 18


 320:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		encodedOffsetVal);
 321:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 322:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	LOG_FUNCTION_END(Status);
 323:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 642              		.loc 1 323 0
 643 0076 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 644 0078 5BB2     		sxtb	r3, r3
 324:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 645              		.loc 1 324 0
 646 007a 1846     		mov	r0, r3
 647 007c 2037     		adds	r7, r7, #32
 648              	.LCFI13:
 649              		.cfi_def_cfa_offset 8
 650 007e BD46     		mov	sp, r7
 651              	.LCFI14:
 652              		.cfi_def_cfa_register 13
 653              		@ sp needed
 654 0080 80BD     		pop	{r7, pc}
 655              	.L39:
 656 0082 00BF     		.align	2
 657              	.L38:
 658 0084 18CC0700 		.word	511000
 659 0088 0030F8FF 		.word	-512000
 660 008c D34D6210 		.word	274877907
 661              		.cfi_endproc
 662              	.LFE125:
 664              		.section	.text.VL53L0X_get_offset_calibration_data_micro_meter,"ax",%progbits
 665              		.align	2
 666              		.global	VL53L0X_get_offset_calibration_data_micro_meter
 667              		.thumb
 668              		.thumb_func
 670              	VL53L0X_get_offset_calibration_data_micro_meter:
 671              	.LFB126:
 325:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 326:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_get_offset_calibration_data_micro_meter(VL53L0X_DEV Dev,
 327:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		int32_t *pOffsetCalibrationDataMicroMeter)
 328:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 672              		.loc 1 328 0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 16
 675              		@ frame_needed = 1, uses_anonymous_args = 0
 676 0000 80B5     		push	{r7, lr}
 677              	.LCFI15:
 678              		.cfi_def_cfa_offset 8
 679              		.cfi_offset 7, -8
 680              		.cfi_offset 14, -4
 681 0002 84B0     		sub	sp, sp, #16
 682              	.LCFI16:
 683              		.cfi_def_cfa_offset 24
 684 0004 00AF     		add	r7, sp, #0
 685              	.LCFI17:
 686              		.cfi_def_cfa_register 7
 687 0006 7860     		str	r0, [r7, #4]
 688 0008 3960     		str	r1, [r7]
 329:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 689              		.loc 1 329 0
 690 000a 0023     		movs	r3, #0
ARM GAS  /tmp/ccHkrygC.s 			page 19


 691 000c FB73     		strb	r3, [r7, #15]
 330:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t RangeOffsetRegister;
 331:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int16_t cMaxOffset = 2047;
 692              		.loc 1 331 0
 693 000e 40F2FF73 		movw	r3, #2047
 694 0012 BB81     		strh	r3, [r7, #12]	@ movhi
 332:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int16_t cOffsetRange = 4096;
 695              		.loc 1 332 0
 696 0014 4FF48053 		mov	r3, #4096
 697 0018 7B81     		strh	r3, [r7, #10]	@ movhi
 333:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 334:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Note that offset has 10.2 format */
 335:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 336:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_RdWord(Dev,
 698              		.loc 1 336 0
 699 001a 07F10803 		add	r3, r7, #8
 700 001e 7868     		ldr	r0, [r7, #4]
 701 0020 2821     		movs	r1, #40
 702 0022 1A46     		mov	r2, r3
 703 0024 FFF7FEFF 		bl	VL53L0X_RdWord
 704 0028 0346     		mov	r3, r0
 705 002a FB73     		strb	r3, [r7, #15]
 337:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_REG_ALGO_PART_TO_PART_RANGE_OFFSET_MM,
 338:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				&RangeOffsetRegister);
 339:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 340:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 706              		.loc 1 340 0
 707 002c 97F90F30 		ldrsb	r3, [r7, #15]
 708 0030 002B     		cmp	r3, #0
 709 0032 1ED1     		bne	.L41
 341:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		RangeOffsetRegister = (RangeOffsetRegister & 0x0fff);
 710              		.loc 1 341 0
 711 0034 3B89     		ldrh	r3, [r7, #8]
 712 0036 C3F30B03 		ubfx	r3, r3, #0, #12
 713 003a 9BB2     		uxth	r3, r3
 714 003c 3B81     		strh	r3, [r7, #8]	@ movhi
 342:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 343:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Apply 12 bit 2's compliment conversion */
 344:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (RangeOffsetRegister > cMaxOffset)
 715              		.loc 1 344 0
 716 003e 3B89     		ldrh	r3, [r7, #8]
 717 0040 1A46     		mov	r2, r3
 718 0042 B7F90C30 		ldrsh	r3, [r7, #12]
 719 0046 9A42     		cmp	r2, r3
 720 0048 0BDD     		ble	.L42
 345:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			*pOffsetCalibrationDataMicroMeter =
 346:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(int16_t)(RangeOffsetRegister - cOffsetRange)
 721              		.loc 1 346 0
 722 004a 3A89     		ldrh	r2, [r7, #8]
 723 004c 7B89     		ldrh	r3, [r7, #10]
 724 004e D31A     		subs	r3, r2, r3
 725 0050 9BB2     		uxth	r3, r3
 726 0052 9BB2     		uxth	r3, r3
 345:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			*pOffsetCalibrationDataMicroMeter =
 727              		.loc 1 345 0
 728 0054 1BB2     		sxth	r3, r3
 347:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					* 250;
ARM GAS  /tmp/ccHkrygC.s 			page 20


 729              		.loc 1 347 0
 730 0056 FA22     		movs	r2, #250
 731 0058 02FB03F2 		mul	r2, r2, r3
 345:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			*pOffsetCalibrationDataMicroMeter =
 732              		.loc 1 345 0
 733 005c 3B68     		ldr	r3, [r7]
 734 005e 1A60     		str	r2, [r3]
 735 0060 07E0     		b	.L41
 736              	.L42:
 348:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		else
 349:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			*pOffsetCalibrationDataMicroMeter =
 350:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(int16_t)RangeOffsetRegister * 250;
 737              		.loc 1 350 0
 738 0062 3B89     		ldrh	r3, [r7, #8]
 739 0064 9BB2     		uxth	r3, r3
 349:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(int16_t)RangeOffsetRegister * 250;
 740              		.loc 1 349 0
 741 0066 1BB2     		sxth	r3, r3
 742              		.loc 1 350 0
 743 0068 FA22     		movs	r2, #250
 744 006a 02FB03F2 		mul	r2, r2, r3
 349:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(int16_t)RangeOffsetRegister * 250;
 745              		.loc 1 349 0
 746 006e 3B68     		ldr	r3, [r7]
 747 0070 1A60     		str	r2, [r3]
 748              	.L41:
 351:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 352:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 353:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 354:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 749              		.loc 1 354 0
 750 0072 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 751 0074 5BB2     		sxtb	r3, r3
 355:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 752              		.loc 1 355 0
 753 0076 1846     		mov	r0, r3
 754 0078 1037     		adds	r7, r7, #16
 755              	.LCFI18:
 756              		.cfi_def_cfa_offset 8
 757 007a BD46     		mov	sp, r7
 758              	.LCFI19:
 759              		.cfi_def_cfa_register 13
 760              		@ sp needed
 761 007c 80BD     		pop	{r7, pc}
 762              		.cfi_endproc
 763              	.LFE126:
 765 007e 00BF     		.section	.text.VL53L0X_apply_offset_adjustment,"ax",%progbits
 766              		.align	2
 767              		.global	VL53L0X_apply_offset_adjustment
 768              		.thumb
 769              		.thumb_func
 771              	VL53L0X_apply_offset_adjustment:
 772              	.LFB127:
 356:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 357:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 358:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_apply_offset_adjustment(VL53L0X_DEV Dev)
 359:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
ARM GAS  /tmp/ccHkrygC.s 			page 21


 773              		.loc 1 359 0
 774              		.cfi_startproc
 775              		@ args = 0, pretend = 0, frame = 24
 776              		@ frame_needed = 1, uses_anonymous_args = 0
 777 0000 80B5     		push	{r7, lr}
 778              	.LCFI20:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 7, -8
 781              		.cfi_offset 14, -4
 782 0002 86B0     		sub	sp, sp, #24
 783              	.LCFI21:
 784              		.cfi_def_cfa_offset 32
 785 0004 00AF     		add	r7, sp, #0
 786              	.LCFI22:
 787              		.cfi_def_cfa_register 7
 788 0006 7860     		str	r0, [r7, #4]
 360:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 789              		.loc 1 360 0
 790 0008 0023     		movs	r3, #0
 791 000a FB75     		strb	r3, [r7, #23]
 361:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t CorrectedOffsetMicroMeters;
 362:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t CurrentOffsetMicroMeters;
 363:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 364:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* if we run on this function we can read all the NVM info
 365:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * used by the API */
 366:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_get_info_from_device(Dev, 7);
 792              		.loc 1 366 0
 793 000c 7868     		ldr	r0, [r7, #4]
 794 000e 0721     		movs	r1, #7
 795 0010 FFF7FEFF 		bl	VL53L0X_get_info_from_device
 796 0014 0346     		mov	r3, r0
 797 0016 FB75     		strb	r3, [r7, #23]
 367:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 368:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Read back current device offset */
 369:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 798              		.loc 1 369 0
 799 0018 97F91730 		ldrsb	r3, [r7, #23]
 800 001c 002B     		cmp	r3, #0
 801 001e 07D1     		bne	.L45
 370:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_GetOffsetCalibrationDataMicroMeter(Dev,
 802              		.loc 1 370 0
 803 0020 07F10C03 		add	r3, r7, #12
 804 0024 7868     		ldr	r0, [r7, #4]
 805 0026 1946     		mov	r1, r3
 806 0028 FFF7FEFF 		bl	VL53L0X_GetOffsetCalibrationDataMicroMeter
 807 002c 0346     		mov	r3, r0
 808 002e FB75     		strb	r3, [r7, #23]
 809              	.L45:
 371:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					&CurrentOffsetMicroMeters);
 372:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 373:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 374:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Apply Offset Adjustment derived from 400mm measurements */
 375:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 810              		.loc 1 375 0
 811 0030 97F91730 		ldrsb	r3, [r7, #23]
 812 0034 002B     		cmp	r3, #0
 813 0036 14D1     		bne	.L46
ARM GAS  /tmp/ccHkrygC.s 			page 22


 376:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 377:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Store initial device offset */
 378:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		PALDevDataSet(Dev, Part2PartOffsetNVMMicroMeter,
 814              		.loc 1 378 0
 815 0038 FA68     		ldr	r2, [r7, #12]
 816 003a 7B68     		ldr	r3, [r7, #4]
 817 003c 9A60     		str	r2, [r3, #8]
 379:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			CurrentOffsetMicroMeters);
 380:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 381:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		CorrectedOffsetMicroMeters = CurrentOffsetMicroMeters +
 382:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(int32_t)PALDevDataGet(Dev,
 818              		.loc 1 382 0
 819 003e 7B68     		ldr	r3, [r7, #4]
 820 0040 DA68     		ldr	r2, [r3, #12]
 381:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(int32_t)PALDevDataGet(Dev,
 821              		.loc 1 381 0
 822 0042 FB68     		ldr	r3, [r7, #12]
 823 0044 1344     		add	r3, r3, r2
 824 0046 3B61     		str	r3, [r7, #16]
 383:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Part2PartOffsetAdjustmentNVMMicroMeter);
 384:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 385:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_SetOffsetCalibrationDataMicroMeter(Dev,
 825              		.loc 1 385 0
 826 0048 7868     		ldr	r0, [r7, #4]
 827 004a 3969     		ldr	r1, [r7, #16]
 828 004c FFF7FEFF 		bl	VL53L0X_SetOffsetCalibrationDataMicroMeter
 829 0050 0346     		mov	r3, r0
 830 0052 FB75     		strb	r3, [r7, #23]
 386:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					CorrectedOffsetMicroMeters);
 387:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 388:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* store current, adjusted offset */
 389:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE) {
 831              		.loc 1 389 0
 832 0054 97F91730 		ldrsb	r3, [r7, #23]
 833 0058 002B     		cmp	r3, #0
 834 005a 02D1     		bne	.L46
 390:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_SETPARAMETERFIELD(Dev, RangeOffsetMicroMeters,
 835              		.loc 1 390 0
 836 005c 7B68     		ldr	r3, [r7, #4]
 837 005e 3A69     		ldr	r2, [r7, #16]
 838 0060 5A62     		str	r2, [r3, #36]
 839              	.L46:
 391:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					CorrectedOffsetMicroMeters);
 392:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 393:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 394:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 395:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 840              		.loc 1 395 0
 841 0062 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 842 0064 5BB2     		sxtb	r3, r3
 396:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 843              		.loc 1 396 0
 844 0066 1846     		mov	r0, r3
 845 0068 1837     		adds	r7, r7, #24
 846              	.LCFI23:
 847              		.cfi_def_cfa_offset 8
 848 006a BD46     		mov	sp, r7
ARM GAS  /tmp/ccHkrygC.s 			page 23


 849              	.LCFI24:
 850              		.cfi_def_cfa_register 13
 851              		@ sp needed
 852 006c 80BD     		pop	{r7, pc}
 853              		.cfi_endproc
 854              	.LFE127:
 856 006e 00BF     		.section	.text.get_next_good_spad,"ax",%progbits
 857              		.align	2
 858              		.global	get_next_good_spad
 859              		.thumb
 860              		.thumb_func
 862              	get_next_good_spad:
 863              	.LFB128:
 397:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 398:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** void get_next_good_spad(uint8_t goodSpadArray[], uint32_t size,
 399:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			uint32_t curr, int32_t *next)
 400:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 864              		.loc 1 400 0
 865              		.cfi_startproc
 866              		@ args = 0, pretend = 0, frame = 40
 867              		@ frame_needed = 1, uses_anonymous_args = 0
 868              		@ link register save eliminated.
 869 0000 80B4     		push	{r7}
 870              	.LCFI25:
 871              		.cfi_def_cfa_offset 4
 872              		.cfi_offset 7, -4
 873 0002 8BB0     		sub	sp, sp, #44
 874              	.LCFI26:
 875              		.cfi_def_cfa_offset 48
 876 0004 00AF     		add	r7, sp, #0
 877              	.LCFI27:
 878              		.cfi_def_cfa_register 7
 879 0006 F860     		str	r0, [r7, #12]
 880 0008 B960     		str	r1, [r7, #8]
 881 000a 7A60     		str	r2, [r7, #4]
 882 000c 3B60     		str	r3, [r7]
 401:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t startIndex;
 402:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t fineOffset;
 403:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t cSpadsPerByte = 8;
 883              		.loc 1 403 0
 884 000e 0823     		movs	r3, #8
 885 0010 BB61     		str	r3, [r7, #24]
 404:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t coarseIndex;
 405:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t fineIndex;
 406:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t dataByte;
 407:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t success = 0;
 886              		.loc 1 407 0
 887 0012 0023     		movs	r3, #0
 888 0014 BB77     		strb	r3, [r7, #30]
 408:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 409:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 410:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Starting with the current good spad, loop through the array to find
 411:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * the next. i.e. the next bit set in the sequence.
 412:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
 413:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * The coarse index is the byte index of the array and the fine index is
 414:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * the index of the bit within each byte.
 415:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
ARM GAS  /tmp/ccHkrygC.s 			page 24


 416:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 417:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	*next = -1;
 889              		.loc 1 417 0
 890 0016 3B68     		ldr	r3, [r7]
 891 0018 4FF0FF32 		mov	r2, #-1
 892 001c 1A60     		str	r2, [r3]
 418:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 419:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	startIndex = curr / cSpadsPerByte;
 893              		.loc 1 419 0
 894 001e 7A68     		ldr	r2, [r7, #4]
 895 0020 BB69     		ldr	r3, [r7, #24]
 896 0022 B2FBF3F3 		udiv	r3, r2, r3
 897 0026 7B61     		str	r3, [r7, #20]
 420:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	fineOffset = curr % cSpadsPerByte;
 898              		.loc 1 420 0
 899 0028 7B68     		ldr	r3, [r7, #4]
 900 002a BA69     		ldr	r2, [r7, #24]
 901 002c B3FBF2F2 		udiv	r2, r3, r2
 902 0030 B969     		ldr	r1, [r7, #24]
 903 0032 01FB02F2 		mul	r2, r1, r2
 904 0036 9B1A     		subs	r3, r3, r2
 905 0038 3B61     		str	r3, [r7, #16]
 421:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 422:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (coarseIndex = startIndex; ((coarseIndex < size) && !success);
 906              		.loc 1 422 0
 907 003a 7B69     		ldr	r3, [r7, #20]
 908 003c 7B62     		str	r3, [r7, #36]
 909 003e 30E0     		b	.L49
 910              	.L56:
 423:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				coarseIndex++) {
 424:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		fineIndex = 0;
 911              		.loc 1 424 0
 912 0040 0023     		movs	r3, #0
 913 0042 3B62     		str	r3, [r7, #32]
 425:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		dataByte = goodSpadArray[coarseIndex];
 914              		.loc 1 425 0
 915 0044 FA68     		ldr	r2, [r7, #12]
 916 0046 7B6A     		ldr	r3, [r7, #36]
 917 0048 1344     		add	r3, r3, r2
 918 004a 1B78     		ldrb	r3, [r3]
 919 004c FB77     		strb	r3, [r7, #31]
 426:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 427:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (coarseIndex == startIndex) {
 920              		.loc 1 427 0
 921 004e 7A6A     		ldr	r2, [r7, #36]
 922 0050 7B69     		ldr	r3, [r7, #20]
 923 0052 9A42     		cmp	r2, r3
 924 0054 06D1     		bne	.L50
 428:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* locate the bit position of the provided current
 429:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * spad bit before iterating */
 430:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			dataByte >>= fineOffset;
 925              		.loc 1 430 0
 926 0056 FA7F     		ldrb	r2, [r7, #31]	@ zero_extendqisi2
 927 0058 3B69     		ldr	r3, [r7, #16]
 928 005a 42FA03F3 		asr	r3, r2, r3
 929 005e FB77     		strb	r3, [r7, #31]
 431:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			fineIndex = fineOffset;
ARM GAS  /tmp/ccHkrygC.s 			page 25


 930              		.loc 1 431 0
 931 0060 3B69     		ldr	r3, [r7, #16]
 932 0062 3B62     		str	r3, [r7, #32]
 933              	.L50:
 432:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 433:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 434:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		while (fineIndex < cSpadsPerByte) {
 934              		.loc 1 434 0
 935 0064 16E0     		b	.L51
 936              	.L54:
 435:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if ((dataByte & 0x1) == 1) {
 937              		.loc 1 435 0
 938 0066 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 939 0068 03F00103 		and	r3, r3, #1
 940 006c 002B     		cmp	r3, #0
 941 006e 0BD0     		beq	.L52
 436:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				success = 1;
 942              		.loc 1 436 0
 943 0070 0123     		movs	r3, #1
 944 0072 BB77     		strb	r3, [r7, #30]
 437:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				*next = coarseIndex * cSpadsPerByte + fineIndex;
 945              		.loc 1 437 0
 946 0074 7B6A     		ldr	r3, [r7, #36]
 947 0076 BA69     		ldr	r2, [r7, #24]
 948 0078 02FB03F2 		mul	r2, r2, r3
 949 007c 3B6A     		ldr	r3, [r7, #32]
 950 007e 1344     		add	r3, r3, r2
 951 0080 1A46     		mov	r2, r3
 952 0082 3B68     		ldr	r3, [r7]
 953 0084 1A60     		str	r2, [r3]
 438:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 954              		.loc 1 438 0
 955 0086 09E0     		b	.L53
 956              	.L52:
 439:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 440:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			dataByte >>= 1;
 957              		.loc 1 440 0
 958 0088 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 959 008a 5B08     		lsrs	r3, r3, #1
 960 008c FB77     		strb	r3, [r7, #31]
 441:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			fineIndex++;
 961              		.loc 1 441 0
 962 008e 3B6A     		ldr	r3, [r7, #32]
 963 0090 0133     		adds	r3, r3, #1
 964 0092 3B62     		str	r3, [r7, #32]
 965              	.L51:
 434:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if ((dataByte & 0x1) == 1) {
 966              		.loc 1 434 0
 967 0094 3A6A     		ldr	r2, [r7, #32]
 968 0096 BB69     		ldr	r3, [r7, #24]
 969 0098 9A42     		cmp	r2, r3
 970 009a E4D3     		bcc	.L54
 971              	.L53:
 423:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		fineIndex = 0;
 972              		.loc 1 423 0
 973 009c 7B6A     		ldr	r3, [r7, #36]
 974 009e 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccHkrygC.s 			page 26


 975 00a0 7B62     		str	r3, [r7, #36]
 976              	.L49:
 422:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				coarseIndex++) {
 977              		.loc 1 422 0 discriminator 1
 978 00a2 7A6A     		ldr	r2, [r7, #36]
 979 00a4 BB68     		ldr	r3, [r7, #8]
 980 00a6 9A42     		cmp	r2, r3
 981 00a8 02D2     		bcs	.L48
 422:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				coarseIndex++) {
 982              		.loc 1 422 0 is_stmt 0 discriminator 2
 983 00aa BB7F     		ldrb	r3, [r7, #30]	@ zero_extendqisi2
 984 00ac 002B     		cmp	r3, #0
 985 00ae C7D0     		beq	.L56
 986              	.L48:
 442:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 443:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 444:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 987              		.loc 1 444 0 is_stmt 1
 988 00b0 2C37     		adds	r7, r7, #44
 989              	.LCFI28:
 990              		.cfi_def_cfa_offset 4
 991 00b2 BD46     		mov	sp, r7
 992              	.LCFI29:
 993              		.cfi_def_cfa_register 13
 994              		@ sp needed
 995 00b4 5DF8047B 		ldr	r7, [sp], #4
 996              	.LCFI30:
 997              		.cfi_restore 7
 998              		.cfi_def_cfa_offset 0
 999 00b8 7047     		bx	lr
 1000              		.cfi_endproc
 1001              	.LFE128:
 1003 00ba 00BF     		.section	.text.is_aperture,"ax",%progbits
 1004              		.align	2
 1005              		.global	is_aperture
 1006              		.thumb
 1007              		.thumb_func
 1009              	is_aperture:
 1010              	.LFB129:
 445:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 446:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 447:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** uint8_t is_aperture(uint32_t spadIndex)
 448:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1011              		.loc 1 448 0
 1012              		.cfi_startproc
 1013              		@ args = 0, pretend = 0, frame = 16
 1014              		@ frame_needed = 1, uses_anonymous_args = 0
 1015              		@ link register save eliminated.
 1016 0000 80B4     		push	{r7}
 1017              	.LCFI31:
 1018              		.cfi_def_cfa_offset 4
 1019              		.cfi_offset 7, -4
 1020 0002 85B0     		sub	sp, sp, #20
 1021              	.LCFI32:
 1022              		.cfi_def_cfa_offset 24
 1023 0004 00AF     		add	r7, sp, #0
 1024              	.LCFI33:
ARM GAS  /tmp/ccHkrygC.s 			page 27


 1025              		.cfi_def_cfa_register 7
 1026 0006 7860     		str	r0, [r7, #4]
 449:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 450:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This function reports if a given spad index is an aperture SPAD by
 451:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * deriving the quadrant.
 452:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 453:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t quadrant;
 454:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t isAperture = 1;
 1027              		.loc 1 454 0
 1028 0008 0123     		movs	r3, #1
 1029 000a FB73     		strb	r3, [r7, #15]
 455:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	quadrant = spadIndex >> 6;
 1030              		.loc 1 455 0
 1031 000c 7B68     		ldr	r3, [r7, #4]
 1032 000e 9B09     		lsrs	r3, r3, #6
 1033 0010 BB60     		str	r3, [r7, #8]
 456:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (refArrayQuadrants[quadrant] == REF_ARRAY_SPAD_0)
 1034              		.loc 1 456 0
 1035 0012 074A     		ldr	r2, .L60
 1036 0014 BB68     		ldr	r3, [r7, #8]
 1037 0016 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1038 001a 002B     		cmp	r3, #0
 1039 001c 01D1     		bne	.L58
 457:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		isAperture = 0;
 1040              		.loc 1 457 0
 1041 001e 0023     		movs	r3, #0
 1042 0020 FB73     		strb	r3, [r7, #15]
 1043              	.L58:
 458:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 459:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return isAperture;
 1044              		.loc 1 459 0
 1045 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 460:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1046              		.loc 1 460 0
 1047 0024 1846     		mov	r0, r3
 1048 0026 1437     		adds	r7, r7, #20
 1049              	.LCFI34:
 1050              		.cfi_def_cfa_offset 4
 1051 0028 BD46     		mov	sp, r7
 1052              	.LCFI35:
 1053              		.cfi_def_cfa_register 13
 1054              		@ sp needed
 1055 002a 5DF8047B 		ldr	r7, [sp], #4
 1056              	.LCFI36:
 1057              		.cfi_restore 7
 1058              		.cfi_def_cfa_offset 0
 1059 002e 7047     		bx	lr
 1060              	.L61:
 1061              		.align	2
 1062              	.L60:
 1063 0030 00000000 		.word	refArrayQuadrants
 1064              		.cfi_endproc
 1065              	.LFE129:
 1067              		.section	.text.enable_spad_bit,"ax",%progbits
 1068              		.align	2
 1069              		.global	enable_spad_bit
 1070              		.thumb
ARM GAS  /tmp/ccHkrygC.s 			page 28


 1071              		.thumb_func
 1073              	enable_spad_bit:
 1074              	.LFB130:
 461:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 462:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 463:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error enable_spad_bit(uint8_t spadArray[], uint32_t size,
 464:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t spadIndex)
 465:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1075              		.loc 1 465 0
 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 32
 1078              		@ frame_needed = 1, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 1080 0000 80B4     		push	{r7}
 1081              	.LCFI37:
 1082              		.cfi_def_cfa_offset 4
 1083              		.cfi_offset 7, -4
 1084 0002 89B0     		sub	sp, sp, #36
 1085              	.LCFI38:
 1086              		.cfi_def_cfa_offset 40
 1087 0004 00AF     		add	r7, sp, #0
 1088              	.LCFI39:
 1089              		.cfi_def_cfa_register 7
 1090 0006 F860     		str	r0, [r7, #12]
 1091 0008 B960     		str	r1, [r7, #8]
 1092 000a 7A60     		str	r2, [r7, #4]
 466:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_ERROR_NONE;
 1093              		.loc 1 466 0
 1094 000c 0023     		movs	r3, #0
 1095 000e FB77     		strb	r3, [r7, #31]
 467:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t cSpadsPerByte = 8;
 1096              		.loc 1 467 0
 1097 0010 0823     		movs	r3, #8
 1098 0012 BB61     		str	r3, [r7, #24]
 468:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t coarseIndex;
 469:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t fineIndex;
 470:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 471:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	coarseIndex = spadIndex / cSpadsPerByte;
 1099              		.loc 1 471 0
 1100 0014 7A68     		ldr	r2, [r7, #4]
 1101 0016 BB69     		ldr	r3, [r7, #24]
 1102 0018 B2FBF3F3 		udiv	r3, r2, r3
 1103 001c 7B61     		str	r3, [r7, #20]
 472:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	fineIndex = spadIndex % cSpadsPerByte;
 1104              		.loc 1 472 0
 1105 001e 7B68     		ldr	r3, [r7, #4]
 1106 0020 BA69     		ldr	r2, [r7, #24]
 1107 0022 B3FBF2F2 		udiv	r2, r3, r2
 1108 0026 B969     		ldr	r1, [r7, #24]
 1109 0028 01FB02F2 		mul	r2, r1, r2
 1110 002c 9B1A     		subs	r3, r3, r2
 1111 002e 3B61     		str	r3, [r7, #16]
 473:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (coarseIndex >= size)
 1112              		.loc 1 473 0
 1113 0030 7A69     		ldr	r2, [r7, #20]
 1114 0032 BB68     		ldr	r3, [r7, #8]
 1115 0034 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccHkrygC.s 			page 29


 1116 0036 02D3     		bcc	.L63
 474:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_ERROR_REF_SPAD_INIT;
 1117              		.loc 1 474 0
 1118 0038 CE23     		movs	r3, #206
 1119 003a FB77     		strb	r3, [r7, #31]
 1120 003c 11E0     		b	.L64
 1121              	.L63:
 475:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	else
 476:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		spadArray[coarseIndex] |= (1 << fineIndex);
 1122              		.loc 1 476 0
 1123 003e FA68     		ldr	r2, [r7, #12]
 1124 0040 7B69     		ldr	r3, [r7, #20]
 1125 0042 1344     		add	r3, r3, r2
 1126 0044 F968     		ldr	r1, [r7, #12]
 1127 0046 7A69     		ldr	r2, [r7, #20]
 1128 0048 0A44     		add	r2, r2, r1
 1129 004a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1130 004c D0B2     		uxtb	r0, r2
 1131 004e 3A69     		ldr	r2, [r7, #16]
 1132 0050 0121     		movs	r1, #1
 1133 0052 01FA02F2 		lsl	r2, r1, r2
 1134 0056 D2B2     		uxtb	r2, r2
 1135 0058 0146     		mov	r1, r0
 1136 005a 0A43     		orrs	r2, r2, r1
 1137 005c D2B2     		uxtb	r2, r2
 1138 005e D2B2     		uxtb	r2, r2
 1139 0060 1A70     		strb	r2, [r3]
 1140              	.L64:
 477:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 478:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1141              		.loc 1 478 0
 1142 0062 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1143 0064 5BB2     		sxtb	r3, r3
 479:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1144              		.loc 1 479 0
 1145 0066 1846     		mov	r0, r3
 1146 0068 2437     		adds	r7, r7, #36
 1147              	.LCFI40:
 1148              		.cfi_def_cfa_offset 4
 1149 006a BD46     		mov	sp, r7
 1150              	.LCFI41:
 1151              		.cfi_def_cfa_register 13
 1152              		@ sp needed
 1153 006c 5DF8047B 		ldr	r7, [sp], #4
 1154              	.LCFI42:
 1155              		.cfi_restore 7
 1156              		.cfi_def_cfa_offset 0
 1157 0070 7047     		bx	lr
 1158              		.cfi_endproc
 1159              	.LFE130:
 1161 0072 00BF     		.section	.text.count_enabled_spads,"ax",%progbits
 1162              		.align	2
 1163              		.global	count_enabled_spads
 1164              		.thumb
 1165              		.thumb_func
 1167              	count_enabled_spads:
 1168              	.LFB131:
ARM GAS  /tmp/ccHkrygC.s 			page 30


 480:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 481:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error count_enabled_spads(uint8_t spadArray[],
 482:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint32_t byteCount, uint32_t maxSpads,
 483:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint32_t *pTotalSpadsEnabled, uint8_t *pIsAperture)
 484:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1169              		.loc 1 484 0
 1170              		.cfi_startproc
 1171              		@ args = 4, pretend = 0, frame = 48
 1172              		@ frame_needed = 1, uses_anonymous_args = 0
 1173              		@ link register save eliminated.
 1174 0000 80B4     		push	{r7}
 1175              	.LCFI43:
 1176              		.cfi_def_cfa_offset 4
 1177              		.cfi_offset 7, -4
 1178 0002 8DB0     		sub	sp, sp, #52
 1179              	.LCFI44:
 1180              		.cfi_def_cfa_offset 56
 1181 0004 00AF     		add	r7, sp, #0
 1182              	.LCFI45:
 1183              		.cfi_def_cfa_register 7
 1184 0006 F860     		str	r0, [r7, #12]
 1185 0008 B960     		str	r1, [r7, #8]
 1186 000a 7A60     		str	r2, [r7, #4]
 1187 000c 3B60     		str	r3, [r7]
 485:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_ERROR_NONE;
 1188              		.loc 1 485 0
 1189 000e 0023     		movs	r3, #0
 1190 0010 87F82F30 		strb	r3, [r7, #47]
 486:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t cSpadsPerByte = 8;
 1191              		.loc 1 486 0
 1192 0014 0823     		movs	r3, #8
 1193 0016 FB61     		str	r3, [r7, #28]
 487:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t lastByte;
 488:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t lastBit;
 489:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t byteIndex = 0;
 1194              		.loc 1 489 0
 1195 0018 0023     		movs	r3, #0
 1196 001a BB62     		str	r3, [r7, #40]
 490:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t bitIndex = 0;
 1197              		.loc 1 490 0
 1198 001c 0023     		movs	r3, #0
 1199 001e 7B62     		str	r3, [r7, #36]
 491:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t tempByte;
 492:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t spadTypeIdentified = 0;
 1200              		.loc 1 492 0
 1201 0020 0023     		movs	r3, #0
 1202 0022 87F82230 		strb	r3, [r7, #34]
 493:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 494:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* The entire array will not be used for spads, therefore the last
 495:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * byte and last bit is determined from the max spads value.
 496:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 497:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 498:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	lastByte = maxSpads / cSpadsPerByte;
 1203              		.loc 1 498 0
 1204 0026 7A68     		ldr	r2, [r7, #4]
 1205 0028 FB69     		ldr	r3, [r7, #28]
 1206 002a B2FBF3F3 		udiv	r3, r2, r3
ARM GAS  /tmp/ccHkrygC.s 			page 31


 1207 002e BB61     		str	r3, [r7, #24]
 499:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	lastBit = maxSpads % cSpadsPerByte;
 1208              		.loc 1 499 0
 1209 0030 7B68     		ldr	r3, [r7, #4]
 1210 0032 FA69     		ldr	r2, [r7, #28]
 1211 0034 B3FBF2F2 		udiv	r2, r3, r2
 1212 0038 F969     		ldr	r1, [r7, #28]
 1213 003a 01FB02F2 		mul	r2, r1, r2
 1214 003e 9B1A     		subs	r3, r3, r2
 1215 0040 7B61     		str	r3, [r7, #20]
 500:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 501:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Check that the max spads value does not exceed the array bounds. */
 502:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (lastByte >= byteCount)
 1216              		.loc 1 502 0
 1217 0042 BA69     		ldr	r2, [r7, #24]
 1218 0044 BB68     		ldr	r3, [r7, #8]
 1219 0046 9A42     		cmp	r2, r3
 1220 0048 02D3     		bcc	.L67
 503:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_ERROR_REF_SPAD_INIT;
 1221              		.loc 1 503 0
 1222 004a CE23     		movs	r3, #206
 1223 004c 87F82F30 		strb	r3, [r7, #47]
 1224              	.L67:
 504:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 505:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	*pTotalSpadsEnabled = 0;
 1225              		.loc 1 505 0
 1226 0050 3B68     		ldr	r3, [r7]
 1227 0052 0022     		movs	r2, #0
 1228 0054 1A60     		str	r2, [r3]
 506:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 507:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Count the bits enabled in the whole bytes */
 508:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (byteIndex = 0; byteIndex <= (lastByte - 1); byteIndex++) {
 1229              		.loc 1 508 0
 1230 0056 0023     		movs	r3, #0
 1231 0058 BB62     		str	r3, [r7, #40]
 1232 005a 35E0     		b	.L68
 1233              	.L73:
 509:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		tempByte = spadArray[byteIndex];
 1234              		.loc 1 509 0
 1235 005c FA68     		ldr	r2, [r7, #12]
 1236 005e BB6A     		ldr	r3, [r7, #40]
 1237 0060 1344     		add	r3, r3, r2
 1238 0062 1B78     		ldrb	r3, [r3]
 1239 0064 87F82330 		strb	r3, [r7, #35]
 510:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 511:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		for (bitIndex = 0; bitIndex <= cSpadsPerByte; bitIndex++) {
 1240              		.loc 1 511 0
 1241 0068 0023     		movs	r3, #0
 1242 006a 7B62     		str	r3, [r7, #36]
 1243 006c 25E0     		b	.L69
 1244              	.L72:
 512:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if ((tempByte & 0x01) == 1) {
 1245              		.loc 1 512 0
 1246 006e 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1247 0072 03F00103 		and	r3, r3, #1
 1248 0076 002B     		cmp	r3, #0
 1249 0078 17D0     		beq	.L70
ARM GAS  /tmp/ccHkrygC.s 			page 32


 513:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				(*pTotalSpadsEnabled)++;
 1250              		.loc 1 513 0
 1251 007a 3B68     		ldr	r3, [r7]
 1252 007c 1B68     		ldr	r3, [r3]
 1253 007e 5A1C     		adds	r2, r3, #1
 1254 0080 3B68     		ldr	r3, [r7]
 1255 0082 1A60     		str	r2, [r3]
 514:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 515:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				if (!spadTypeIdentified) {
 1256              		.loc 1 515 0
 1257 0084 97F82230 		ldrb	r3, [r7, #34]	@ zero_extendqisi2
 1258 0088 002B     		cmp	r3, #0
 1259 008a 0ED1     		bne	.L70
 516:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					*pIsAperture = 1;
 1260              		.loc 1 516 0
 1261 008c BB6B     		ldr	r3, [r7, #56]
 1262 008e 0122     		movs	r2, #1
 1263 0090 1A70     		strb	r2, [r3]
 517:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					if ((byteIndex < 2) && (bitIndex < 4))
 1264              		.loc 1 517 0
 1265 0092 BB6A     		ldr	r3, [r7, #40]
 1266 0094 012B     		cmp	r3, #1
 1267 0096 05D8     		bhi	.L71
 1268              		.loc 1 517 0 is_stmt 0 discriminator 1
 1269 0098 7B6A     		ldr	r3, [r7, #36]
 1270 009a 032B     		cmp	r3, #3
 1271 009c 02D8     		bhi	.L71
 518:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							*pIsAperture = 0;
 1272              		.loc 1 518 0 is_stmt 1
 1273 009e BB6B     		ldr	r3, [r7, #56]
 1274 00a0 0022     		movs	r2, #0
 1275 00a2 1A70     		strb	r2, [r3]
 1276              	.L71:
 519:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					spadTypeIdentified = 1;
 1277              		.loc 1 519 0
 1278 00a4 0123     		movs	r3, #1
 1279 00a6 87F82230 		strb	r3, [r7, #34]
 1280              	.L70:
 520:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				}
 521:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 522:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			tempByte >>= 1;
 1281              		.loc 1 522 0 discriminator 2
 1282 00aa 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1283 00ae 5B08     		lsrs	r3, r3, #1
 1284 00b0 87F82330 		strb	r3, [r7, #35]
 511:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if ((tempByte & 0x01) == 1) {
 1285              		.loc 1 511 0 discriminator 2
 1286 00b4 7B6A     		ldr	r3, [r7, #36]
 1287 00b6 0133     		adds	r3, r3, #1
 1288 00b8 7B62     		str	r3, [r7, #36]
 1289              	.L69:
 511:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if ((tempByte & 0x01) == 1) {
 1290              		.loc 1 511 0 is_stmt 0 discriminator 1
 1291 00ba 7A6A     		ldr	r2, [r7, #36]
 1292 00bc FB69     		ldr	r3, [r7, #28]
 1293 00be 9A42     		cmp	r2, r3
 1294 00c0 D5D9     		bls	.L72
ARM GAS  /tmp/ccHkrygC.s 			page 33


 508:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		tempByte = spadArray[byteIndex];
 1295              		.loc 1 508 0 is_stmt 1 discriminator 2
 1296 00c2 BB6A     		ldr	r3, [r7, #40]
 1297 00c4 0133     		adds	r3, r3, #1
 1298 00c6 BB62     		str	r3, [r7, #40]
 1299              	.L68:
 508:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		tempByte = spadArray[byteIndex];
 1300              		.loc 1 508 0 is_stmt 0 discriminator 1
 1301 00c8 BB69     		ldr	r3, [r7, #24]
 1302 00ca 5A1E     		subs	r2, r3, #1
 1303 00cc BB6A     		ldr	r3, [r7, #40]
 1304 00ce 9A42     		cmp	r2, r3
 1305 00d0 C4D2     		bcs	.L73
 523:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 524:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 525:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 526:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Count the number of bits enabled in the last byte accounting
 527:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * for the fact that not all bits in the byte may be used.
 528:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 529:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	tempByte = spadArray[lastByte];
 1306              		.loc 1 529 0 is_stmt 1
 1307 00d2 FA68     		ldr	r2, [r7, #12]
 1308 00d4 BB69     		ldr	r3, [r7, #24]
 1309 00d6 1344     		add	r3, r3, r2
 1310 00d8 1B78     		ldrb	r3, [r3]
 1311 00da 87F82330 		strb	r3, [r7, #35]
 530:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 531:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (bitIndex = 0; bitIndex <= lastBit; bitIndex++) {
 1312              		.loc 1 531 0
 1313 00de 0023     		movs	r3, #0
 1314 00e0 7B62     		str	r3, [r7, #36]
 1315 00e2 0DE0     		b	.L74
 1316              	.L76:
 532:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if ((tempByte & 0x01) == 1)
 1317              		.loc 1 532 0
 1318 00e4 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1319 00e8 03F00103 		and	r3, r3, #1
 1320 00ec 002B     		cmp	r3, #0
 1321 00ee 04D0     		beq	.L75
 533:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(*pTotalSpadsEnabled)++;
 1322              		.loc 1 533 0
 1323 00f0 3B68     		ldr	r3, [r7]
 1324 00f2 1B68     		ldr	r3, [r3]
 1325 00f4 5A1C     		adds	r2, r3, #1
 1326 00f6 3B68     		ldr	r3, [r7]
 1327 00f8 1A60     		str	r2, [r3]
 1328              	.L75:
 531:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if ((tempByte & 0x01) == 1)
 1329              		.loc 1 531 0 discriminator 2
 1330 00fa 7B6A     		ldr	r3, [r7, #36]
 1331 00fc 0133     		adds	r3, r3, #1
 1332 00fe 7B62     		str	r3, [r7, #36]
 1333              	.L74:
 531:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if ((tempByte & 0x01) == 1)
 1334              		.loc 1 531 0 is_stmt 0 discriminator 1
 1335 0100 7A6A     		ldr	r2, [r7, #36]
 1336 0102 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccHkrygC.s 			page 34


 1337 0104 9A42     		cmp	r2, r3
 1338 0106 EDD9     		bls	.L76
 534:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 535:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 536:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1339              		.loc 1 536 0 is_stmt 1
 1340 0108 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 1341 010c 5BB2     		sxtb	r3, r3
 537:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1342              		.loc 1 537 0
 1343 010e 1846     		mov	r0, r3
 1344 0110 3437     		adds	r7, r7, #52
 1345              	.LCFI46:
 1346              		.cfi_def_cfa_offset 4
 1347 0112 BD46     		mov	sp, r7
 1348              	.LCFI47:
 1349              		.cfi_def_cfa_register 13
 1350              		@ sp needed
 1351 0114 5DF8047B 		ldr	r7, [sp], #4
 1352              	.LCFI48:
 1353              		.cfi_restore 7
 1354              		.cfi_def_cfa_offset 0
 1355 0118 7047     		bx	lr
 1356              		.cfi_endproc
 1357              	.LFE131:
 1359 011a 00BF     		.section	.text.set_ref_spad_map,"ax",%progbits
 1360              		.align	2
 1361              		.global	set_ref_spad_map
 1362              		.thumb
 1363              		.thumb_func
 1365              	set_ref_spad_map:
 1366              	.LFB132:
 538:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 539:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error set_ref_spad_map(VL53L0X_DEV Dev, uint8_t *refSpadArray)
 540:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1367              		.loc 1 540 0
 1368              		.cfi_startproc
 1369              		@ args = 0, pretend = 0, frame = 16
 1370              		@ frame_needed = 1, uses_anonymous_args = 0
 1371 0000 80B5     		push	{r7, lr}
 1372              	.LCFI49:
 1373              		.cfi_def_cfa_offset 8
 1374              		.cfi_offset 7, -8
 1375              		.cfi_offset 14, -4
 1376 0002 84B0     		sub	sp, sp, #16
 1377              	.LCFI50:
 1378              		.cfi_def_cfa_offset 24
 1379 0004 00AF     		add	r7, sp, #0
 1380              	.LCFI51:
 1381              		.cfi_def_cfa_register 7
 1382 0006 7860     		str	r0, [r7, #4]
 1383 0008 3960     		str	r1, [r7]
 541:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_WriteMulti(Dev,
 1384              		.loc 1 541 0
 1385 000a 7868     		ldr	r0, [r7, #4]
 1386 000c B021     		movs	r1, #176
 1387 000e 3A68     		ldr	r2, [r7]
ARM GAS  /tmp/ccHkrygC.s 			page 35


 1388 0010 0623     		movs	r3, #6
 1389 0012 FFF7FEFF 		bl	VL53L0X_WriteMulti
 1390 0016 0346     		mov	r3, r0
 1391 0018 FB73     		strb	r3, [r7, #15]
 542:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_REG_GLOBAL_CONFIG_SPAD_ENABLES_REF_0,
 543:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				refSpadArray, 6);
 544:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1392              		.loc 1 544 0
 1393 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1394 001c 5BB2     		sxtb	r3, r3
 545:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1395              		.loc 1 545 0
 1396 001e 1846     		mov	r0, r3
 1397 0020 1037     		adds	r7, r7, #16
 1398              	.LCFI52:
 1399              		.cfi_def_cfa_offset 8
 1400 0022 BD46     		mov	sp, r7
 1401              	.LCFI53:
 1402              		.cfi_def_cfa_register 13
 1403              		@ sp needed
 1404 0024 80BD     		pop	{r7, pc}
 1405              		.cfi_endproc
 1406              	.LFE132:
 1408 0026 00BF     		.section	.text.get_ref_spad_map,"ax",%progbits
 1409              		.align	2
 1410              		.global	get_ref_spad_map
 1411              		.thumb
 1412              		.thumb_func
 1414              	get_ref_spad_map:
 1415              	.LFB133:
 546:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 547:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error get_ref_spad_map(VL53L0X_DEV Dev, uint8_t *refSpadArray)
 548:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1416              		.loc 1 548 0
 1417              		.cfi_startproc
 1418              		@ args = 0, pretend = 0, frame = 16
 1419              		@ frame_needed = 1, uses_anonymous_args = 0
 1420 0000 80B5     		push	{r7, lr}
 1421              	.LCFI54:
 1422              		.cfi_def_cfa_offset 8
 1423              		.cfi_offset 7, -8
 1424              		.cfi_offset 14, -4
 1425 0002 84B0     		sub	sp, sp, #16
 1426              	.LCFI55:
 1427              		.cfi_def_cfa_offset 24
 1428 0004 00AF     		add	r7, sp, #0
 1429              	.LCFI56:
 1430              		.cfi_def_cfa_register 7
 1431 0006 7860     		str	r0, [r7, #4]
 1432 0008 3960     		str	r1, [r7]
 549:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_ReadMulti(Dev,
 1433              		.loc 1 549 0
 1434 000a 7868     		ldr	r0, [r7, #4]
 1435 000c B021     		movs	r1, #176
 1436 000e 3A68     		ldr	r2, [r7]
 1437 0010 0623     		movs	r3, #6
 1438 0012 FFF7FEFF 		bl	VL53L0X_ReadMulti
ARM GAS  /tmp/ccHkrygC.s 			page 36


 1439 0016 0346     		mov	r3, r0
 1440 0018 FB73     		strb	r3, [r7, #15]
 550:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_REG_GLOBAL_CONFIG_SPAD_ENABLES_REF_0,
 551:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				refSpadArray,
 552:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				6);
 553:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1441              		.loc 1 553 0
 1442 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1443 001c 5BB2     		sxtb	r3, r3
 554:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1444              		.loc 1 554 0
 1445 001e 1846     		mov	r0, r3
 1446 0020 1037     		adds	r7, r7, #16
 1447              	.LCFI57:
 1448              		.cfi_def_cfa_offset 8
 1449 0022 BD46     		mov	sp, r7
 1450              	.LCFI58:
 1451              		.cfi_def_cfa_register 13
 1452              		@ sp needed
 1453 0024 80BD     		pop	{r7, pc}
 1454              		.cfi_endproc
 1455              	.LFE133:
 1457 0026 00BF     		.section	.text.enable_ref_spads,"ax",%progbits
 1458              		.align	2
 1459              		.global	enable_ref_spads
 1460              		.thumb
 1461              		.thumb_func
 1463              	enable_ref_spads:
 1464              	.LFB134:
 555:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 556:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error enable_ref_spads(VL53L0X_DEV Dev,
 557:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint8_t apertureSpads,
 558:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint8_t goodSpadArray[],
 559:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint8_t spadArray[],
 560:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t size,
 561:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t start,
 562:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t offset,
 563:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t spadCount,
 564:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t *lastSpad)
 565:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1465              		.loc 1 565 0
 1466              		.cfi_startproc
 1467              		@ args = 20, pretend = 0, frame = 48
 1468              		@ frame_needed = 1, uses_anonymous_args = 0
 1469 0000 80B5     		push	{r7, lr}
 1470              	.LCFI59:
 1471              		.cfi_def_cfa_offset 8
 1472              		.cfi_offset 7, -8
 1473              		.cfi_offset 14, -4
 1474 0002 8CB0     		sub	sp, sp, #48
 1475              	.LCFI60:
 1476              		.cfi_def_cfa_offset 56
 1477 0004 00AF     		add	r7, sp, #0
 1478              	.LCFI61:
 1479              		.cfi_def_cfa_register 7
 1480 0006 F860     		str	r0, [r7, #12]
 1481 0008 7A60     		str	r2, [r7, #4]
ARM GAS  /tmp/ccHkrygC.s 			page 37


 1482 000a 3B60     		str	r3, [r7]
 1483 000c 0B46     		mov	r3, r1
 1484 000e FB72     		strb	r3, [r7, #11]
 566:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_ERROR_NONE;
 1485              		.loc 1 566 0
 1486 0010 0023     		movs	r3, #0
 1487 0012 87F82F30 		strb	r3, [r7, #47]
 567:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t index;
 568:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t i;
 569:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t nextGoodSpad = offset;
 1488              		.loc 1 569 0
 1489 0016 3B6C     		ldr	r3, [r7, #64]
 1490 0018 FB61     		str	r3, [r7, #28]
 570:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t currentSpad;
 571:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t checkSpadArray[6];
 572:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 573:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 574:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This function takes in a spad array which may or may not have SPADS
 575:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * already enabled and appends from a given offset a requested number
 576:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * of new SPAD enables. The 'good spad map' is applied to
 577:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * determine the next SPADs to enable.
 578:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
 579:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This function applies to only aperture or only non-aperture spads.
 580:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Checks are performed to ensure this.
 581:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 582:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 583:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	currentSpad = offset;
 1491              		.loc 1 583 0
 1492 001a 3B6C     		ldr	r3, [r7, #64]
 1493 001c 3B62     		str	r3, [r7, #32]
 584:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (index = 0; index < spadCount; index++) {
 1494              		.loc 1 584 0
 1495 001e 0023     		movs	r3, #0
 1496 0020 BB62     		str	r3, [r7, #40]
 1497 0022 2BE0     		b	.L83
 1498              	.L87:
 585:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		get_next_good_spad(goodSpadArray, size, currentSpad,
 1499              		.loc 1 585 0
 1500 0024 07F11C03 		add	r3, r7, #28
 1501 0028 7868     		ldr	r0, [r7, #4]
 1502 002a B96B     		ldr	r1, [r7, #56]
 1503 002c 3A6A     		ldr	r2, [r7, #32]
 1504 002e FFF7FEFF 		bl	get_next_good_spad
 586:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			&nextGoodSpad);
 587:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 588:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (nextGoodSpad == -1) {
 1505              		.loc 1 588 0
 1506 0032 FB69     		ldr	r3, [r7, #28]
 1507 0034 B3F1FF3F 		cmp	r3, #-1
 1508 0038 03D1     		bne	.L84
 589:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			status = VL53L0X_ERROR_REF_SPAD_INIT;
 1509              		.loc 1 589 0
 1510 003a CE23     		movs	r3, #206
 1511 003c 87F82F30 		strb	r3, [r7, #47]
 590:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			break;
 1512              		.loc 1 590 0
 1513 0040 20E0     		b	.L85
ARM GAS  /tmp/ccHkrygC.s 			page 38


 1514              	.L84:
 591:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 592:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 593:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Confirm that the next good SPAD is non-aperture */
 594:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (is_aperture(start + nextGoodSpad) != apertureSpads) {
 1515              		.loc 1 594 0
 1516 0042 FB69     		ldr	r3, [r7, #28]
 1517 0044 1A46     		mov	r2, r3
 1518 0046 FB6B     		ldr	r3, [r7, #60]
 1519 0048 1344     		add	r3, r3, r2
 1520 004a 1846     		mov	r0, r3
 1521 004c FFF7FEFF 		bl	is_aperture
 1522 0050 0346     		mov	r3, r0
 1523 0052 1A46     		mov	r2, r3
 1524 0054 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1525 0056 9342     		cmp	r3, r2
 1526 0058 03D0     		beq	.L86
 595:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* if we can't get the required number of good aperture
 596:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * spads from the current quadrant then this is an error
 597:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 */
 598:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			status = VL53L0X_ERROR_REF_SPAD_INIT;
 1527              		.loc 1 598 0
 1528 005a CE23     		movs	r3, #206
 1529 005c 87F82F30 		strb	r3, [r7, #47]
 599:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			break;
 1530              		.loc 1 599 0
 1531 0060 10E0     		b	.L85
 1532              	.L86:
 600:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 601:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		currentSpad = (uint32_t)nextGoodSpad;
 1533              		.loc 1 601 0 discriminator 2
 1534 0062 FB69     		ldr	r3, [r7, #28]
 1535 0064 3B62     		str	r3, [r7, #32]
 602:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		enable_spad_bit(spadArray, size, currentSpad);
 1536              		.loc 1 602 0 discriminator 2
 1537 0066 3868     		ldr	r0, [r7]
 1538 0068 B96B     		ldr	r1, [r7, #56]
 1539 006a 3A6A     		ldr	r2, [r7, #32]
 1540 006c FFF7FEFF 		bl	enable_spad_bit
 603:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		currentSpad++;
 1541              		.loc 1 603 0 discriminator 2
 1542 0070 3B6A     		ldr	r3, [r7, #32]
 1543 0072 0133     		adds	r3, r3, #1
 1544 0074 3B62     		str	r3, [r7, #32]
 584:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		get_next_good_spad(goodSpadArray, size, currentSpad,
 1545              		.loc 1 584 0 discriminator 2
 1546 0076 BB6A     		ldr	r3, [r7, #40]
 1547 0078 0133     		adds	r3, r3, #1
 1548 007a BB62     		str	r3, [r7, #40]
 1549              	.L83:
 584:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		get_next_good_spad(goodSpadArray, size, currentSpad,
 1550              		.loc 1 584 0 is_stmt 0 discriminator 1
 1551 007c BA6A     		ldr	r2, [r7, #40]
 1552 007e 7B6C     		ldr	r3, [r7, #68]
 1553 0080 9A42     		cmp	r2, r3
 1554 0082 CFD3     		bcc	.L87
 1555              	.L85:
ARM GAS  /tmp/ccHkrygC.s 			page 39


 604:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 605:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	*lastSpad = currentSpad;
 1556              		.loc 1 605 0 is_stmt 1
 1557 0084 BB6C     		ldr	r3, [r7, #72]
 1558 0086 3A6A     		ldr	r2, [r7, #32]
 1559 0088 1A60     		str	r2, [r3]
 606:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 607:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1560              		.loc 1 607 0
 1561 008a 97F92F30 		ldrsb	r3, [r7, #47]
 1562 008e 002B     		cmp	r3, #0
 1563 0090 06D1     		bne	.L88
 608:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = set_ref_spad_map(Dev, spadArray);
 1564              		.loc 1 608 0
 1565 0092 F868     		ldr	r0, [r7, #12]
 1566 0094 3968     		ldr	r1, [r7]
 1567 0096 FFF7FEFF 		bl	set_ref_spad_map
 1568 009a 0346     		mov	r3, r0
 1569 009c 87F82F30 		strb	r3, [r7, #47]
 1570              	.L88:
 609:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 610:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 611:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE) {
 1571              		.loc 1 611 0
 1572 00a0 97F92F30 		ldrsb	r3, [r7, #47]
 1573 00a4 002B     		cmp	r3, #0
 1574 00a6 21D1     		bne	.L89
 612:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = get_ref_spad_map(Dev, checkSpadArray);
 1575              		.loc 1 612 0
 1576 00a8 07F11403 		add	r3, r7, #20
 1577 00ac F868     		ldr	r0, [r7, #12]
 1578 00ae 1946     		mov	r1, r3
 1579 00b0 FFF7FEFF 		bl	get_ref_spad_map
 1580 00b4 0346     		mov	r3, r0
 1581 00b6 87F82F30 		strb	r3, [r7, #47]
 613:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 614:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		i = 0;
 1582              		.loc 1 614 0
 1583 00ba 0023     		movs	r3, #0
 1584 00bc 7B62     		str	r3, [r7, #36]
 615:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 616:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Compare spad maps. If not equal report error. */
 617:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		while (i < size) {
 1585              		.loc 1 617 0
 1586 00be 11E0     		b	.L90
 1587              	.L92:
 618:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (spadArray[i] != checkSpadArray[i]) {
 1588              		.loc 1 618 0
 1589 00c0 3A68     		ldr	r2, [r7]
 1590 00c2 7B6A     		ldr	r3, [r7, #36]
 1591 00c4 1344     		add	r3, r3, r2
 1592 00c6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1593 00c8 07F11401 		add	r1, r7, #20
 1594 00cc 7B6A     		ldr	r3, [r7, #36]
 1595 00ce 0B44     		add	r3, r3, r1
 1596 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1597 00d2 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccHkrygC.s 			page 40


 1598 00d4 03D0     		beq	.L91
 619:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				status = VL53L0X_ERROR_REF_SPAD_INIT;
 1599              		.loc 1 619 0
 1600 00d6 CE23     		movs	r3, #206
 1601 00d8 87F82F30 		strb	r3, [r7, #47]
 620:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 1602              		.loc 1 620 0
 1603 00dc 06E0     		b	.L89
 1604              	.L91:
 621:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 622:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			i++;
 1605              		.loc 1 622 0
 1606 00de 7B6A     		ldr	r3, [r7, #36]
 1607 00e0 0133     		adds	r3, r3, #1
 1608 00e2 7B62     		str	r3, [r7, #36]
 1609              	.L90:
 617:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (spadArray[i] != checkSpadArray[i]) {
 1610              		.loc 1 617 0
 1611 00e4 7A6A     		ldr	r2, [r7, #36]
 1612 00e6 BB6B     		ldr	r3, [r7, #56]
 1613 00e8 9A42     		cmp	r2, r3
 1614 00ea E9D3     		bcc	.L92
 1615              	.L89:
 623:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 624:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 625:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1616              		.loc 1 625 0
 1617 00ec 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 1618 00f0 5BB2     		sxtb	r3, r3
 626:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1619              		.loc 1 626 0
 1620 00f2 1846     		mov	r0, r3
 1621 00f4 3037     		adds	r7, r7, #48
 1622              	.LCFI62:
 1623              		.cfi_def_cfa_offset 8
 1624 00f6 BD46     		mov	sp, r7
 1625              	.LCFI63:
 1626              		.cfi_def_cfa_register 13
 1627              		@ sp needed
 1628 00f8 80BD     		pop	{r7, pc}
 1629              		.cfi_endproc
 1630              	.LFE134:
 1632 00fa 00BF     		.section	.text.perform_ref_signal_measurement,"ax",%progbits
 1633              		.align	2
 1634              		.global	perform_ref_signal_measurement
 1635              		.thumb
 1636              		.thumb_func
 1638              	perform_ref_signal_measurement:
 1639              	.LFB135:
 627:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 628:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 629:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error perform_ref_signal_measurement(VL53L0X_DEV Dev,
 630:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint16_t *refSignalRate)
 631:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1640              		.loc 1 631 0
 1641              		.cfi_startproc
 1642              		@ args = 0, pretend = 0, frame = 40
ARM GAS  /tmp/ccHkrygC.s 			page 41


 1643              		@ frame_needed = 1, uses_anonymous_args = 0
 1644 0000 80B5     		push	{r7, lr}
 1645              	.LCFI64:
 1646              		.cfi_def_cfa_offset 8
 1647              		.cfi_offset 7, -8
 1648              		.cfi_offset 14, -4
 1649 0002 8AB0     		sub	sp, sp, #40
 1650              	.LCFI65:
 1651              		.cfi_def_cfa_offset 48
 1652 0004 00AF     		add	r7, sp, #0
 1653              	.LCFI66:
 1654              		.cfi_def_cfa_register 7
 1655 0006 7860     		str	r0, [r7, #4]
 1656 0008 3960     		str	r1, [r7]
 632:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error status = VL53L0X_ERROR_NONE;
 1657              		.loc 1 632 0
 1658 000a 0023     		movs	r3, #0
 1659 000c 87F82730 		strb	r3, [r7, #39]
 633:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_RangingMeasurementData_t rangingMeasurementData;
 634:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 635:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t SequenceConfig = 0;
 1660              		.loc 1 635 0
 1661 0010 0023     		movs	r3, #0
 1662 0012 87F82630 		strb	r3, [r7, #38]
 636:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 637:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* store the value of the sequence config,
 638:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * this will be reset before the end of the function
 639:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 640:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 641:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	SequenceConfig = PALDevDataGet(Dev, SequenceConfig);
 1663              		.loc 1 641 0
 1664 0016 7B68     		ldr	r3, [r7, #4]
 1665 0018 93F83031 		ldrb	r3, [r3, #304]
 1666 001c 87F82630 		strb	r3, [r7, #38]
 642:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 643:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 644:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This function performs a reference signal rate measurement.
 645:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 646:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1667              		.loc 1 646 0
 1668 0020 97F92730 		ldrsb	r3, [r7, #39]
 1669 0024 002B     		cmp	r3, #0
 1670 0026 07D1     		bne	.L95
 647:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_WrByte(Dev,
 1671              		.loc 1 647 0
 1672 0028 7868     		ldr	r0, [r7, #4]
 1673 002a 0121     		movs	r1, #1
 1674 002c C022     		movs	r2, #192
 1675 002e FFF7FEFF 		bl	VL53L0X_WrByte
 1676 0032 0346     		mov	r3, r0
 1677 0034 87F82730 		strb	r3, [r7, #39]
 1678              	.L95:
 648:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG, 0xC0);
 649:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 650:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1679              		.loc 1 650 0
 1680 0038 97F92730 		ldrsb	r3, [r7, #39]
ARM GAS  /tmp/ccHkrygC.s 			page 42


 1681 003c 002B     		cmp	r3, #0
 1682 003e 08D1     		bne	.L96
 651:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_PerformSingleRangingMeasurement(Dev,
 1683              		.loc 1 651 0
 1684 0040 07F10803 		add	r3, r7, #8
 1685 0044 7868     		ldr	r0, [r7, #4]
 1686 0046 1946     		mov	r1, r3
 1687 0048 FFF7FEFF 		bl	VL53L0X_PerformSingleRangingMeasurement
 1688 004c 0346     		mov	r3, r0
 1689 004e 87F82730 		strb	r3, [r7, #39]
 1690              	.L96:
 652:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				&rangingMeasurementData);
 653:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 654:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1691              		.loc 1 654 0
 1692 0052 97F92730 		ldrsb	r3, [r7, #39]
 1693 0056 002B     		cmp	r3, #0
 1694 0058 07D1     		bne	.L97
 655:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_WrByte(Dev, 0xFF, 0x01);
 1695              		.loc 1 655 0
 1696 005a 7868     		ldr	r0, [r7, #4]
 1697 005c FF21     		movs	r1, #255
 1698 005e 0122     		movs	r2, #1
 1699 0060 FFF7FEFF 		bl	VL53L0X_WrByte
 1700 0064 0346     		mov	r3, r0
 1701 0066 87F82730 		strb	r3, [r7, #39]
 1702              	.L97:
 656:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 657:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1703              		.loc 1 657 0
 1704 006a 97F92730 		ldrsb	r3, [r7, #39]
 1705 006e 002B     		cmp	r3, #0
 1706 0070 07D1     		bne	.L98
 658:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_RdWord(Dev,
 1707              		.loc 1 658 0
 1708 0072 7868     		ldr	r0, [r7, #4]
 1709 0074 B621     		movs	r1, #182
 1710 0076 3A68     		ldr	r2, [r7]
 1711 0078 FFF7FEFF 		bl	VL53L0X_RdWord
 1712 007c 0346     		mov	r3, r0
 1713 007e 87F82730 		strb	r3, [r7, #39]
 1714              	.L98:
 659:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_RESULT_PEAK_SIGNAL_RATE_REF,
 660:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			refSignalRate);
 661:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 662:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE)
 1715              		.loc 1 662 0
 1716 0082 97F92730 		ldrsb	r3, [r7, #39]
 1717 0086 002B     		cmp	r3, #0
 1718 0088 07D1     		bne	.L99
 663:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_WrByte(Dev, 0xFF, 0x00);
 1719              		.loc 1 663 0
 1720 008a 7868     		ldr	r0, [r7, #4]
 1721 008c FF21     		movs	r1, #255
 1722 008e 0022     		movs	r2, #0
 1723 0090 FFF7FEFF 		bl	VL53L0X_WrByte
 1724 0094 0346     		mov	r3, r0
ARM GAS  /tmp/ccHkrygC.s 			page 43


 1725 0096 87F82730 		strb	r3, [r7, #39]
 1726              	.L99:
 664:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 665:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (status == VL53L0X_ERROR_NONE) {
 1727              		.loc 1 665 0
 1728 009a 97F92730 		ldrsb	r3, [r7, #39]
 1729 009e 002B     		cmp	r3, #0
 1730 00a0 12D1     		bne	.L100
 666:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* restore the previous Sequence Config */
 667:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG,
 1731              		.loc 1 667 0
 1732 00a2 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 1733 00a6 7868     		ldr	r0, [r7, #4]
 1734 00a8 0121     		movs	r1, #1
 1735 00aa 1A46     		mov	r2, r3
 1736 00ac FFF7FEFF 		bl	VL53L0X_WrByte
 1737 00b0 0346     		mov	r3, r0
 1738 00b2 87F82730 		strb	r3, [r7, #39]
 668:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				SequenceConfig);
 669:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (status == VL53L0X_ERROR_NONE)
 1739              		.loc 1 669 0
 1740 00b6 97F92730 		ldrsb	r3, [r7, #39]
 1741 00ba 002B     		cmp	r3, #0
 1742 00bc 04D1     		bne	.L100
 670:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			PALDevDataSet(Dev, SequenceConfig, SequenceConfig);
 1743              		.loc 1 670 0
 1744 00be 7B68     		ldr	r3, [r7, #4]
 1745 00c0 97F82620 		ldrb	r2, [r7, #38]
 1746 00c4 83F83021 		strb	r2, [r3, #304]
 1747              	.L100:
 671:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 672:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 673:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return status;
 1748              		.loc 1 673 0
 1749 00c8 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 1750 00cc 5BB2     		sxtb	r3, r3
 674:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 1751              		.loc 1 674 0
 1752 00ce 1846     		mov	r0, r3
 1753 00d0 2837     		adds	r7, r7, #40
 1754              	.LCFI67:
 1755              		.cfi_def_cfa_offset 8
 1756 00d2 BD46     		mov	sp, r7
 1757              	.LCFI68:
 1758              		.cfi_def_cfa_register 13
 1759              		@ sp needed
 1760 00d4 80BD     		pop	{r7, pc}
 1761              		.cfi_endproc
 1762              	.LFE135:
 1764 00d6 00BF     		.section	.text.VL53L0X_perform_ref_spad_management,"ax",%progbits
 1765              		.align	2
 1766              		.global	VL53L0X_perform_ref_spad_management
 1767              		.thumb
 1768              		.thumb_func
 1770              	VL53L0X_perform_ref_spad_management:
 1771              	.LFB136:
 675:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
ARM GAS  /tmp/ccHkrygC.s 			page 44


 676:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_ref_spad_management(VL53L0X_DEV Dev,
 677:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint32_t *refSpadCount,
 678:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				uint8_t *isApertureSpads)
 679:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 1772              		.loc 1 679 0
 1773              		.cfi_startproc
 1774              		@ args = 0, pretend = 0, frame = 88
 1775              		@ frame_needed = 1, uses_anonymous_args = 0
 1776 0000 B0B5     		push	{r4, r5, r7, lr}
 1777              	.LCFI69:
 1778              		.cfi_def_cfa_offset 16
 1779              		.cfi_offset 4, -16
 1780              		.cfi_offset 5, -12
 1781              		.cfi_offset 7, -8
 1782              		.cfi_offset 14, -4
 1783 0002 9CB0     		sub	sp, sp, #112
 1784              	.LCFI70:
 1785              		.cfi_def_cfa_offset 128
 1786 0004 06AF     		add	r7, sp, #24
 1787              	.LCFI71:
 1788              		.cfi_def_cfa 7, 104
 1789 0006 F860     		str	r0, [r7, #12]
 1790 0008 B960     		str	r1, [r7, #8]
 1791 000a 7A60     		str	r2, [r7, #4]
 680:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 1792              		.loc 1 680 0
 1793 000c 0023     		movs	r3, #0
 1794 000e 87F85730 		strb	r3, [r7, #87]
 681:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t lastSpadArray[6];
 682:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t startSelect = 0xB4;
 1795              		.loc 1 682 0
 1796 0012 B423     		movs	r3, #180
 1797 0014 87F83A30 		strb	r3, [r7, #58]
 683:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t minimumSpadCount = 3;
 1798              		.loc 1 683 0
 1799 0018 0323     		movs	r3, #3
 1800 001a 7B63     		str	r3, [r7, #52]
 684:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t maxSpadCount = 44;
 1801              		.loc 1 684 0
 1802 001c 2C23     		movs	r3, #44
 1803 001e 3B63     		str	r3, [r7, #48]
 685:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t currentSpadIndex = 0;
 1804              		.loc 1 685 0
 1805 0020 0023     		movs	r3, #0
 1806 0022 3B65     		str	r3, [r7, #80]
 686:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t lastSpadIndex = 0;
 1807              		.loc 1 686 0
 1808 0024 0023     		movs	r3, #0
 1809 0026 BB61     		str	r3, [r7, #24]
 687:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	int32_t nextGoodSpad = 0;
 1810              		.loc 1 687 0
 1811 0028 0023     		movs	r3, #0
 1812 002a 7B61     		str	r3, [r7, #20]
 688:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t targetRefRate = 0x0A00; /* 20 MCPS in 9:7 format */
 1813              		.loc 1 688 0
 1814 002c 4FF42063 		mov	r3, #2560
 1815 0030 FB85     		strh	r3, [r7, #46]	@ movhi
ARM GAS  /tmp/ccHkrygC.s 			page 45


 689:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint16_t peakSignalRateRef;
 690:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t needAptSpads = 0;
 1816              		.loc 1 690 0
 1817 0032 0023     		movs	r3, #0
 1818 0034 FB64     		str	r3, [r7, #76]
 691:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t index = 0;
 1819              		.loc 1 691 0
 1820 0036 0023     		movs	r3, #0
 1821 0038 BB64     		str	r3, [r7, #72]
 692:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t spadArraySize = 6;
 1822              		.loc 1 692 0
 1823 003a 0623     		movs	r3, #6
 1824 003c BB62     		str	r3, [r7, #40]
 693:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t signalRateDiff = 0;
 1825              		.loc 1 693 0
 1826 003e 0023     		movs	r3, #0
 1827 0040 7B62     		str	r3, [r7, #36]
 694:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t lastSignalRateDiff = 0;
 1828              		.loc 1 694 0
 1829 0042 0023     		movs	r3, #0
 1830 0044 7B64     		str	r3, [r7, #68]
 695:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t complete = 0;
 1831              		.loc 1 695 0
 1832 0046 0023     		movs	r3, #0
 1833 0048 87F84330 		strb	r3, [r7, #67]
 696:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettings = 0;
 1834              		.loc 1 696 0
 1835 004c 0023     		movs	r3, #0
 1836 004e 7B74     		strb	r3, [r7, #17]
 697:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCal = 0;
 1837              		.loc 1 697 0
 1838 0050 0023     		movs	r3, #0
 1839 0052 3B74     		strb	r3, [r7, #16]
 698:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t refSpadCount_int = 0;
 1840              		.loc 1 698 0
 1841 0054 0023     		movs	r3, #0
 1842 0056 FB63     		str	r3, [r7, #60]
 699:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t	 isApertureSpads_int = 0;
 1843              		.loc 1 699 0
 1844 0058 0023     		movs	r3, #0
 1845 005a 87F83B30 		strb	r3, [r7, #59]
 700:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 701:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 702:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * The reference SPAD initialization procedure determines the minimum
 703:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * amount of reference spads to be enables to achieve a target reference
 704:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * signal rate and should be performed once during initialization.
 705:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
 706:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Either aperture or non-aperture spads are applied but never both.
 707:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Firstly non-aperture spads are set, begining with 5 spads, and
 708:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * increased one spad at a time until the closest measurement to the
 709:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * target rate is achieved.
 710:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
 711:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * If the target rate is exceeded when 5 non-aperture spads are enabled,
 712:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * initialization is performed instead with aperture spads.
 713:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
 714:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * When setting spads, a 'Good Spad Map' is applied.
 715:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 *
ARM GAS  /tmp/ccHkrygC.s 			page 46


 716:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This procedure operates within a SPAD window of interest of a maximum
 717:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * 44 spads.
 718:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * The start point is currently fixed to 180, which lies towards the end
 719:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * of the non-aperture quadrant and runs in to the adjacent aperture
 720:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * quadrant.
 721:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 722:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 723:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 724:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	targetRefRate = PALDevDataGet(Dev, targetRefRate);
 1846              		.loc 1 724 0
 1847 005e FB68     		ldr	r3, [r7, #12]
 1848 0060 B3F83C31 		ldrh	r3, [r3, #316]	@ movhi
 1849 0064 FB85     		strh	r3, [r7, #46]	@ movhi
 725:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 726:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 727:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Initialize Spad arrays.
 728:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Currently the good spad map is initialised to 'All good'.
 729:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This is a short term implementation. The good spad map will be
 730:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * provided as an input.
 731:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * Note that there are 6 bytes. Only the first 44 bits will be used to
 732:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * represent spads.
 733:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 734:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (index = 0; index < spadArraySize; index++)
 1850              		.loc 1 734 0
 1851 0066 0023     		movs	r3, #0
 1852 0068 BB64     		str	r3, [r7, #72]
 1853 006a 09E0     		b	.L103
 1854              	.L104:
 735:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 1855              		.loc 1 735 0 discriminator 3
 1856 006c FA68     		ldr	r2, [r7, #12]
 1857 006e BB6C     		ldr	r3, [r7, #72]
 1858 0070 1344     		add	r3, r3, r2
 1859 0072 03F59073 		add	r3, r3, #288
 1860 0076 0022     		movs	r2, #0
 1861 0078 1A71     		strb	r2, [r3, #4]
 734:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 1862              		.loc 1 734 0 discriminator 3
 1863 007a BB6C     		ldr	r3, [r7, #72]
 1864 007c 0133     		adds	r3, r3, #1
 1865 007e BB64     		str	r3, [r7, #72]
 1866              	.L103:
 734:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 1867              		.loc 1 734 0 is_stmt 0 discriminator 1
 1868 0080 BA6C     		ldr	r2, [r7, #72]
 1869 0082 BB6A     		ldr	r3, [r7, #40]
 1870 0084 9A42     		cmp	r2, r3
 1871 0086 F1D3     		bcc	.L104
 736:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 737:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 738:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_WrByte(Dev, 0xFF, 0x01);
 1872              		.loc 1 738 0 is_stmt 1
 1873 0088 F868     		ldr	r0, [r7, #12]
 1874 008a FF21     		movs	r1, #255
 1875 008c 0122     		movs	r2, #1
 1876 008e FFF7FEFF 		bl	VL53L0X_WrByte
 1877 0092 0346     		mov	r3, r0
ARM GAS  /tmp/ccHkrygC.s 			page 47


 1878 0094 87F85730 		strb	r3, [r7, #87]
 739:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 740:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1879              		.loc 1 740 0
 1880 0098 97F95730 		ldrsb	r3, [r7, #87]
 1881 009c 002B     		cmp	r3, #0
 1882 009e 07D1     		bne	.L105
 741:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 1883              		.loc 1 741 0
 1884 00a0 F868     		ldr	r0, [r7, #12]
 1885 00a2 4F21     		movs	r1, #79
 1886 00a4 0022     		movs	r2, #0
 1887 00a6 FFF7FEFF 		bl	VL53L0X_WrByte
 1888 00aa 0346     		mov	r3, r0
 1889 00ac 87F85730 		strb	r3, [r7, #87]
 1890              	.L105:
 742:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_DYNAMIC_SPAD_REF_EN_START_OFFSET, 0x00);
 743:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 744:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1891              		.loc 1 744 0
 1892 00b0 97F95730 		ldrsb	r3, [r7, #87]
 1893 00b4 002B     		cmp	r3, #0
 1894 00b6 07D1     		bne	.L106
 745:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 1895              		.loc 1 745 0
 1896 00b8 F868     		ldr	r0, [r7, #12]
 1897 00ba 4E21     		movs	r1, #78
 1898 00bc 2C22     		movs	r2, #44
 1899 00be FFF7FEFF 		bl	VL53L0X_WrByte
 1900 00c2 0346     		mov	r3, r0
 1901 00c4 87F85730 		strb	r3, [r7, #87]
 1902              	.L106:
 746:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_DYNAMIC_SPAD_NUM_REQUESTED_REF_SPAD, 0x2C);
 747:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 748:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1903              		.loc 1 748 0
 1904 00c8 97F95730 		ldrsb	r3, [r7, #87]
 1905 00cc 002B     		cmp	r3, #0
 1906 00ce 07D1     		bne	.L107
 749:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, 0xFF, 0x00);
 1907              		.loc 1 749 0
 1908 00d0 F868     		ldr	r0, [r7, #12]
 1909 00d2 FF21     		movs	r1, #255
 1910 00d4 0022     		movs	r2, #0
 1911 00d6 FFF7FEFF 		bl	VL53L0X_WrByte
 1912 00da 0346     		mov	r3, r0
 1913 00dc 87F85730 		strb	r3, [r7, #87]
 1914              	.L107:
 750:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 751:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1915              		.loc 1 751 0
 1916 00e0 97F95730 		ldrsb	r3, [r7, #87]
 1917 00e4 002B     		cmp	r3, #0
 1918 00e6 09D1     		bne	.L108
 752:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 1919              		.loc 1 752 0
 1920 00e8 97F83A30 		ldrb	r3, [r7, #58]	@ zero_extendqisi2
ARM GAS  /tmp/ccHkrygC.s 			page 48


 1921 00ec F868     		ldr	r0, [r7, #12]
 1922 00ee B621     		movs	r1, #182
 1923 00f0 1A46     		mov	r2, r3
 1924 00f2 FFF7FEFF 		bl	VL53L0X_WrByte
 1925 00f6 0346     		mov	r3, r0
 1926 00f8 87F85730 		strb	r3, [r7, #87]
 1927              	.L108:
 753:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_GLOBAL_CONFIG_REF_EN_START_SELECT,
 754:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			startSelect);
 755:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 756:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 757:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1928              		.loc 1 757 0
 1929 00fc 97F95730 		ldrsb	r3, [r7, #87]
 1930 0100 002B     		cmp	r3, #0
 1931 0102 07D1     		bne	.L109
 758:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 1932              		.loc 1 758 0
 1933 0104 F868     		ldr	r0, [r7, #12]
 1934 0106 8021     		movs	r1, #128
 1935 0108 0022     		movs	r2, #0
 1936 010a FFF7FEFF 		bl	VL53L0X_WrByte
 1937 010e 0346     		mov	r3, r0
 1938 0110 87F85730 		strb	r3, [r7, #87]
 1939              	.L109:
 759:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_REG_POWER_MANAGEMENT_GO1_POWER_FORCE, 0);
 760:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 761:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Perform ref calibration */
 762:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 1940              		.loc 1 762 0
 1941 0114 97F95730 		ldrsb	r3, [r7, #87]
 1942 0118 002B     		cmp	r3, #0
 1943 011a 0CD1     		bne	.L110
 763:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_perform_ref_calibration(Dev, &VhvSettings,
 1944              		.loc 1 763 0
 1945 011c 07F11102 		add	r2, r7, #17
 1946 0120 07F11003 		add	r3, r7, #16
 1947 0124 F868     		ldr	r0, [r7, #12]
 1948 0126 1146     		mov	r1, r2
 1949 0128 1A46     		mov	r2, r3
 1950 012a 0023     		movs	r3, #0
 1951 012c FFF7FEFF 		bl	VL53L0X_perform_ref_calibration
 1952 0130 0346     		mov	r3, r0
 1953 0132 87F85730 		strb	r3, [r7, #87]
 1954              	.L110:
 764:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			&PhaseCal, 0);
 765:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 766:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 1955              		.loc 1 766 0
 1956 0136 97F95730 		ldrsb	r3, [r7, #87]
 1957 013a 002B     		cmp	r3, #0
 1958 013c 21D1     		bne	.L111
 767:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Enable Minimum NON-APERTURE Spads */
 768:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		currentSpadIndex = 0;
 1959              		.loc 1 768 0
 1960 013e 0023     		movs	r3, #0
 1961 0140 3B65     		str	r3, [r7, #80]
ARM GAS  /tmp/ccHkrygC.s 			page 49


 769:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		lastSpadIndex = currentSpadIndex;
 1962              		.loc 1 769 0
 1963 0142 3B6D     		ldr	r3, [r7, #80]
 1964 0144 BB61     		str	r3, [r7, #24]
 770:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		needAptSpads = 0;
 1965              		.loc 1 770 0
 1966 0146 0023     		movs	r3, #0
 1967 0148 FB64     		str	r3, [r7, #76]
 771:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = enable_ref_spads(Dev,
 1968              		.loc 1 771 0
 1969 014a FB6C     		ldr	r3, [r7, #76]
 1970 014c D9B2     		uxtb	r1, r3
 772:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					needAptSpads,
 773:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefGoodSpadMap,
 1971              		.loc 1 773 0
 1972 014e FB68     		ldr	r3, [r7, #12]
 1973 0150 03F59575 		add	r5, r3, #298
 774:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 1974              		.loc 1 774 0
 1975 0154 FB68     		ldr	r3, [r7, #12]
 1976 0156 03F59274 		add	r4, r3, #292
 771:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = enable_ref_spads(Dev,
 1977              		.loc 1 771 0
 1978 015a 97F83A30 		ldrb	r3, [r7, #58]	@ zero_extendqisi2
 1979 015e BA6A     		ldr	r2, [r7, #40]
 1980 0160 0092     		str	r2, [sp]
 1981 0162 0193     		str	r3, [sp, #4]
 1982 0164 3B6D     		ldr	r3, [r7, #80]
 1983 0166 0293     		str	r3, [sp, #8]
 1984 0168 7B6B     		ldr	r3, [r7, #52]
 1985 016a 0393     		str	r3, [sp, #12]
 1986 016c 07F11803 		add	r3, r7, #24
 1987 0170 0493     		str	r3, [sp, #16]
 1988 0172 F868     		ldr	r0, [r7, #12]
 1989 0174 2A46     		mov	r2, r5
 1990 0176 2346     		mov	r3, r4
 1991 0178 FFF7FEFF 		bl	enable_ref_spads
 1992 017c 0346     		mov	r3, r0
 1993 017e 87F85730 		strb	r3, [r7, #87]
 1994              	.L111:
 775:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					spadArraySize,
 776:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					startSelect,
 777:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					currentSpadIndex,
 778:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					minimumSpadCount,
 779:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					&lastSpadIndex);
 780:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 781:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 782:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 1995              		.loc 1 782 0
 1996 0182 97F95730 		ldrsb	r3, [r7, #87]
 1997 0186 002B     		cmp	r3, #0
 1998 0188 73D1     		bne	.L112
 783:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		currentSpadIndex = lastSpadIndex;
 1999              		.loc 1 783 0
 2000 018a BB69     		ldr	r3, [r7, #24]
 2001 018c 3B65     		str	r3, [r7, #80]
 784:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
ARM GAS  /tmp/ccHkrygC.s 			page 50


 785:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = perform_ref_signal_measurement(Dev,
 2002              		.loc 1 785 0
 2003 018e 07F11203 		add	r3, r7, #18
 2004 0192 F868     		ldr	r0, [r7, #12]
 2005 0194 1946     		mov	r1, r3
 2006 0196 FFF7FEFF 		bl	perform_ref_signal_measurement
 2007 019a 0346     		mov	r3, r0
 2008 019c 87F85730 		strb	r3, [r7, #87]
 786:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			&peakSignalRateRef);
 787:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if ((Status == VL53L0X_ERROR_NONE) &&
 2009              		.loc 1 787 0
 2010 01a0 97F95730 		ldrsb	r3, [r7, #87]
 2011 01a4 002B     		cmp	r3, #0
 2012 01a6 62D1     		bne	.L113
 788:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(peakSignalRateRef > targetRefRate)) {
 2013              		.loc 1 788 0 discriminator 1
 2014 01a8 7B8A     		ldrh	r3, [r7, #18]
 787:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(peakSignalRateRef > targetRefRate)) {
 2015              		.loc 1 787 0 discriminator 1
 2016 01aa FA8D     		ldrh	r2, [r7, #46]
 2017 01ac 9A42     		cmp	r2, r3
 2018 01ae 5ED2     		bcs	.L113
 789:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Signal rate measurement too high,
 790:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * switch to APERTURE SPADs */
 791:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 792:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			for (index = 0; index < spadArraySize; index++)
 2019              		.loc 1 792 0
 2020 01b0 0023     		movs	r3, #0
 2021 01b2 BB64     		str	r3, [r7, #72]
 2022 01b4 09E0     		b	.L114
 2023              	.L115:
 793:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2024              		.loc 1 793 0 discriminator 3
 2025 01b6 FA68     		ldr	r2, [r7, #12]
 2026 01b8 BB6C     		ldr	r3, [r7, #72]
 2027 01ba 1344     		add	r3, r3, r2
 2028 01bc 03F59073 		add	r3, r3, #288
 2029 01c0 0022     		movs	r2, #0
 2030 01c2 1A71     		strb	r2, [r3, #4]
 792:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2031              		.loc 1 792 0 discriminator 3
 2032 01c4 BB6C     		ldr	r3, [r7, #72]
 2033 01c6 0133     		adds	r3, r3, #1
 2034 01c8 BB64     		str	r3, [r7, #72]
 2035              	.L114:
 792:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2036              		.loc 1 792 0 is_stmt 0 discriminator 1
 2037 01ca BA6C     		ldr	r2, [r7, #72]
 2038 01cc BB6A     		ldr	r3, [r7, #40]
 2039 01ce 9A42     		cmp	r2, r3
 2040 01d0 F1D3     		bcc	.L115
 794:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 795:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 796:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Increment to the first APERTURE spad */
 797:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			while ((is_aperture(startSelect + currentSpadIndex)
 2041              		.loc 1 797 0 is_stmt 1
 2042 01d2 02E0     		b	.L116
ARM GAS  /tmp/ccHkrygC.s 			page 51


 2043              	.L118:
 798:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				== 0) && (currentSpadIndex < maxSpadCount)) {
 799:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				currentSpadIndex++;
 2044              		.loc 1 799 0
 2045 01d4 3B6D     		ldr	r3, [r7, #80]
 2046 01d6 0133     		adds	r3, r3, #1
 2047 01d8 3B65     		str	r3, [r7, #80]
 2048              	.L116:
 797:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				== 0) && (currentSpadIndex < maxSpadCount)) {
 2049              		.loc 1 797 0
 2050 01da 97F83A20 		ldrb	r2, [r7, #58]	@ zero_extendqisi2
 2051 01de 3B6D     		ldr	r3, [r7, #80]
 2052 01e0 1344     		add	r3, r3, r2
 2053 01e2 1846     		mov	r0, r3
 2054 01e4 FFF7FEFF 		bl	is_aperture
 2055 01e8 0346     		mov	r3, r0
 2056 01ea 002B     		cmp	r3, #0
 2057 01ec 03D1     		bne	.L117
 798:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				== 0) && (currentSpadIndex < maxSpadCount)) {
 2058              		.loc 1 798 0
 2059 01ee 3A6D     		ldr	r2, [r7, #80]
 2060 01f0 3B6B     		ldr	r3, [r7, #48]
 2061 01f2 9A42     		cmp	r2, r3
 2062 01f4 EED3     		bcc	.L118
 2063              	.L117:
 800:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 801:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 802:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			needAptSpads = 1;
 2064              		.loc 1 802 0
 2065 01f6 0123     		movs	r3, #1
 2066 01f8 FB64     		str	r3, [r7, #76]
 803:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 804:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = enable_ref_spads(Dev,
 2067              		.loc 1 804 0
 2068 01fa FB6C     		ldr	r3, [r7, #76]
 2069 01fc D9B2     		uxtb	r1, r3
 805:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					needAptSpads,
 806:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefGoodSpadMap,
 2070              		.loc 1 806 0
 2071 01fe FB68     		ldr	r3, [r7, #12]
 2072 0200 03F59575 		add	r5, r3, #298
 807:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 2073              		.loc 1 807 0
 2074 0204 FB68     		ldr	r3, [r7, #12]
 2075 0206 03F59274 		add	r4, r3, #292
 804:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					needAptSpads,
 2076              		.loc 1 804 0
 2077 020a 97F83A30 		ldrb	r3, [r7, #58]	@ zero_extendqisi2
 2078 020e BA6A     		ldr	r2, [r7, #40]
 2079 0210 0092     		str	r2, [sp]
 2080 0212 0193     		str	r3, [sp, #4]
 2081 0214 3B6D     		ldr	r3, [r7, #80]
 2082 0216 0293     		str	r3, [sp, #8]
 2083 0218 7B6B     		ldr	r3, [r7, #52]
 2084 021a 0393     		str	r3, [sp, #12]
 2085 021c 07F11803 		add	r3, r7, #24
 2086 0220 0493     		str	r3, [sp, #16]
ARM GAS  /tmp/ccHkrygC.s 			page 52


 2087 0222 F868     		ldr	r0, [r7, #12]
 2088 0224 2A46     		mov	r2, r5
 2089 0226 2346     		mov	r3, r4
 2090 0228 FFF7FEFF 		bl	enable_ref_spads
 2091 022c 0346     		mov	r3, r0
 2092 022e 87F85730 		strb	r3, [r7, #87]
 808:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					spadArraySize,
 809:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					startSelect,
 810:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					currentSpadIndex,
 811:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					minimumSpadCount,
 812:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					&lastSpadIndex);
 813:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 814:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status == VL53L0X_ERROR_NONE) {
 2093              		.loc 1 814 0
 2094 0232 97F95730 		ldrsb	r3, [r7, #87]
 2095 0236 002B     		cmp	r3, #0
 2096 0238 18D1     		bne	.L119
 815:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				currentSpadIndex = lastSpadIndex;
 2097              		.loc 1 815 0
 2098 023a BB69     		ldr	r3, [r7, #24]
 2099 023c 3B65     		str	r3, [r7, #80]
 816:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Status = perform_ref_signal_measurement(Dev,
 2100              		.loc 1 816 0
 2101 023e 07F11203 		add	r3, r7, #18
 2102 0242 F868     		ldr	r0, [r7, #12]
 2103 0244 1946     		mov	r1, r3
 2104 0246 FFF7FEFF 		bl	perform_ref_signal_measurement
 2105 024a 0346     		mov	r3, r0
 2106 024c 87F85730 		strb	r3, [r7, #87]
 817:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 						&peakSignalRateRef);
 818:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 819:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				if ((Status == VL53L0X_ERROR_NONE) &&
 2107              		.loc 1 819 0
 2108 0250 97F95730 		ldrsb	r3, [r7, #87]
 2109 0254 002B     		cmp	r3, #0
 2110 0256 09D1     		bne	.L119
 820:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					(peakSignalRateRef > targetRefRate)) {
 2111              		.loc 1 820 0 discriminator 1
 2112 0258 7B8A     		ldrh	r3, [r7, #18]
 819:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					(peakSignalRateRef > targetRefRate)) {
 2113              		.loc 1 819 0 discriminator 1
 2114 025a FA8D     		ldrh	r2, [r7, #46]
 2115 025c 9A42     		cmp	r2, r3
 2116 025e 05D2     		bcs	.L119
 821:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					/* Signal rate still too high after
 822:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 * setting the minimum number of
 823:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 * APERTURE spads. Can do no more
 824:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 * therefore set the min number of
 825:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 * aperture spads as the result.
 826:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 */
 827:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					isApertureSpads_int = 1;
 2117              		.loc 1 827 0
 2118 0260 0123     		movs	r3, #1
 2119 0262 87F83B30 		strb	r3, [r7, #59]
 828:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					refSpadCount_int = minimumSpadCount;
 2120              		.loc 1 828 0
 2121 0266 7B6B     		ldr	r3, [r7, #52]
ARM GAS  /tmp/ccHkrygC.s 			page 53


 2122 0268 FB63     		str	r3, [r7, #60]
 814:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				currentSpadIndex = lastSpadIndex;
 2123              		.loc 1 814 0
 2124 026a 02E0     		b	.L112
 2125              	.L119:
 2126 026c 01E0     		b	.L112
 2127              	.L113:
 829:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				}
 830:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 831:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		} else {
 832:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			needAptSpads = 0;
 2128              		.loc 1 832 0
 2129 026e 0023     		movs	r3, #0
 2130 0270 FB64     		str	r3, [r7, #76]
 2131              	.L112:
 833:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 834:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 835:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 836:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if ((Status == VL53L0X_ERROR_NONE) &&
 2132              		.loc 1 836 0
 2133 0272 97F95730 		ldrsb	r3, [r7, #87]
 2134 0276 002B     		cmp	r3, #0
 2135 0278 40F0B180 		bne	.L120
 837:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		(peakSignalRateRef < targetRefRate)) {
 2136              		.loc 1 837 0 discriminator 1
 2137 027c 7B8A     		ldrh	r3, [r7, #18]
 836:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		(peakSignalRateRef < targetRefRate)) {
 2138              		.loc 1 836 0 discriminator 1
 2139 027e FA8D     		ldrh	r2, [r7, #46]
 2140 0280 9A42     		cmp	r2, r3
 2141 0282 40F2AC80 		bls	.L120
 838:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* At this point, the minimum number of either aperture
 839:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * or non-aperture spads have been set. Proceed to add
 840:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * spads and perform measurements until the target
 841:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 * reference is reached.
 842:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		 */
 843:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		isApertureSpads_int = needAptSpads;
 2142              		.loc 1 843 0
 2143 0286 FB6C     		ldr	r3, [r7, #76]
 2144 0288 87F83B30 		strb	r3, [r7, #59]
 844:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		refSpadCount_int	= minimumSpadCount;
 2145              		.loc 1 844 0
 2146 028c 7B6B     		ldr	r3, [r7, #52]
 2147 028e FB63     		str	r3, [r7, #60]
 845:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 846:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		memcpy(lastSpadArray, Dev->Data.SpadData.RefSpadEnables,
 2148              		.loc 1 846 0
 2149 0290 FB68     		ldr	r3, [r7, #12]
 2150 0292 03F59273 		add	r3, r3, #292
 2151 0296 07F11C02 		add	r2, r7, #28
 2152 029a 1046     		mov	r0, r2
 2153 029c 1946     		mov	r1, r3
 2154 029e BA6A     		ldr	r2, [r7, #40]
 2155 02a0 FFF7FEFF 		bl	memcpy
 847:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				spadArraySize);
 848:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		lastSignalRateDiff = abs(peakSignalRateRef -
 2156              		.loc 1 848 0
ARM GAS  /tmp/ccHkrygC.s 			page 54


 2157 02a4 7B8A     		ldrh	r3, [r7, #18]
 2158 02a6 1A46     		mov	r2, r3
 2159 02a8 FB8D     		ldrh	r3, [r7, #46]
 2160 02aa D31A     		subs	r3, r2, r3
 2161 02ac 002B     		cmp	r3, #0
 2162 02ae B8BF     		it	lt
 2163 02b0 5B42     		rsblt	r3, r3, #0
 2164 02b2 7B64     		str	r3, [r7, #68]
 849:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			targetRefRate);
 850:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		complete = 0;
 2165              		.loc 1 850 0
 2166 02b4 0023     		movs	r3, #0
 2167 02b6 87F84330 		strb	r3, [r7, #67]
 851:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 852:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		while (!complete) {
 2168              		.loc 1 852 0
 2169 02ba 8BE0     		b	.L121
 2170              	.L129:
 853:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			get_next_good_spad(
 854:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefGoodSpadMap,
 2171              		.loc 1 854 0
 2172 02bc FB68     		ldr	r3, [r7, #12]
 2173 02be 03F59572 		add	r2, r3, #298
 853:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			get_next_good_spad(
 2174              		.loc 1 853 0
 2175 02c2 07F11403 		add	r3, r7, #20
 2176 02c6 1046     		mov	r0, r2
 2177 02c8 B96A     		ldr	r1, [r7, #40]
 2178 02ca 3A6D     		ldr	r2, [r7, #80]
 2179 02cc FFF7FEFF 		bl	get_next_good_spad
 855:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				spadArraySize, currentSpadIndex,
 856:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				&nextGoodSpad);
 857:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 858:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (nextGoodSpad == -1) {
 2180              		.loc 1 858 0
 2181 02d0 7B69     		ldr	r3, [r7, #20]
 2182 02d2 B3F1FF3F 		cmp	r3, #-1
 2183 02d6 03D1     		bne	.L122
 859:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Status = VL53L0X_ERROR_REF_SPAD_INIT;
 2184              		.loc 1 859 0
 2185 02d8 CE23     		movs	r3, #206
 2186 02da 87F85730 		strb	r3, [r7, #87]
 860:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 2187              		.loc 1 860 0
 2188 02de 7EE0     		b	.L120
 2189              	.L122:
 861:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 862:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 863:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* Cannot combine Aperture and Non-Aperture spads, so
 864:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * ensure the current spad is of the correct type.
 865:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 */
 866:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (is_aperture((uint32_t)startSelect + nextGoodSpad) !=
 2190              		.loc 1 866 0
 2191 02e0 97F83A30 		ldrb	r3, [r7, #58]	@ zero_extendqisi2
 2192 02e4 7A69     		ldr	r2, [r7, #20]
 2193 02e6 1344     		add	r3, r3, r2
 2194 02e8 1846     		mov	r0, r3
ARM GAS  /tmp/ccHkrygC.s 			page 55


 2195 02ea FFF7FEFF 		bl	is_aperture
 2196 02ee 0346     		mov	r3, r0
 2197 02f0 1A46     		mov	r2, r3
 2198 02f2 FB6C     		ldr	r3, [r7, #76]
 2199 02f4 9A42     		cmp	r2, r3
 2200 02f6 03D0     		beq	.L123
 867:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					needAptSpads) {
 868:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				/* At this point we have enabled the maximum
 869:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 * number of Aperture spads.
 870:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 */
 871:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				complete = 1;
 2201              		.loc 1 871 0
 2202 02f8 0123     		movs	r3, #1
 2203 02fa 87F84330 		strb	r3, [r7, #67]
 872:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 2204              		.loc 1 872 0
 2205 02fe 6EE0     		b	.L120
 2206              	.L123:
 873:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 874:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 875:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			(refSpadCount_int)++;
 2207              		.loc 1 875 0
 2208 0300 FB6B     		ldr	r3, [r7, #60]
 2209 0302 0133     		adds	r3, r3, #1
 2210 0304 FB63     		str	r3, [r7, #60]
 876:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 877:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			currentSpadIndex = nextGoodSpad;
 2211              		.loc 1 877 0
 2212 0306 7B69     		ldr	r3, [r7, #20]
 2213 0308 3B65     		str	r3, [r7, #80]
 878:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = enable_spad_bit(
 879:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 2214              		.loc 1 879 0
 2215 030a FB68     		ldr	r3, [r7, #12]
 2216 030c 03F59273 		add	r3, r3, #292
 878:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = enable_spad_bit(
 2217              		.loc 1 878 0
 2218 0310 1846     		mov	r0, r3
 2219 0312 B96A     		ldr	r1, [r7, #40]
 2220 0314 3A6D     		ldr	r2, [r7, #80]
 2221 0316 FFF7FEFF 		bl	enable_spad_bit
 2222 031a 0346     		mov	r3, r0
 2223 031c 87F85730 		strb	r3, [r7, #87]
 880:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					spadArraySize, currentSpadIndex);
 881:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 882:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status == VL53L0X_ERROR_NONE) {
 2224              		.loc 1 882 0
 2225 0320 97F95730 		ldrsb	r3, [r7, #87]
 2226 0324 002B     		cmp	r3, #0
 2227 0326 0CD1     		bne	.L124
 883:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				currentSpadIndex++;
 2228              		.loc 1 883 0
 2229 0328 3B6D     		ldr	r3, [r7, #80]
 2230 032a 0133     		adds	r3, r3, #1
 2231 032c 3B65     		str	r3, [r7, #80]
 884:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				/* Proceed to apply the additional spad and
 885:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 * perform measurement. */
ARM GAS  /tmp/ccHkrygC.s 			page 56


 886:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Status = set_ref_spad_map(Dev,
 887:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables);
 2232              		.loc 1 887 0
 2233 032e FB68     		ldr	r3, [r7, #12]
 2234 0330 03F59273 		add	r3, r3, #292
 886:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables);
 2235              		.loc 1 886 0
 2236 0334 F868     		ldr	r0, [r7, #12]
 2237 0336 1946     		mov	r1, r3
 2238 0338 FFF7FEFF 		bl	set_ref_spad_map
 2239 033c 0346     		mov	r3, r0
 2240 033e 87F85730 		strb	r3, [r7, #87]
 2241              	.L124:
 888:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 889:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 890:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status != VL53L0X_ERROR_NONE)
 2242              		.loc 1 890 0
 2243 0342 97F95730 		ldrsb	r3, [r7, #87]
 2244 0346 002B     		cmp	r3, #0
 2245 0348 00D0     		beq	.L125
 891:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 2246              		.loc 1 891 0
 2247 034a 48E0     		b	.L120
 2248              	.L125:
 892:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 893:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = perform_ref_signal_measurement(Dev,
 2249              		.loc 1 893 0
 2250 034c 07F11203 		add	r3, r7, #18
 2251 0350 F868     		ldr	r0, [r7, #12]
 2252 0352 1946     		mov	r1, r3
 2253 0354 FFF7FEFF 		bl	perform_ref_signal_measurement
 2254 0358 0346     		mov	r3, r0
 2255 035a 87F85730 		strb	r3, [r7, #87]
 894:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					&peakSignalRateRef);
 895:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 896:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status != VL53L0X_ERROR_NONE)
 2256              		.loc 1 896 0
 2257 035e 97F95730 		ldrsb	r3, [r7, #87]
 2258 0362 002B     		cmp	r3, #0
 2259 0364 00D0     		beq	.L126
 897:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				break;
 2260              		.loc 1 897 0
 2261 0366 3AE0     		b	.L120
 2262              	.L126:
 898:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 899:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			signalRateDiff = abs(peakSignalRateRef - targetRefRate);
 2263              		.loc 1 899 0
 2264 0368 7B8A     		ldrh	r3, [r7, #18]
 2265 036a 1A46     		mov	r2, r3
 2266 036c FB8D     		ldrh	r3, [r7, #46]
 2267 036e D31A     		subs	r3, r2, r3
 2268 0370 002B     		cmp	r3, #0
 2269 0372 B8BF     		it	lt
 2270 0374 5B42     		rsblt	r3, r3, #0
 2271 0376 7B62     		str	r3, [r7, #36]
 900:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 901:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (peakSignalRateRef > targetRefRate) {
ARM GAS  /tmp/ccHkrygC.s 			page 57


 2272              		.loc 1 901 0
 2273 0378 7B8A     		ldrh	r3, [r7, #18]
 2274 037a FA8D     		ldrh	r2, [r7, #46]
 2275 037c 9A42     		cmp	r2, r3
 2276 037e 1DD2     		bcs	.L127
 902:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				/* Select the spad map that provides the
 903:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 * measurement closest to the target rate,
 904:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 * either above or below it.
 905:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 */
 906:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				if (signalRateDiff > lastSignalRateDiff) {
 2277              		.loc 1 906 0
 2278 0380 7A6A     		ldr	r2, [r7, #36]
 2279 0382 7B6C     		ldr	r3, [r7, #68]
 2280 0384 9A42     		cmp	r2, r3
 2281 0386 15D9     		bls	.L128
 907:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					/* Previous spad map produced a closer
 908:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					 * measurement, so choose this. */
 909:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Status = set_ref_spad_map(Dev,
 2282              		.loc 1 909 0
 2283 0388 07F11C03 		add	r3, r7, #28
 2284 038c F868     		ldr	r0, [r7, #12]
 2285 038e 1946     		mov	r1, r3
 2286 0390 FFF7FEFF 		bl	set_ref_spad_map
 2287 0394 0346     		mov	r3, r0
 2288 0396 87F85730 		strb	r3, [r7, #87]
 910:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							lastSpadArray);
 911:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					memcpy(
 912:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 2289              		.loc 1 912 0
 2290 039a FB68     		ldr	r3, [r7, #12]
 2291 039c 03F59272 		add	r2, r3, #292
 911:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 2292              		.loc 1 911 0
 2293 03a0 07F11C03 		add	r3, r7, #28
 2294 03a4 1046     		mov	r0, r2
 2295 03a6 1946     		mov	r1, r3
 2296 03a8 BA6A     		ldr	r2, [r7, #40]
 2297 03aa FFF7FEFF 		bl	memcpy
 913:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					lastSpadArray, spadArraySize);
 914:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 915:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					(refSpadCount_int)--;
 2298              		.loc 1 915 0
 2299 03ae FB6B     		ldr	r3, [r7, #60]
 2300 03b0 013B     		subs	r3, r3, #1
 2301 03b2 FB63     		str	r3, [r7, #60]
 2302              	.L128:
 916:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				}
 917:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				complete = 1;
 2303              		.loc 1 917 0
 2304 03b4 0123     		movs	r3, #1
 2305 03b6 87F84330 		strb	r3, [r7, #67]
 2306 03ba 0BE0     		b	.L121
 2307              	.L127:
 918:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			} else {
 919:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				/* Continue to add spads */
 920:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				lastSignalRateDiff = signalRateDiff;
 2308              		.loc 1 920 0
ARM GAS  /tmp/ccHkrygC.s 			page 58


 2309 03bc 7B6A     		ldr	r3, [r7, #36]
 2310 03be 7B64     		str	r3, [r7, #68]
 921:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				memcpy(lastSpadArray,
 922:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					Dev->Data.SpadData.RefSpadEnables,
 2311              		.loc 1 922 0
 2312 03c0 FB68     		ldr	r3, [r7, #12]
 2313 03c2 03F59273 		add	r3, r3, #292
 921:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				memcpy(lastSpadArray,
 2314              		.loc 1 921 0
 2315 03c6 07F11C02 		add	r2, r7, #28
 2316 03ca 1046     		mov	r0, r2
 2317 03cc 1946     		mov	r1, r3
 2318 03ce BA6A     		ldr	r2, [r7, #40]
 2319 03d0 FFF7FEFF 		bl	memcpy
 2320              	.L121:
 852:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			get_next_good_spad(
 2321              		.loc 1 852 0
 2322 03d4 97F84330 		ldrb	r3, [r7, #67]	@ zero_extendqisi2
 2323 03d8 002B     		cmp	r3, #0
 2324 03da 3FF46FAF 		beq	.L129
 2325              	.L120:
 923:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					spadArraySize);
 924:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
 925:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 926:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		} /* while */
 927:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 928:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 929:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 2326              		.loc 1 929 0
 2327 03de 97F95730 		ldrsb	r3, [r7, #87]
 2328 03e2 002B     		cmp	r3, #0
 2329 03e4 15D1     		bne	.L130
 930:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*refSpadCount = refSpadCount_int;
 2330              		.loc 1 930 0
 2331 03e6 BB68     		ldr	r3, [r7, #8]
 2332 03e8 FA6B     		ldr	r2, [r7, #60]
 2333 03ea 1A60     		str	r2, [r3]
 931:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*isApertureSpads = isApertureSpads_int;
 2334              		.loc 1 931 0
 2335 03ec 7B68     		ldr	r3, [r7, #4]
 2336 03ee 97F83B20 		ldrb	r2, [r7, #59]
 2337 03f2 1A70     		strb	r2, [r3]
 932:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 933:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev, RefSpadsInitialised, 1);
 2338              		.loc 1 933 0
 2339 03f4 FB68     		ldr	r3, [r7, #12]
 2340 03f6 0122     		movs	r2, #1
 2341 03f8 83F81521 		strb	r2, [r3, #277]
 934:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2342              		.loc 1 934 0
 2343 03fc BB68     		ldr	r3, [r7, #8]
 2344 03fe 1B68     		ldr	r3, [r3]
 2345 0400 DAB2     		uxtb	r2, r3
 2346 0402 FB68     		ldr	r3, [r7, #12]
 2347 0404 83F81321 		strb	r2, [r3, #275]
 935:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadCount, (uint8_t)(*refSpadCount));
 936:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
ARM GAS  /tmp/ccHkrygC.s 			page 59


 2348              		.loc 1 936 0
 2349 0408 7B68     		ldr	r3, [r7, #4]
 2350 040a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2351 040c FB68     		ldr	r3, [r7, #12]
 2352 040e 83F81421 		strb	r2, [r3, #276]
 2353              	.L130:
 937:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadType, *isApertureSpads);
 938:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 939:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 940:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 2354              		.loc 1 940 0
 2355 0412 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 2356 0416 5BB2     		sxtb	r3, r3
 941:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 2357              		.loc 1 941 0
 2358 0418 1846     		mov	r0, r3
 2359 041a 5837     		adds	r7, r7, #88
 2360              	.LCFI72:
 2361              		.cfi_def_cfa_offset 16
 2362 041c BD46     		mov	sp, r7
 2363              	.LCFI73:
 2364              		.cfi_def_cfa_register 13
 2365              		@ sp needed
 2366 041e B0BD     		pop	{r4, r5, r7, pc}
 2367              		.cfi_endproc
 2368              	.LFE136:
 2370              		.section	.text.VL53L0X_set_reference_spads,"ax",%progbits
 2371              		.align	2
 2372              		.global	VL53L0X_set_reference_spads
 2373              		.thumb
 2374              		.thumb_func
 2376              	VL53L0X_set_reference_spads:
 2377              	.LFB137:
 942:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 943:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_set_reference_spads(VL53L0X_DEV Dev,
 944:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				 uint32_t count, uint8_t isApertureSpads)
 945:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 2378              		.loc 1 945 0
 2379              		.cfi_startproc
 2380              		@ args = 0, pretend = 0, frame = 48
 2381              		@ frame_needed = 1, uses_anonymous_args = 0
 2382 0000 B0B5     		push	{r4, r5, r7, lr}
 2383              	.LCFI74:
 2384              		.cfi_def_cfa_offset 16
 2385              		.cfi_offset 4, -16
 2386              		.cfi_offset 5, -12
 2387              		.cfi_offset 7, -8
 2388              		.cfi_offset 14, -4
 2389 0002 92B0     		sub	sp, sp, #72
 2390              	.LCFI75:
 2391              		.cfi_def_cfa_offset 88
 2392 0004 06AF     		add	r7, sp, #24
 2393              	.LCFI76:
 2394              		.cfi_def_cfa 7, 64
 2395 0006 F860     		str	r0, [r7, #12]
 2396 0008 B960     		str	r1, [r7, #8]
 2397 000a 1346     		mov	r3, r2
ARM GAS  /tmp/ccHkrygC.s 			page 60


 2398 000c FB71     		strb	r3, [r7, #7]
 946:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 2399              		.loc 1 946 0
 2400 000e 0023     		movs	r3, #0
 2401 0010 87F82F30 		strb	r3, [r7, #47]
 947:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t currentSpadIndex = 0;
 2402              		.loc 1 947 0
 2403 0014 0023     		movs	r3, #0
 2404 0016 BB62     		str	r3, [r7, #40]
 948:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t startSelect = 0xB4;
 2405              		.loc 1 948 0
 2406 0018 B423     		movs	r3, #180
 2407 001a 87F82330 		strb	r3, [r7, #35]
 949:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t spadArraySize = 6;
 2408              		.loc 1 949 0
 2409 001e 0623     		movs	r3, #6
 2410 0020 FB61     		str	r3, [r7, #28]
 950:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t maxSpadCount = 44;
 2411              		.loc 1 950 0
 2412 0022 2C23     		movs	r3, #44
 2413 0024 BB61     		str	r3, [r7, #24]
 951:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t lastSpadIndex;
 952:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t index;
 953:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 954:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/*
 955:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * This function applies a requested number of reference spads, either
 956:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * aperture or
 957:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * non-aperture, as requested.
 958:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * The good spad map will be applied.
 959:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
 960:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 961:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_WrByte(Dev, 0xFF, 0x01);
 2414              		.loc 1 961 0
 2415 0026 F868     		ldr	r0, [r7, #12]
 2416 0028 FF21     		movs	r1, #255
 2417 002a 0122     		movs	r2, #1
 2418 002c FFF7FEFF 		bl	VL53L0X_WrByte
 2419 0030 0346     		mov	r3, r0
 2420 0032 87F82F30 		strb	r3, [r7, #47]
 962:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 963:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2421              		.loc 1 963 0
 2422 0036 97F92F30 		ldrsb	r3, [r7, #47]
 2423 003a 002B     		cmp	r3, #0
 2424 003c 07D1     		bne	.L133
 964:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 2425              		.loc 1 964 0
 2426 003e F868     		ldr	r0, [r7, #12]
 2427 0040 4F21     		movs	r1, #79
 2428 0042 0022     		movs	r2, #0
 2429 0044 FFF7FEFF 		bl	VL53L0X_WrByte
 2430 0048 0346     		mov	r3, r0
 2431 004a 87F82F30 		strb	r3, [r7, #47]
 2432              	.L133:
 965:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_DYNAMIC_SPAD_REF_EN_START_OFFSET, 0x00);
 966:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 967:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
ARM GAS  /tmp/ccHkrygC.s 			page 61


 2433              		.loc 1 967 0
 2434 004e 97F92F30 		ldrsb	r3, [r7, #47]
 2435 0052 002B     		cmp	r3, #0
 2436 0054 07D1     		bne	.L134
 968:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 2437              		.loc 1 968 0
 2438 0056 F868     		ldr	r0, [r7, #12]
 2439 0058 4E21     		movs	r1, #78
 2440 005a 2C22     		movs	r2, #44
 2441 005c FFF7FEFF 		bl	VL53L0X_WrByte
 2442 0060 0346     		mov	r3, r0
 2443 0062 87F82F30 		strb	r3, [r7, #47]
 2444              	.L134:
 969:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_DYNAMIC_SPAD_NUM_REQUESTED_REF_SPAD, 0x2C);
 970:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 971:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2445              		.loc 1 971 0
 2446 0066 97F92F30 		ldrsb	r3, [r7, #47]
 2447 006a 002B     		cmp	r3, #0
 2448 006c 07D1     		bne	.L135
 972:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, 0xFF, 0x00);
 2449              		.loc 1 972 0
 2450 006e F868     		ldr	r0, [r7, #12]
 2451 0070 FF21     		movs	r1, #255
 2452 0072 0022     		movs	r2, #0
 2453 0074 FFF7FEFF 		bl	VL53L0X_WrByte
 2454 0078 0346     		mov	r3, r0
 2455 007a 87F82F30 		strb	r3, [r7, #47]
 2456              	.L135:
 973:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 974:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2457              		.loc 1 974 0
 2458 007e 97F92F30 		ldrsb	r3, [r7, #47]
 2459 0082 002B     		cmp	r3, #0
 2460 0084 09D1     		bne	.L136
 975:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev,
 2461              		.loc 1 975 0
 2462 0086 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 2463 008a F868     		ldr	r0, [r7, #12]
 2464 008c B621     		movs	r1, #182
 2465 008e 1A46     		mov	r2, r3
 2466 0090 FFF7FEFF 		bl	VL53L0X_WrByte
 2467 0094 0346     		mov	r3, r0
 2468 0096 87F82F30 		strb	r3, [r7, #47]
 2469              	.L136:
 976:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VL53L0X_REG_GLOBAL_CONFIG_REF_EN_START_SELECT,
 977:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			startSelect);
 978:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 979:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	for (index = 0; index < spadArraySize; index++)
 2470              		.loc 1 979 0
 2471 009a 0023     		movs	r3, #0
 2472 009c 7B62     		str	r3, [r7, #36]
 2473 009e 09E0     		b	.L137
 2474              	.L138:
 980:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2475              		.loc 1 980 0 discriminator 3
 2476 00a0 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccHkrygC.s 			page 62


 2477 00a2 7B6A     		ldr	r3, [r7, #36]
 2478 00a4 1344     		add	r3, r3, r2
 2479 00a6 03F59073 		add	r3, r3, #288
 2480 00aa 0022     		movs	r2, #0
 2481 00ac 1A71     		strb	r2, [r3, #4]
 979:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2482              		.loc 1 979 0 discriminator 3
 2483 00ae 7B6A     		ldr	r3, [r7, #36]
 2484 00b0 0133     		adds	r3, r3, #1
 2485 00b2 7B62     		str	r3, [r7, #36]
 2486              	.L137:
 979:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Dev->Data.SpadData.RefSpadEnables[index] = 0;
 2487              		.loc 1 979 0 is_stmt 0 discriminator 1
 2488 00b4 7A6A     		ldr	r2, [r7, #36]
 2489 00b6 FB69     		ldr	r3, [r7, #28]
 2490 00b8 9A42     		cmp	r2, r3
 2491 00ba F1D3     		bcc	.L138
 981:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 982:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (isApertureSpads) {
 2492              		.loc 1 982 0 is_stmt 1
 2493 00bc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2494 00be 002B     		cmp	r3, #0
 2495 00c0 11D0     		beq	.L139
 983:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* Increment to the first APERTURE spad */
 984:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		while ((is_aperture(startSelect + currentSpadIndex) == 0) &&
 2496              		.loc 1 984 0
 2497 00c2 02E0     		b	.L140
 2498              	.L141:
 985:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			  (currentSpadIndex < maxSpadCount)) {
 986:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			currentSpadIndex++;
 2499              		.loc 1 986 0
 2500 00c4 BB6A     		ldr	r3, [r7, #40]
 2501 00c6 0133     		adds	r3, r3, #1
 2502 00c8 BB62     		str	r3, [r7, #40]
 2503              	.L140:
 984:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			  (currentSpadIndex < maxSpadCount)) {
 2504              		.loc 1 984 0
 2505 00ca 97F82320 		ldrb	r2, [r7, #35]	@ zero_extendqisi2
 2506 00ce BB6A     		ldr	r3, [r7, #40]
 2507 00d0 1344     		add	r3, r3, r2
 2508 00d2 1846     		mov	r0, r3
 2509 00d4 FFF7FEFF 		bl	is_aperture
 2510 00d8 0346     		mov	r3, r0
 2511 00da 002B     		cmp	r3, #0
 2512 00dc 03D1     		bne	.L139
 984:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			  (currentSpadIndex < maxSpadCount)) {
 2513              		.loc 1 984 0 is_stmt 0 discriminator 1
 2514 00de BA6A     		ldr	r2, [r7, #40]
 2515 00e0 BB69     		ldr	r3, [r7, #24]
 2516 00e2 9A42     		cmp	r2, r3
 2517 00e4 EED3     		bcc	.L141
 2518              	.L139:
 987:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
 988:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
 989:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = enable_ref_spads(Dev,
 990:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				isApertureSpads,
 991:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefGoodSpadMap,
ARM GAS  /tmp/ccHkrygC.s 			page 63


 2519              		.loc 1 991 0 is_stmt 1
 2520 00e6 FB68     		ldr	r3, [r7, #12]
 2521 00e8 03F59575 		add	r5, r3, #298
 992:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				Dev->Data.SpadData.RefSpadEnables,
 2522              		.loc 1 992 0
 2523 00ec FB68     		ldr	r3, [r7, #12]
 2524 00ee 03F59274 		add	r4, r3, #292
 989:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				isApertureSpads,
 2525              		.loc 1 989 0
 2526 00f2 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 2527 00f6 F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 2528 00f8 FA69     		ldr	r2, [r7, #28]
 2529 00fa 0092     		str	r2, [sp]
 2530 00fc 0193     		str	r3, [sp, #4]
 2531 00fe BB6A     		ldr	r3, [r7, #40]
 2532 0100 0293     		str	r3, [sp, #8]
 2533 0102 BB68     		ldr	r3, [r7, #8]
 2534 0104 0393     		str	r3, [sp, #12]
 2535 0106 07F11403 		add	r3, r7, #20
 2536 010a 0493     		str	r3, [sp, #16]
 2537 010c F868     		ldr	r0, [r7, #12]
 2538 010e 2A46     		mov	r2, r5
 2539 0110 2346     		mov	r3, r4
 2540 0112 FFF7FEFF 		bl	enable_ref_spads
 2541 0116 0346     		mov	r3, r0
 2542 0118 87F82F30 		strb	r3, [r7, #47]
 993:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				spadArraySize,
 994:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				startSelect,
 995:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				currentSpadIndex,
 996:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				count,
 997:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				&lastSpadIndex);
 998:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
 999:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 2543              		.loc 1 999 0
 2544 011c 97F92F30 		ldrsb	r3, [r7, #47]
 2545 0120 002B     		cmp	r3, #0
 2546 0122 0CD1     		bne	.L142
1000:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev, RefSpadsInitialised, 1);
 2547              		.loc 1 1000 0
 2548 0124 FB68     		ldr	r3, [r7, #12]
 2549 0126 0122     		movs	r2, #1
 2550 0128 83F81521 		strb	r2, [r3, #277]
1001:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2551              		.loc 1 1001 0
 2552 012c BB68     		ldr	r3, [r7, #8]
 2553 012e DAB2     		uxtb	r2, r3
 2554 0130 FB68     		ldr	r3, [r7, #12]
 2555 0132 83F81321 		strb	r2, [r3, #275]
1002:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadCount, (uint8_t)(count));
1003:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2556              		.loc 1 1003 0
 2557 0136 FB68     		ldr	r3, [r7, #12]
 2558 0138 FA79     		ldrb	r2, [r7, #7]
 2559 013a 83F81421 		strb	r2, [r3, #276]
 2560              	.L142:
1004:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadType, isApertureSpads);
1005:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
ARM GAS  /tmp/ccHkrygC.s 			page 64


1006:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1007:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 2561              		.loc 1 1007 0
 2562 013e 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 2563 0142 5BB2     		sxtb	r3, r3
1008:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 2564              		.loc 1 1008 0
 2565 0144 1846     		mov	r0, r3
 2566 0146 3037     		adds	r7, r7, #48
 2567              	.LCFI77:
 2568              		.cfi_def_cfa_offset 16
 2569 0148 BD46     		mov	sp, r7
 2570              	.LCFI78:
 2571              		.cfi_def_cfa_register 13
 2572              		@ sp needed
 2573 014a B0BD     		pop	{r4, r5, r7, pc}
 2574              		.cfi_endproc
 2575              	.LFE137:
 2577              		.section	.text.VL53L0X_get_reference_spads,"ax",%progbits
 2578              		.align	2
 2579              		.global	VL53L0X_get_reference_spads
 2580              		.thumb
 2581              		.thumb_func
 2583              	VL53L0X_get_reference_spads:
 2584              	.LFB138:
1009:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1010:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_get_reference_spads(VL53L0X_DEV Dev,
1011:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			uint32_t *pSpadCount, uint8_t *pIsApertureSpads)
1012:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 2585              		.loc 1 1012 0
 2586              		.cfi_startproc
 2587              		@ args = 0, pretend = 0, frame = 48
 2588              		@ frame_needed = 1, uses_anonymous_args = 0
 2589 0000 90B5     		push	{r4, r7, lr}
 2590              	.LCFI79:
 2591              		.cfi_def_cfa_offset 12
 2592              		.cfi_offset 4, -12
 2593              		.cfi_offset 7, -8
 2594              		.cfi_offset 14, -4
 2595 0002 8FB0     		sub	sp, sp, #60
 2596              	.LCFI80:
 2597              		.cfi_def_cfa_offset 72
 2598 0004 02AF     		add	r7, sp, #8
 2599              	.LCFI81:
 2600              		.cfi_def_cfa 7, 64
 2601 0006 F860     		str	r0, [r7, #12]
 2602 0008 B960     		str	r1, [r7, #8]
 2603 000a 7A60     		str	r2, [r7, #4]
1013:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 2604              		.loc 1 1013 0
 2605 000c 0023     		movs	r3, #0
 2606 000e 87F82F30 		strb	r3, [r7, #47]
1014:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t refSpadsInitialised;
1015:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t refSpadArray[6];
1016:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t cMaxSpadCount = 44;
 2607              		.loc 1 1016 0
 2608 0012 2C23     		movs	r3, #44
ARM GAS  /tmp/ccHkrygC.s 			page 65


 2609 0014 BB62     		str	r3, [r7, #40]
1017:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t cSpadArraySize = 6;
 2610              		.loc 1 1017 0
 2611 0016 0623     		movs	r3, #6
 2612 0018 7B62     		str	r3, [r7, #36]
1018:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint32_t spadsEnabled;
1019:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t isApertureSpads = 0;
 2613              		.loc 1 1019 0
 2614 001a 0023     		movs	r3, #0
 2615 001c FB75     		strb	r3, [r7, #23]
1020:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1021:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	refSpadsInitialised = VL53L0X_GETDEVICESPECIFICPARAMETER(Dev,
 2616              		.loc 1 1021 0
 2617 001e FB68     		ldr	r3, [r7, #12]
 2618 0020 93F81531 		ldrb	r3, [r3, #277]
 2619 0024 87F82330 		strb	r3, [r7, #35]
1022:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					RefSpadsInitialised);
1023:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1024:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (refSpadsInitialised == 1) {
 2620              		.loc 1 1024 0
 2621 0028 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 2622 002c 012B     		cmp	r3, #1
 2623 002e 0BD1     		bne	.L145
1025:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1026:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*pSpadCount = (uint32_t)VL53L0X_GETDEVICESPECIFICPARAMETER(Dev,
 2624              		.loc 1 1026 0
 2625 0030 FB68     		ldr	r3, [r7, #12]
 2626 0032 93F81331 		ldrb	r3, [r3, #275]	@ zero_extendqisi2
 2627 0036 1A46     		mov	r2, r3
 2628 0038 BB68     		ldr	r3, [r7, #8]
 2629 003a 1A60     		str	r2, [r3]
1027:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadCount);
1028:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*pIsApertureSpads = VL53L0X_GETDEVICESPECIFICPARAMETER(Dev,
 2630              		.loc 1 1028 0
 2631 003c FB68     		ldr	r3, [r7, #12]
 2632 003e 93F81421 		ldrb	r2, [r3, #276]	@ zero_extendqisi2
 2633 0042 7B68     		ldr	r3, [r7, #4]
 2634 0044 1A70     		strb	r2, [r3]
 2635 0046 33E0     		b	.L146
 2636              	.L145:
1029:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			ReferenceSpadType);
1030:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	} else {
1031:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1032:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* obtain spad info from device.*/
1033:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = get_ref_spad_map(Dev, refSpadArray);
 2637              		.loc 1 1033 0
 2638 0048 07F11C03 		add	r3, r7, #28
 2639 004c F868     		ldr	r0, [r7, #12]
 2640 004e 1946     		mov	r1, r3
 2641 0050 FFF7FEFF 		bl	get_ref_spad_map
 2642 0054 0346     		mov	r3, r0
 2643 0056 87F82F30 		strb	r3, [r7, #47]
1034:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1035:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE) {
 2644              		.loc 1 1035 0
 2645 005a 97F92F30 		ldrsb	r3, [r7, #47]
 2646 005e 002B     		cmp	r3, #0
ARM GAS  /tmp/ccHkrygC.s 			page 66


 2647 0060 26D1     		bne	.L146
1036:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			/* count enabled spads within spad map array and
1037:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 * determine if Aperture or Non-Aperture.
1038:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			 */
1039:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status = count_enabled_spads(refSpadArray,
 2648              		.loc 1 1039 0
 2649 0062 07F11C02 		add	r2, r7, #28
 2650 0066 07F11804 		add	r4, r7, #24
 2651 006a 07F11703 		add	r3, r7, #23
 2652 006e 0093     		str	r3, [sp]
 2653 0070 1046     		mov	r0, r2
 2654 0072 796A     		ldr	r1, [r7, #36]
 2655 0074 BA6A     		ldr	r2, [r7, #40]
 2656 0076 2346     		mov	r3, r4
 2657 0078 FFF7FEFF 		bl	count_enabled_spads
 2658 007c 0346     		mov	r3, r0
 2659 007e 87F82F30 		strb	r3, [r7, #47]
1040:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							cSpadArraySize,
1041:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							cMaxSpadCount,
1042:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							&spadsEnabled,
1043:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 							&isApertureSpads);
1044:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1045:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			if (Status == VL53L0X_ERROR_NONE) {
 2660              		.loc 1 1045 0
 2661 0082 97F92F30 		ldrsb	r3, [r7, #47]
 2662 0086 002B     		cmp	r3, #0
 2663 0088 12D1     		bne	.L146
1046:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1047:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				*pSpadCount = spadsEnabled;
 2664              		.loc 1 1047 0
 2665 008a BA69     		ldr	r2, [r7, #24]
 2666 008c BB68     		ldr	r3, [r7, #8]
 2667 008e 1A60     		str	r2, [r3]
1048:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				*pIsApertureSpads = isApertureSpads;
 2668              		.loc 1 1048 0
 2669 0090 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 2670 0092 7B68     		ldr	r3, [r7, #4]
 2671 0094 1A70     		strb	r2, [r3]
1049:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1050:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2672              		.loc 1 1050 0
 2673 0096 FB68     		ldr	r3, [r7, #12]
 2674 0098 0122     		movs	r2, #1
 2675 009a 83F81521 		strb	r2, [r3, #277]
1051:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					RefSpadsInitialised, 1);
1052:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2676              		.loc 1 1052 0
 2677 009e BB69     		ldr	r3, [r7, #24]
 2678 00a0 DAB2     		uxtb	r2, r3
 2679 00a2 FB68     		ldr	r3, [r7, #12]
 2680 00a4 83F81321 		strb	r2, [r3, #275]
1053:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					ReferenceSpadCount,
1054:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					(uint8_t)spadsEnabled);
1055:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_SETDEVICESPECIFICPARAMETER(Dev,
 2681              		.loc 1 1055 0
 2682 00a8 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 2683 00aa FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccHkrygC.s 			page 67


 2684 00ac 83F81421 		strb	r2, [r3, #276]
 2685              	.L146:
1056:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 					ReferenceSpadType, isApertureSpads);
1057:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			}
1058:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		}
1059:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
1060:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1061:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 2686              		.loc 1 1061 0
 2687 00b0 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 2688 00b4 5BB2     		sxtb	r3, r3
1062:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 2689              		.loc 1 1062 0
 2690 00b6 1846     		mov	r0, r3
 2691 00b8 3437     		adds	r7, r7, #52
 2692              	.LCFI82:
 2693              		.cfi_def_cfa_offset 12
 2694 00ba BD46     		mov	sp, r7
 2695              	.LCFI83:
 2696              		.cfi_def_cfa_register 13
 2697              		@ sp needed
 2698 00bc 90BD     		pop	{r4, r7, pc}
 2699              		.cfi_endproc
 2700              	.LFE138:
 2702 00be 00BF     		.section	.text.VL53L0X_perform_single_ref_calibration,"ax",%progbits
 2703              		.align	2
 2704              		.global	VL53L0X_perform_single_ref_calibration
 2705              		.thumb
 2706              		.thumb_func
 2708              	VL53L0X_perform_single_ref_calibration:
 2709              	.LFB139:
1063:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1064:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1065:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_single_ref_calibration(VL53L0X_DEV Dev,
1066:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint8_t vhv_init_byte)
1067:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 2710              		.loc 1 1067 0
 2711              		.cfi_startproc
 2712              		@ args = 0, pretend = 0, frame = 16
 2713              		@ frame_needed = 1, uses_anonymous_args = 0
 2714 0000 80B5     		push	{r7, lr}
 2715              	.LCFI84:
 2716              		.cfi_def_cfa_offset 8
 2717              		.cfi_offset 7, -8
 2718              		.cfi_offset 14, -4
 2719 0002 84B0     		sub	sp, sp, #16
 2720              	.LCFI85:
 2721              		.cfi_def_cfa_offset 24
 2722 0004 00AF     		add	r7, sp, #0
 2723              	.LCFI86:
 2724              		.cfi_def_cfa_register 7
 2725 0006 7860     		str	r0, [r7, #4]
 2726 0008 0B46     		mov	r3, r1
 2727 000a FB70     		strb	r3, [r7, #3]
1068:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 2728              		.loc 1 1068 0
 2729 000c 0023     		movs	r3, #0
ARM GAS  /tmp/ccHkrygC.s 			page 68


 2730 000e FB73     		strb	r3, [r7, #15]
1069:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1070:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2731              		.loc 1 1070 0
 2732 0010 97F90F30 		ldrsb	r3, [r7, #15]
 2733 0014 002B     		cmp	r3, #0
 2734 0016 0AD1     		bne	.L149
1071:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSRANGE_START,
 2735              		.loc 1 1071 0
 2736 0018 FB78     		ldrb	r3, [r7, #3]
 2737 001a 43F00103 		orr	r3, r3, #1
 2738 001e DBB2     		uxtb	r3, r3
 2739 0020 7868     		ldr	r0, [r7, #4]
 2740 0022 0021     		movs	r1, #0
 2741 0024 1A46     		mov	r2, r3
 2742 0026 FFF7FEFF 		bl	VL53L0X_WrByte
 2743 002a 0346     		mov	r3, r0
 2744 002c FB73     		strb	r3, [r7, #15]
 2745              	.L149:
1072:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				VL53L0X_REG_SYSRANGE_MODE_START_STOP |
1073:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				vhv_init_byte);
1074:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1075:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1076:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2746              		.loc 1 1076 0
 2747 002e 97F90F30 		ldrsb	r3, [r7, #15]
 2748 0032 002B     		cmp	r3, #0
 2749 0034 04D1     		bne	.L150
1077:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_measurement_poll_for_completion(Dev);
 2750              		.loc 1 1077 0
 2751 0036 7868     		ldr	r0, [r7, #4]
 2752 0038 FFF7FEFF 		bl	VL53L0X_measurement_poll_for_completion
 2753 003c 0346     		mov	r3, r0
 2754 003e FB73     		strb	r3, [r7, #15]
 2755              	.L150:
1078:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1079:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2756              		.loc 1 1079 0
 2757 0040 97F90F30 		ldrsb	r3, [r7, #15]
 2758 0044 002B     		cmp	r3, #0
 2759 0046 05D1     		bne	.L151
1080:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_ClearInterruptMask(Dev, 0);
 2760              		.loc 1 1080 0
 2761 0048 7868     		ldr	r0, [r7, #4]
 2762 004a 0021     		movs	r1, #0
 2763 004c FFF7FEFF 		bl	VL53L0X_ClearInterruptMask
 2764 0050 0346     		mov	r3, r0
 2765 0052 FB73     		strb	r3, [r7, #15]
 2766              	.L151:
1081:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1082:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 2767              		.loc 1 1082 0
 2768 0054 97F90F30 		ldrsb	r3, [r7, #15]
 2769 0058 002B     		cmp	r3, #0
 2770 005a 06D1     		bne	.L152
1083:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSRANGE_START, 0x00);
 2771              		.loc 1 1083 0
ARM GAS  /tmp/ccHkrygC.s 			page 69


 2772 005c 7868     		ldr	r0, [r7, #4]
 2773 005e 0021     		movs	r1, #0
 2774 0060 0022     		movs	r2, #0
 2775 0062 FFF7FEFF 		bl	VL53L0X_WrByte
 2776 0066 0346     		mov	r3, r0
 2777 0068 FB73     		strb	r3, [r7, #15]
 2778              	.L152:
1084:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1085:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 2779              		.loc 1 1085 0
 2780 006a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2781 006c 5BB2     		sxtb	r3, r3
1086:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 2782              		.loc 1 1086 0
 2783 006e 1846     		mov	r0, r3
 2784 0070 1037     		adds	r7, r7, #16
 2785              	.LCFI87:
 2786              		.cfi_def_cfa_offset 8
 2787 0072 BD46     		mov	sp, r7
 2788              	.LCFI88:
 2789              		.cfi_def_cfa_register 13
 2790              		@ sp needed
 2791 0074 80BD     		pop	{r7, pc}
 2792              		.cfi_endproc
 2793              	.LFE139:
 2795 0076 00BF     		.section	.text.VL53L0X_ref_calibration_io,"ax",%progbits
 2796              		.align	2
 2797              		.global	VL53L0X_ref_calibration_io
 2798              		.thumb
 2799              		.thumb_func
 2801              	VL53L0X_ref_calibration_io:
 2802              	.LFB140:
1087:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1088:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1089:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_ref_calibration_io(VL53L0X_DEV Dev, uint8_t read_not_write,
1090:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettings, uint8_t PhaseCal,
1091:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t *pVhvSettings, uint8_t *pPhaseCal,
1092:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	const uint8_t vhv_enable, const uint8_t phase_enable)
1093:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 2803              		.loc 1 1093 0
 2804              		.cfi_startproc
 2805              		@ args = 16, pretend = 0, frame = 16
 2806              		@ frame_needed = 1, uses_anonymous_args = 0
 2807 0000 80B5     		push	{r7, lr}
 2808              	.LCFI89:
 2809              		.cfi_def_cfa_offset 8
 2810              		.cfi_offset 7, -8
 2811              		.cfi_offset 14, -4
 2812 0002 84B0     		sub	sp, sp, #16
 2813              	.LCFI90:
 2814              		.cfi_def_cfa_offset 24
 2815 0004 00AF     		add	r7, sp, #0
 2816              	.LCFI91:
 2817              		.cfi_def_cfa_register 7
 2818 0006 7860     		str	r0, [r7, #4]
 2819 0008 0846     		mov	r0, r1
 2820 000a 1146     		mov	r1, r2
ARM GAS  /tmp/ccHkrygC.s 			page 70


 2821 000c 1A46     		mov	r2, r3
 2822 000e 0346     		mov	r3, r0
 2823 0010 FB70     		strb	r3, [r7, #3]
 2824 0012 0B46     		mov	r3, r1
 2825 0014 BB70     		strb	r3, [r7, #2]
 2826 0016 1346     		mov	r3, r2
 2827 0018 7B70     		strb	r3, [r7, #1]
1094:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 2828              		.loc 1 1094 0
 2829 001a 0023     		movs	r3, #0
 2830 001c FB73     		strb	r3, [r7, #15]
1095:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCalint = 0;
 2831              		.loc 1 1095 0
 2832 001e 0023     		movs	r3, #0
 2833 0020 BB73     		strb	r3, [r7, #14]
1096:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1097:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Read VHV from device */
1098:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0xFF, 0x01);
 2834              		.loc 1 1098 0
 2835 0022 7868     		ldr	r0, [r7, #4]
 2836 0024 FF21     		movs	r1, #255
 2837 0026 0122     		movs	r2, #1
 2838 0028 FFF7FEFF 		bl	VL53L0X_WrByte
 2839 002c 0346     		mov	r3, r0
 2840 002e 1A46     		mov	r2, r3
 2841 0030 FB7B     		ldrb	r3, [r7, #15]
 2842 0032 1343     		orrs	r3, r3, r2
 2843 0034 FB73     		strb	r3, [r7, #15]
1099:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0x00, 0x00);
 2844              		.loc 1 1099 0
 2845 0036 7868     		ldr	r0, [r7, #4]
 2846 0038 0021     		movs	r1, #0
 2847 003a 0022     		movs	r2, #0
 2848 003c FFF7FEFF 		bl	VL53L0X_WrByte
 2849 0040 0346     		mov	r3, r0
 2850 0042 1A46     		mov	r2, r3
 2851 0044 FB7B     		ldrb	r3, [r7, #15]
 2852 0046 1343     		orrs	r3, r3, r2
 2853 0048 FB73     		strb	r3, [r7, #15]
1100:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0xFF, 0x00);
 2854              		.loc 1 1100 0
 2855 004a 7868     		ldr	r0, [r7, #4]
 2856 004c FF21     		movs	r1, #255
 2857 004e 0022     		movs	r2, #0
 2858 0050 FFF7FEFF 		bl	VL53L0X_WrByte
 2859 0054 0346     		mov	r3, r0
 2860 0056 1A46     		mov	r2, r3
 2861 0058 FB7B     		ldrb	r3, [r7, #15]
 2862 005a 1343     		orrs	r3, r3, r2
 2863 005c FB73     		strb	r3, [r7, #15]
1101:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1102:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (read_not_write) {
 2864              		.loc 1 1102 0
 2865 005e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2866 0060 002B     		cmp	r3, #0
 2867 0062 1ED0     		beq	.L155
1103:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (vhv_enable)
ARM GAS  /tmp/ccHkrygC.s 			page 71


 2868              		.loc 1 1103 0
 2869 0064 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 2870 0068 002B     		cmp	r3, #0
 2871 006a 09D0     		beq	.L156
1104:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status |= VL53L0X_RdByte(Dev, 0xCB, pVhvSettings);
 2872              		.loc 1 1104 0
 2873 006c 7868     		ldr	r0, [r7, #4]
 2874 006e CB21     		movs	r1, #203
 2875 0070 BA69     		ldr	r2, [r7, #24]
 2876 0072 FFF7FEFF 		bl	VL53L0X_RdByte
 2877 0076 0346     		mov	r3, r0
 2878 0078 1A46     		mov	r2, r3
 2879 007a FB7B     		ldrb	r3, [r7, #15]
 2880 007c 1343     		orrs	r3, r3, r2
 2881 007e FB73     		strb	r3, [r7, #15]
 2882              	.L156:
1105:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (phase_enable)
 2883              		.loc 1 1105 0
 2884 0080 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 2885 0084 002B     		cmp	r3, #0
 2886 0086 2AD0     		beq	.L158
1106:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status |= VL53L0X_RdByte(Dev, 0xEE, &PhaseCalint);
 2887              		.loc 1 1106 0
 2888 0088 07F10E03 		add	r3, r7, #14
 2889 008c 7868     		ldr	r0, [r7, #4]
 2890 008e EE21     		movs	r1, #238
 2891 0090 1A46     		mov	r2, r3
 2892 0092 FFF7FEFF 		bl	VL53L0X_RdByte
 2893 0096 0346     		mov	r3, r0
 2894 0098 1A46     		mov	r2, r3
 2895 009a FB7B     		ldrb	r3, [r7, #15]
 2896 009c 1343     		orrs	r3, r3, r2
 2897 009e FB73     		strb	r3, [r7, #15]
 2898 00a0 1DE0     		b	.L158
 2899              	.L155:
1107:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	} else {
1108:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (vhv_enable)
 2900              		.loc 1 1108 0
 2901 00a2 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 2902 00a6 002B     		cmp	r3, #0
 2903 00a8 0AD0     		beq	.L159
1109:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status |= VL53L0X_WrByte(Dev, 0xCB, VhvSettings);
 2904              		.loc 1 1109 0
 2905 00aa BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 2906 00ac 7868     		ldr	r0, [r7, #4]
 2907 00ae CB21     		movs	r1, #203
 2908 00b0 1A46     		mov	r2, r3
 2909 00b2 FFF7FEFF 		bl	VL53L0X_WrByte
 2910 00b6 0346     		mov	r3, r0
 2911 00b8 1A46     		mov	r2, r3
 2912 00ba FB7B     		ldrb	r3, [r7, #15]
 2913 00bc 1343     		orrs	r3, r3, r2
 2914 00be FB73     		strb	r3, [r7, #15]
 2915              	.L159:
1110:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (phase_enable)
 2916              		.loc 1 1110 0
 2917 00c0 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
ARM GAS  /tmp/ccHkrygC.s 			page 72


 2918 00c4 002B     		cmp	r3, #0
 2919 00c6 0AD0     		beq	.L158
1111:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Status |= VL53L0X_UpdateByte(Dev, 0xEE, 0x80, PhaseCal);
 2920              		.loc 1 1111 0
 2921 00c8 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 2922 00ca 7868     		ldr	r0, [r7, #4]
 2923 00cc EE21     		movs	r1, #238
 2924 00ce 8022     		movs	r2, #128
 2925 00d0 FFF7FEFF 		bl	VL53L0X_UpdateByte
 2926 00d4 0346     		mov	r3, r0
 2927 00d6 1A46     		mov	r2, r3
 2928 00d8 FB7B     		ldrb	r3, [r7, #15]
 2929 00da 1343     		orrs	r3, r3, r2
 2930 00dc FB73     		strb	r3, [r7, #15]
 2931              	.L158:
1112:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
1113:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1114:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0xFF, 0x01);
 2932              		.loc 1 1114 0
 2933 00de 7868     		ldr	r0, [r7, #4]
 2934 00e0 FF21     		movs	r1, #255
 2935 00e2 0122     		movs	r2, #1
 2936 00e4 FFF7FEFF 		bl	VL53L0X_WrByte
 2937 00e8 0346     		mov	r3, r0
 2938 00ea 1A46     		mov	r2, r3
 2939 00ec FB7B     		ldrb	r3, [r7, #15]
 2940 00ee 1343     		orrs	r3, r3, r2
 2941 00f0 FB73     		strb	r3, [r7, #15]
1115:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0x00, 0x01);
 2942              		.loc 1 1115 0
 2943 00f2 7868     		ldr	r0, [r7, #4]
 2944 00f4 0021     		movs	r1, #0
 2945 00f6 0122     		movs	r2, #1
 2946 00f8 FFF7FEFF 		bl	VL53L0X_WrByte
 2947 00fc 0346     		mov	r3, r0
 2948 00fe 1A46     		mov	r2, r3
 2949 0100 FB7B     		ldrb	r3, [r7, #15]
 2950 0102 1343     		orrs	r3, r3, r2
 2951 0104 FB73     		strb	r3, [r7, #15]
1116:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status |= VL53L0X_WrByte(Dev, 0xFF, 0x00);
 2952              		.loc 1 1116 0
 2953 0106 7868     		ldr	r0, [r7, #4]
 2954 0108 FF21     		movs	r1, #255
 2955 010a 0022     		movs	r2, #0
 2956 010c FFF7FEFF 		bl	VL53L0X_WrByte
 2957 0110 0346     		mov	r3, r0
 2958 0112 1A46     		mov	r2, r3
 2959 0114 FB7B     		ldrb	r3, [r7, #15]
 2960 0116 1343     		orrs	r3, r3, r2
 2961 0118 FB73     		strb	r3, [r7, #15]
1117:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1118:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	*pPhaseCal = (uint8_t)(PhaseCalint&0xEF);
 2962              		.loc 1 1118 0
 2963 011a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2964 011c 23F01003 		bic	r3, r3, #16
 2965 0120 DAB2     		uxtb	r2, r3
 2966 0122 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccHkrygC.s 			page 73


 2967 0124 1A70     		strb	r2, [r3]
1119:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1120:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 2968              		.loc 1 1120 0
 2969 0126 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2970 0128 5BB2     		sxtb	r3, r3
1121:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 2971              		.loc 1 1121 0
 2972 012a 1846     		mov	r0, r3
 2973 012c 1037     		adds	r7, r7, #16
 2974              	.LCFI92:
 2975              		.cfi_def_cfa_offset 8
 2976 012e BD46     		mov	sp, r7
 2977              	.LCFI93:
 2978              		.cfi_def_cfa_register 13
 2979              		@ sp needed
 2980 0130 80BD     		pop	{r7, pc}
 2981              		.cfi_endproc
 2982              	.LFE140:
 2984 0132 00BF     		.section	.text.VL53L0X_perform_vhv_calibration,"ax",%progbits
 2985              		.align	2
 2986              		.global	VL53L0X_perform_vhv_calibration
 2987              		.thumb
 2988              		.thumb_func
 2990              	VL53L0X_perform_vhv_calibration:
 2991              	.LFB141:
1122:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1123:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1124:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_vhv_calibration(VL53L0X_DEV Dev,
1125:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t *pVhvSettings, const uint8_t get_data_enable,
1126:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	const uint8_t restore_config)
1127:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 2992              		.loc 1 1127 0
 2993              		.cfi_startproc
 2994              		@ args = 0, pretend = 0, frame = 24
 2995              		@ frame_needed = 1, uses_anonymous_args = 0
 2996 0000 90B5     		push	{r4, r7, lr}
 2997              	.LCFI94:
 2998              		.cfi_def_cfa_offset 12
 2999              		.cfi_offset 4, -12
 3000              		.cfi_offset 7, -8
 3001              		.cfi_offset 14, -4
 3002 0002 8BB0     		sub	sp, sp, #44
 3003              	.LCFI95:
 3004              		.cfi_def_cfa_offset 56
 3005 0004 04AF     		add	r7, sp, #16
 3006              	.LCFI96:
 3007              		.cfi_def_cfa 7, 40
 3008 0006 F860     		str	r0, [r7, #12]
 3009 0008 B960     		str	r1, [r7, #8]
 3010 000a 1146     		mov	r1, r2
 3011 000c 1A46     		mov	r2, r3
 3012 000e 0B46     		mov	r3, r1
 3013 0010 FB71     		strb	r3, [r7, #7]
 3014 0012 1346     		mov	r3, r2
 3015 0014 BB71     		strb	r3, [r7, #6]
1128:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
ARM GAS  /tmp/ccHkrygC.s 			page 74


 3016              		.loc 1 1128 0
 3017 0016 0023     		movs	r3, #0
 3018 0018 FB75     		strb	r3, [r7, #23]
1129:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t SequenceConfig = 0;
 3019              		.loc 1 1129 0
 3020 001a 0023     		movs	r3, #0
 3021 001c BB75     		strb	r3, [r7, #22]
1130:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettings = 0;
 3022              		.loc 1 1130 0
 3023 001e 0023     		movs	r3, #0
 3024 0020 7B75     		strb	r3, [r7, #21]
1131:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCal = 0;
 3025              		.loc 1 1131 0
 3026 0022 0023     		movs	r3, #0
 3027 0024 3B75     		strb	r3, [r7, #20]
1132:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCalInt = 0;
 3028              		.loc 1 1132 0
 3029 0026 0023     		movs	r3, #0
 3030 0028 FB74     		strb	r3, [r7, #19]
1133:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1134:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* store the value of the sequence config,
1135:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * this will be reset before the end of the function
1136:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
1137:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1138:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (restore_config)
 3031              		.loc 1 1138 0
 3032 002a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 3033 002c 002B     		cmp	r3, #0
 3034 002e 03D0     		beq	.L162
1139:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		SequenceConfig = PALDevDataGet(Dev, SequenceConfig);
 3035              		.loc 1 1139 0
 3036 0030 FB68     		ldr	r3, [r7, #12]
 3037 0032 93F83031 		ldrb	r3, [r3, #304]
 3038 0036 BB75     		strb	r3, [r7, #22]
 3039              	.L162:
1140:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1141:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Run VHV */
1142:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG, 0x01);
 3040              		.loc 1 1142 0
 3041 0038 F868     		ldr	r0, [r7, #12]
 3042 003a 0121     		movs	r1, #1
 3043 003c 0122     		movs	r2, #1
 3044 003e FFF7FEFF 		bl	VL53L0X_WrByte
 3045 0042 0346     		mov	r3, r0
 3046 0044 FB75     		strb	r3, [r7, #23]
1143:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1144:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 3047              		.loc 1 1144 0
 3048 0046 97F91730 		ldrsb	r3, [r7, #23]
 3049 004a 002B     		cmp	r3, #0
 3050 004c 05D1     		bne	.L163
1145:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_perform_single_ref_calibration(Dev, 0x40);
 3051              		.loc 1 1145 0
 3052 004e F868     		ldr	r0, [r7, #12]
 3053 0050 4021     		movs	r1, #64
 3054 0052 FFF7FEFF 		bl	VL53L0X_perform_single_ref_calibration
 3055 0056 0346     		mov	r3, r0
ARM GAS  /tmp/ccHkrygC.s 			page 75


 3056 0058 FB75     		strb	r3, [r7, #23]
 3057              	.L163:
1146:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1147:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Read VHV from device */
1148:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if ((Status == VL53L0X_ERROR_NONE) && (get_data_enable == 1)) {
 3058              		.loc 1 1148 0
 3059 005a 97F91730 		ldrsb	r3, [r7, #23]
 3060 005e 002B     		cmp	r3, #0
 3061 0060 15D1     		bne	.L164
 3062              		.loc 1 1148 0 is_stmt 0 discriminator 1
 3063 0062 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3064 0064 012B     		cmp	r3, #1
 3065 0066 12D1     		bne	.L164
1149:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_ref_calibration_io(Dev, 1,
 3066              		.loc 1 1149 0 is_stmt 1
 3067 0068 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 3068 006a 3C7D     		ldrb	r4, [r7, #20]	@ zero_extendqisi2
 3069 006c BB68     		ldr	r3, [r7, #8]
 3070 006e 0093     		str	r3, [sp]
 3071 0070 07F11303 		add	r3, r7, #19
 3072 0074 0193     		str	r3, [sp, #4]
 3073 0076 0123     		movs	r3, #1
 3074 0078 0293     		str	r3, [sp, #8]
 3075 007a 0023     		movs	r3, #0
 3076 007c 0393     		str	r3, [sp, #12]
 3077 007e F868     		ldr	r0, [r7, #12]
 3078 0080 0121     		movs	r1, #1
 3079 0082 2346     		mov	r3, r4
 3080 0084 FFF7FEFF 		bl	VL53L0X_ref_calibration_io
 3081 0088 0346     		mov	r3, r0
 3082 008a FB75     		strb	r3, [r7, #23]
 3083 008c 02E0     		b	.L165
 3084              	.L164:
1150:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VhvSettings, PhaseCal, /* Not used here */
1151:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			pVhvSettings, &PhaseCalInt,
1152:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			1, 0);
1153:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	} else
1154:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*pVhvSettings = 0;
 3085              		.loc 1 1154 0
 3086 008e BB68     		ldr	r3, [r7, #8]
 3087 0090 0022     		movs	r2, #0
 3088 0092 1A70     		strb	r2, [r3]
 3089              	.L165:
1155:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1156:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1157:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if ((Status == VL53L0X_ERROR_NONE) && restore_config) {
 3090              		.loc 1 1157 0
 3091 0094 97F91730 		ldrsb	r3, [r7, #23]
 3092 0098 002B     		cmp	r3, #0
 3093 009a 12D1     		bne	.L166
 3094              		.loc 1 1157 0 is_stmt 0 discriminator 1
 3095 009c BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 3096 009e 002B     		cmp	r3, #0
 3097 00a0 0FD0     		beq	.L166
1158:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* restore the previous Sequence Config */
1159:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG,
 3098              		.loc 1 1159 0 is_stmt 1
ARM GAS  /tmp/ccHkrygC.s 			page 76


 3099 00a2 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3100 00a4 F868     		ldr	r0, [r7, #12]
 3101 00a6 0121     		movs	r1, #1
 3102 00a8 1A46     		mov	r2, r3
 3103 00aa FFF7FEFF 		bl	VL53L0X_WrByte
 3104 00ae 0346     		mov	r3, r0
 3105 00b0 FB75     		strb	r3, [r7, #23]
1160:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				SequenceConfig);
1161:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE)
 3106              		.loc 1 1161 0
 3107 00b2 97F91730 		ldrsb	r3, [r7, #23]
 3108 00b6 002B     		cmp	r3, #0
 3109 00b8 03D1     		bne	.L166
1162:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			PALDevDataSet(Dev, SequenceConfig, SequenceConfig);
 3110              		.loc 1 1162 0
 3111 00ba FB68     		ldr	r3, [r7, #12]
 3112 00bc BA7D     		ldrb	r2, [r7, #22]
 3113 00be 83F83021 		strb	r2, [r3, #304]
 3114              	.L166:
1163:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1164:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
1165:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1166:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 3115              		.loc 1 1166 0
 3116 00c2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3117 00c4 5BB2     		sxtb	r3, r3
1167:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 3118              		.loc 1 1167 0
 3119 00c6 1846     		mov	r0, r3
 3120 00c8 1C37     		adds	r7, r7, #28
 3121              	.LCFI97:
 3122              		.cfi_def_cfa_offset 12
 3123 00ca BD46     		mov	sp, r7
 3124              	.LCFI98:
 3125              		.cfi_def_cfa_register 13
 3126              		@ sp needed
 3127 00cc 90BD     		pop	{r4, r7, pc}
 3128              		.cfi_endproc
 3129              	.LFE141:
 3131 00ce 00BF     		.section	.text.VL53L0X_perform_phase_calibration,"ax",%progbits
 3132              		.align	2
 3133              		.global	VL53L0X_perform_phase_calibration
 3134              		.thumb
 3135              		.thumb_func
 3137              	VL53L0X_perform_phase_calibration:
 3138              	.LFB142:
1168:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1169:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_phase_calibration(VL53L0X_DEV Dev,
1170:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t *pPhaseCal, const uint8_t get_data_enable,
1171:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	const uint8_t restore_config)
1172:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 3139              		.loc 1 1172 0
 3140              		.cfi_startproc
 3141              		@ args = 0, pretend = 0, frame = 24
 3142              		@ frame_needed = 1, uses_anonymous_args = 0
 3143 0000 90B5     		push	{r4, r7, lr}
 3144              	.LCFI99:
ARM GAS  /tmp/ccHkrygC.s 			page 77


 3145              		.cfi_def_cfa_offset 12
 3146              		.cfi_offset 4, -12
 3147              		.cfi_offset 7, -8
 3148              		.cfi_offset 14, -4
 3149 0002 8BB0     		sub	sp, sp, #44
 3150              	.LCFI100:
 3151              		.cfi_def_cfa_offset 56
 3152 0004 04AF     		add	r7, sp, #16
 3153              	.LCFI101:
 3154              		.cfi_def_cfa 7, 40
 3155 0006 F860     		str	r0, [r7, #12]
 3156 0008 B960     		str	r1, [r7, #8]
 3157 000a 1146     		mov	r1, r2
 3158 000c 1A46     		mov	r2, r3
 3159 000e 0B46     		mov	r3, r1
 3160 0010 FB71     		strb	r3, [r7, #7]
 3161 0012 1346     		mov	r3, r2
 3162 0014 BB71     		strb	r3, [r7, #6]
1173:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 3163              		.loc 1 1173 0
 3164 0016 0023     		movs	r3, #0
 3165 0018 FB75     		strb	r3, [r7, #23]
1174:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t SequenceConfig = 0;
 3166              		.loc 1 1174 0
 3167 001a 0023     		movs	r3, #0
 3168 001c BB75     		strb	r3, [r7, #22]
1175:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettings = 0;
 3169              		.loc 1 1175 0
 3170 001e 0023     		movs	r3, #0
 3171 0020 7B75     		strb	r3, [r7, #21]
1176:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCal = 0;
 3172              		.loc 1 1176 0
 3173 0022 0023     		movs	r3, #0
 3174 0024 3B75     		strb	r3, [r7, #20]
1177:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettingsint;
1178:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1179:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* store the value of the sequence config,
1180:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * this will be reset before the end of the function
1181:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
1182:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1183:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (restore_config)
 3175              		.loc 1 1183 0
 3176 0026 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 3177 0028 002B     		cmp	r3, #0
 3178 002a 03D0     		beq	.L169
1184:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		SequenceConfig = PALDevDataGet(Dev, SequenceConfig);
 3179              		.loc 1 1184 0
 3180 002c FB68     		ldr	r3, [r7, #12]
 3181 002e 93F83031 		ldrb	r3, [r3, #304]
 3182 0032 BB75     		strb	r3, [r7, #22]
 3183              	.L169:
1185:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1186:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Run PhaseCal */
1187:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG, 0x02);
 3184              		.loc 1 1187 0
 3185 0034 F868     		ldr	r0, [r7, #12]
 3186 0036 0121     		movs	r1, #1
ARM GAS  /tmp/ccHkrygC.s 			page 78


 3187 0038 0222     		movs	r2, #2
 3188 003a FFF7FEFF 		bl	VL53L0X_WrByte
 3189 003e 0346     		mov	r3, r0
 3190 0040 FB75     		strb	r3, [r7, #23]
1188:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1189:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 3191              		.loc 1 1189 0
 3192 0042 97F91730 		ldrsb	r3, [r7, #23]
 3193 0046 002B     		cmp	r3, #0
 3194 0048 05D1     		bne	.L170
1190:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_perform_single_ref_calibration(Dev, 0x0);
 3195              		.loc 1 1190 0
 3196 004a F868     		ldr	r0, [r7, #12]
 3197 004c 0021     		movs	r1, #0
 3198 004e FFF7FEFF 		bl	VL53L0X_perform_single_ref_calibration
 3199 0052 0346     		mov	r3, r0
 3200 0054 FB75     		strb	r3, [r7, #23]
 3201              	.L170:
1191:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1192:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* Read PhaseCal from device */
1193:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if ((Status == VL53L0X_ERROR_NONE) && (get_data_enable == 1)) {
 3202              		.loc 1 1193 0
 3203 0056 97F91730 		ldrsb	r3, [r7, #23]
 3204 005a 002B     		cmp	r3, #0
 3205 005c 15D1     		bne	.L171
 3206              		.loc 1 1193 0 is_stmt 0 discriminator 1
 3207 005e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3208 0060 012B     		cmp	r3, #1
 3209 0062 12D1     		bne	.L171
1194:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_ref_calibration_io(Dev, 1,
 3210              		.loc 1 1194 0 is_stmt 1
 3211 0064 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 3212 0066 3C7D     		ldrb	r4, [r7, #20]	@ zero_extendqisi2
 3213 0068 07F11303 		add	r3, r7, #19
 3214 006c 0093     		str	r3, [sp]
 3215 006e BB68     		ldr	r3, [r7, #8]
 3216 0070 0193     		str	r3, [sp, #4]
 3217 0072 0023     		movs	r3, #0
 3218 0074 0293     		str	r3, [sp, #8]
 3219 0076 0123     		movs	r3, #1
 3220 0078 0393     		str	r3, [sp, #12]
 3221 007a F868     		ldr	r0, [r7, #12]
 3222 007c 0121     		movs	r1, #1
 3223 007e 2346     		mov	r3, r4
 3224 0080 FFF7FEFF 		bl	VL53L0X_ref_calibration_io
 3225 0084 0346     		mov	r3, r0
 3226 0086 FB75     		strb	r3, [r7, #23]
 3227 0088 02E0     		b	.L172
 3228              	.L171:
1195:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			VhvSettings, PhaseCal, /* Not used here */
1196:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			&VhvSettingsint, pPhaseCal,
1197:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			0, 1);
1198:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	} else
1199:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		*pPhaseCal = 0;
 3229              		.loc 1 1199 0
 3230 008a BB68     		ldr	r3, [r7, #8]
 3231 008c 0022     		movs	r2, #0
ARM GAS  /tmp/ccHkrygC.s 			page 79


 3232 008e 1A70     		strb	r2, [r3]
 3233              	.L172:
1200:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1201:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1202:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if ((Status == VL53L0X_ERROR_NONE) && restore_config) {
 3234              		.loc 1 1202 0
 3235 0090 97F91730 		ldrsb	r3, [r7, #23]
 3236 0094 002B     		cmp	r3, #0
 3237 0096 12D1     		bne	.L173
 3238              		.loc 1 1202 0 is_stmt 0 discriminator 1
 3239 0098 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 3240 009a 002B     		cmp	r3, #0
 3241 009c 0FD0     		beq	.L173
1203:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* restore the previous Sequence Config */
1204:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG,
 3242              		.loc 1 1204 0 is_stmt 1
 3243 009e BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3244 00a0 F868     		ldr	r0, [r7, #12]
 3245 00a2 0121     		movs	r1, #1
 3246 00a4 1A46     		mov	r2, r3
 3247 00a6 FFF7FEFF 		bl	VL53L0X_WrByte
 3248 00aa 0346     		mov	r3, r0
 3249 00ac FB75     		strb	r3, [r7, #23]
1205:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				SequenceConfig);
1206:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE)
 3250              		.loc 1 1206 0
 3251 00ae 97F91730 		ldrsb	r3, [r7, #23]
 3252 00b2 002B     		cmp	r3, #0
 3253 00b4 03D1     		bne	.L173
1207:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			PALDevDataSet(Dev, SequenceConfig, SequenceConfig);
 3254              		.loc 1 1207 0
 3255 00b6 FB68     		ldr	r3, [r7, #12]
 3256 00b8 BA7D     		ldrb	r2, [r7, #22]
 3257 00ba 83F83021 		strb	r2, [r3, #304]
 3258              	.L173:
1208:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1209:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
1210:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1211:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 3259              		.loc 1 1211 0
 3260 00be FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3261 00c0 5BB2     		sxtb	r3, r3
1212:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 3262              		.loc 1 1212 0
 3263 00c2 1846     		mov	r0, r3
 3264 00c4 1C37     		adds	r7, r7, #28
 3265              	.LCFI102:
 3266              		.cfi_def_cfa_offset 12
 3267 00c6 BD46     		mov	sp, r7
 3268              	.LCFI103:
 3269              		.cfi_def_cfa_register 13
 3270              		@ sp needed
 3271 00c8 90BD     		pop	{r4, r7, pc}
 3272              		.cfi_endproc
 3273              	.LFE142:
 3275 00ca 00BF     		.section	.text.VL53L0X_perform_ref_calibration,"ax",%progbits
 3276              		.align	2
ARM GAS  /tmp/ccHkrygC.s 			page 80


 3277              		.global	VL53L0X_perform_ref_calibration
 3278              		.thumb
 3279              		.thumb_func
 3281              	VL53L0X_perform_ref_calibration:
 3282              	.LFB143:
1213:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1214:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_perform_ref_calibration(VL53L0X_DEV Dev,
1215:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t *pVhvSettings, uint8_t *pPhaseCal, uint8_t get_data_enable)
1216:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 3283              		.loc 1 1216 0
 3284              		.cfi_startproc
 3285              		@ args = 0, pretend = 0, frame = 24
 3286              		@ frame_needed = 1, uses_anonymous_args = 0
 3287 0000 80B5     		push	{r7, lr}
 3288              	.LCFI104:
 3289              		.cfi_def_cfa_offset 8
 3290              		.cfi_offset 7, -8
 3291              		.cfi_offset 14, -4
 3292 0002 86B0     		sub	sp, sp, #24
 3293              	.LCFI105:
 3294              		.cfi_def_cfa_offset 32
 3295 0004 00AF     		add	r7, sp, #0
 3296              	.LCFI106:
 3297              		.cfi_def_cfa_register 7
 3298 0006 F860     		str	r0, [r7, #12]
 3299 0008 B960     		str	r1, [r7, #8]
 3300 000a 7A60     		str	r2, [r7, #4]
 3301 000c FB70     		strb	r3, [r7, #3]
1217:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 3302              		.loc 1 1217 0
 3303 000e 0023     		movs	r3, #0
 3304 0010 FB75     		strb	r3, [r7, #23]
1218:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t SequenceConfig = 0;
 3305              		.loc 1 1218 0
 3306 0012 0023     		movs	r3, #0
 3307 0014 BB75     		strb	r3, [r7, #22]
1219:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1220:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* store the value of the sequence config,
1221:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * this will be reset before the end of the function
1222:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 */
1223:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1224:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	SequenceConfig = PALDevDataGet(Dev, SequenceConfig);
 3308              		.loc 1 1224 0
 3309 0016 FB68     		ldr	r3, [r7, #12]
 3310 0018 93F83031 		ldrb	r3, [r3, #304]
 3311 001c BB75     		strb	r3, [r7, #22]
1225:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1226:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	/* In the following function we don't save the config to optimize
1227:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	 * writes on device. Config is saved and restored only once. */
1228:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_perform_vhv_calibration(
 3312              		.loc 1 1228 0
 3313 001e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3314 0020 F868     		ldr	r0, [r7, #12]
 3315 0022 B968     		ldr	r1, [r7, #8]
 3316 0024 1A46     		mov	r2, r3
 3317 0026 0023     		movs	r3, #0
 3318 0028 FFF7FEFF 		bl	VL53L0X_perform_vhv_calibration
ARM GAS  /tmp/ccHkrygC.s 			page 81


 3319 002c 0346     		mov	r3, r0
 3320 002e FB75     		strb	r3, [r7, #23]
1229:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Dev, pVhvSettings, get_data_enable, 0);
1230:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1231:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE)
 3321              		.loc 1 1231 0
 3322 0030 97F91730 		ldrsb	r3, [r7, #23]
 3323 0034 002B     		cmp	r3, #0
 3324 0036 08D1     		bne	.L176
1232:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_perform_phase_calibration(
 3325              		.loc 1 1232 0
 3326 0038 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3327 003a F868     		ldr	r0, [r7, #12]
 3328 003c 7968     		ldr	r1, [r7, #4]
 3329 003e 1A46     		mov	r2, r3
 3330 0040 0023     		movs	r3, #0
 3331 0042 FFF7FEFF 		bl	VL53L0X_perform_phase_calibration
 3332 0046 0346     		mov	r3, r0
 3333 0048 FB75     		strb	r3, [r7, #23]
 3334              	.L176:
1233:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			Dev, pPhaseCal, get_data_enable, 0);
1234:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1235:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	if (Status == VL53L0X_ERROR_NONE) {
 3335              		.loc 1 1235 0
 3336 004a 97F91730 		ldrsb	r3, [r7, #23]
 3337 004e 002B     		cmp	r3, #0
 3338 0050 0FD1     		bne	.L177
1236:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		/* restore the previous Sequence Config */
1237:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		Status = VL53L0X_WrByte(Dev, VL53L0X_REG_SYSTEM_SEQUENCE_CONFIG,
 3339              		.loc 1 1237 0
 3340 0052 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3341 0054 F868     		ldr	r0, [r7, #12]
 3342 0056 0121     		movs	r1, #1
 3343 0058 1A46     		mov	r2, r3
 3344 005a FFF7FEFF 		bl	VL53L0X_WrByte
 3345 005e 0346     		mov	r3, r0
 3346 0060 FB75     		strb	r3, [r7, #23]
1238:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 				SequenceConfig);
1239:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		if (Status == VL53L0X_ERROR_NONE)
 3347              		.loc 1 1239 0
 3348 0062 97F91730 		ldrsb	r3, [r7, #23]
 3349 0066 002B     		cmp	r3, #0
 3350 0068 03D1     		bne	.L177
1240:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 			PALDevDataSet(Dev, SequenceConfig, SequenceConfig);
 3351              		.loc 1 1240 0
 3352 006a FB68     		ldr	r3, [r7, #12]
 3353 006c BA7D     		ldrb	r2, [r7, #22]
 3354 006e 83F83021 		strb	r2, [r3, #304]
 3355              	.L177:
1241:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1242:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	}
1243:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1244:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 3356              		.loc 1 1244 0
 3357 0072 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3358 0074 5BB2     		sxtb	r3, r3
1245:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
ARM GAS  /tmp/ccHkrygC.s 			page 82


 3359              		.loc 1 1245 0
 3360 0076 1846     		mov	r0, r3
 3361 0078 1837     		adds	r7, r7, #24
 3362              	.LCFI107:
 3363              		.cfi_def_cfa_offset 8
 3364 007a BD46     		mov	sp, r7
 3365              	.LCFI108:
 3366              		.cfi_def_cfa_register 13
 3367              		@ sp needed
 3368 007c 80BD     		pop	{r7, pc}
 3369              		.cfi_endproc
 3370              	.LFE143:
 3372 007e 00BF     		.section	.text.VL53L0X_set_ref_calibration,"ax",%progbits
 3373              		.align	2
 3374              		.global	VL53L0X_set_ref_calibration
 3375              		.thumb
 3376              		.thumb_func
 3378              	VL53L0X_set_ref_calibration:
 3379              	.LFB144:
1246:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1247:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_set_ref_calibration(VL53L0X_DEV Dev,
1248:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint8_t VhvSettings, uint8_t PhaseCal)
1249:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 3380              		.loc 1 1249 0
 3381              		.cfi_startproc
 3382              		@ args = 0, pretend = 0, frame = 16
 3383              		@ frame_needed = 1, uses_anonymous_args = 0
 3384 0000 90B5     		push	{r4, r7, lr}
 3385              	.LCFI109:
 3386              		.cfi_def_cfa_offset 12
 3387              		.cfi_offset 4, -12
 3388              		.cfi_offset 7, -8
 3389              		.cfi_offset 14, -4
 3390 0002 89B0     		sub	sp, sp, #36
 3391              	.LCFI110:
 3392              		.cfi_def_cfa_offset 48
 3393 0004 04AF     		add	r7, sp, #16
 3394              	.LCFI111:
 3395              		.cfi_def_cfa 7, 32
 3396 0006 7860     		str	r0, [r7, #4]
 3397 0008 0B46     		mov	r3, r1
 3398 000a FB70     		strb	r3, [r7, #3]
 3399 000c 1346     		mov	r3, r2
 3400 000e BB70     		strb	r3, [r7, #2]
1250:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 3401              		.loc 1 1250 0
 3402 0010 0023     		movs	r3, #0
 3403 0012 FB73     		strb	r3, [r7, #15]
1251:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t pVhvSettings;
1252:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t pPhaseCal;
1253:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1254:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_ref_calibration_io(Dev, 0,
 3404              		.loc 1 1254 0
 3405 0014 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 3406 0016 BC78     		ldrb	r4, [r7, #2]	@ zero_extendqisi2
 3407 0018 07F10E03 		add	r3, r7, #14
 3408 001c 0093     		str	r3, [sp]
ARM GAS  /tmp/ccHkrygC.s 			page 83


 3409 001e 07F10D03 		add	r3, r7, #13
 3410 0022 0193     		str	r3, [sp, #4]
 3411 0024 0123     		movs	r3, #1
 3412 0026 0293     		str	r3, [sp, #8]
 3413 0028 0123     		movs	r3, #1
 3414 002a 0393     		str	r3, [sp, #12]
 3415 002c 7868     		ldr	r0, [r7, #4]
 3416 002e 0021     		movs	r1, #0
 3417 0030 2346     		mov	r3, r4
 3418 0032 FFF7FEFF 		bl	VL53L0X_ref_calibration_io
 3419 0036 0346     		mov	r3, r0
 3420 0038 FB73     		strb	r3, [r7, #15]
1255:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VhvSettings, PhaseCal,
1256:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		&pVhvSettings, &pPhaseCal,
1257:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		1, 1);
1258:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1259:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 3421              		.loc 1 1259 0
 3422 003a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3423 003c 5BB2     		sxtb	r3, r3
1260:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 3424              		.loc 1 1260 0
 3425 003e 1846     		mov	r0, r3
 3426 0040 1437     		adds	r7, r7, #20
 3427              	.LCFI112:
 3428              		.cfi_def_cfa_offset 12
 3429 0042 BD46     		mov	sp, r7
 3430              	.LCFI113:
 3431              		.cfi_def_cfa_register 13
 3432              		@ sp needed
 3433 0044 90BD     		pop	{r4, r7, pc}
 3434              		.cfi_endproc
 3435              	.LFE144:
 3437 0046 00BF     		.section	.text.VL53L0X_get_ref_calibration,"ax",%progbits
 3438              		.align	2
 3439              		.global	VL53L0X_get_ref_calibration
 3440              		.thumb
 3441              		.thumb_func
 3443              	VL53L0X_get_ref_calibration:
 3444              	.LFB145:
1261:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1262:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** VL53L0X_Error VL53L0X_get_ref_calibration(VL53L0X_DEV Dev,
1263:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		uint8_t *pVhvSettings, uint8_t *pPhaseCal)
1264:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** {
 3445              		.loc 1 1264 0
 3446              		.cfi_startproc
 3447              		@ args = 0, pretend = 0, frame = 24
 3448              		@ frame_needed = 1, uses_anonymous_args = 0
 3449 0000 90B5     		push	{r4, r7, lr}
 3450              	.LCFI114:
 3451              		.cfi_def_cfa_offset 12
 3452              		.cfi_offset 4, -12
 3453              		.cfi_offset 7, -8
 3454              		.cfi_offset 14, -4
 3455 0002 8BB0     		sub	sp, sp, #44
 3456              	.LCFI115:
 3457              		.cfi_def_cfa_offset 56
ARM GAS  /tmp/ccHkrygC.s 			page 84


 3458 0004 04AF     		add	r7, sp, #16
 3459              	.LCFI116:
 3460              		.cfi_def_cfa 7, 40
 3461 0006 F860     		str	r0, [r7, #12]
 3462 0008 B960     		str	r1, [r7, #8]
 3463 000a 7A60     		str	r2, [r7, #4]
1265:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 3464              		.loc 1 1265 0
 3465 000c 0023     		movs	r3, #0
 3466 000e FB75     		strb	r3, [r7, #23]
1266:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t VhvSettings = 0;
 3467              		.loc 1 1266 0
 3468 0010 0023     		movs	r3, #0
 3469 0012 BB75     		strb	r3, [r7, #22]
1267:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	uint8_t PhaseCal = 0;
 3470              		.loc 1 1267 0
 3471 0014 0023     		movs	r3, #0
 3472 0016 7B75     		strb	r3, [r7, #21]
1268:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1269:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	Status = VL53L0X_ref_calibration_io(Dev, 1,
 3473              		.loc 1 1269 0
 3474 0018 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 3475 001a 7C7D     		ldrb	r4, [r7, #21]	@ zero_extendqisi2
 3476 001c BB68     		ldr	r3, [r7, #8]
 3477 001e 0093     		str	r3, [sp]
 3478 0020 7B68     		ldr	r3, [r7, #4]
 3479 0022 0193     		str	r3, [sp, #4]
 3480 0024 0123     		movs	r3, #1
 3481 0026 0293     		str	r3, [sp, #8]
 3482 0028 0123     		movs	r3, #1
 3483 002a 0393     		str	r3, [sp, #12]
 3484 002c F868     		ldr	r0, [r7, #12]
 3485 002e 0121     		movs	r1, #1
 3486 0030 2346     		mov	r3, r4
 3487 0032 FFF7FEFF 		bl	VL53L0X_ref_calibration_io
 3488 0036 0346     		mov	r3, r0
 3489 0038 FB75     		strb	r3, [r7, #23]
1270:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		VhvSettings, PhaseCal,
1271:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		pVhvSettings, pPhaseCal,
1272:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 		1, 1);
1273:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 
1274:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** 	return Status;
 3490              		.loc 1 1274 0
 3491 003a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3492 003c 5BB2     		sxtb	r3, r3
1275:Drivers/VL53L0X/API/vl53l0x_api_calibration.c **** }
 3493              		.loc 1 1275 0
 3494 003e 1846     		mov	r0, r3
 3495 0040 1C37     		adds	r7, r7, #28
 3496              	.LCFI117:
 3497              		.cfi_def_cfa_offset 12
 3498 0042 BD46     		mov	sp, r7
 3499              	.LCFI118:
 3500              		.cfi_def_cfa_register 13
 3501              		@ sp needed
 3502 0044 90BD     		pop	{r4, r7, pc}
 3503              		.cfi_endproc
ARM GAS  /tmp/ccHkrygC.s 			page 85


 3504              	.LFE145:
 3506 0046 00BF     		.text
 3507              	.Letext0:
 3508              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3509              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 3510              		.file 4 "Drivers/VL53L0X/API/vl53l0x_types.h"
 3511              		.file 5 "Drivers/VL53L0X/API/vl53l0x_device.h"
 3512              		.file 6 "Drivers/VL53L0X/API/vl53l0x_def.h"
 3513              		.file 7 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 3514              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 3515              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 3516              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_i2c.h"
 3517              		.file 11 "Drivers/VL53L0X/Platform/vl53l0x_platform.h"
 3518              		.file 12 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  /tmp/ccHkrygC.s 			page 86


DEFINED SYMBOLS
                            *ABS*:0000000000000000 vl53l0x_api_calibration.c
     /tmp/ccHkrygC.s:25     .data.refArrayQuadrants:0000000000000000 refArrayQuadrants
     /tmp/ccHkrygC.s:22     .data.refArrayQuadrants:0000000000000000 $d
     /tmp/ccHkrygC.s:31     .text.VL53L0X_perform_xtalk_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:36     .text.VL53L0X_perform_xtalk_calibration:0000000000000000 VL53L0X_perform_xtalk_calibration
     /tmp/ccHkrygC.s:311    .text.VL53L0X_perform_offset_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:316    .text.VL53L0X_perform_offset_calibration:0000000000000000 VL53L0X_perform_offset_calibration
     /tmp/ccHkrygC.s:549    .text.VL53L0X_set_offset_calibration_data_micro_meter:0000000000000000 $t
     /tmp/ccHkrygC.s:554    .text.VL53L0X_set_offset_calibration_data_micro_meter:0000000000000000 VL53L0X_set_offset_calibration_data_micro_meter
     /tmp/ccHkrygC.s:658    .text.VL53L0X_set_offset_calibration_data_micro_meter:0000000000000084 $d
     /tmp/ccHkrygC.s:665    .text.VL53L0X_get_offset_calibration_data_micro_meter:0000000000000000 $t
     /tmp/ccHkrygC.s:670    .text.VL53L0X_get_offset_calibration_data_micro_meter:0000000000000000 VL53L0X_get_offset_calibration_data_micro_meter
     /tmp/ccHkrygC.s:766    .text.VL53L0X_apply_offset_adjustment:0000000000000000 $t
     /tmp/ccHkrygC.s:771    .text.VL53L0X_apply_offset_adjustment:0000000000000000 VL53L0X_apply_offset_adjustment
     /tmp/ccHkrygC.s:857    .text.get_next_good_spad:0000000000000000 $t
     /tmp/ccHkrygC.s:862    .text.get_next_good_spad:0000000000000000 get_next_good_spad
     /tmp/ccHkrygC.s:1004   .text.is_aperture:0000000000000000 $t
     /tmp/ccHkrygC.s:1009   .text.is_aperture:0000000000000000 is_aperture
     /tmp/ccHkrygC.s:1063   .text.is_aperture:0000000000000030 $d
     /tmp/ccHkrygC.s:1068   .text.enable_spad_bit:0000000000000000 $t
     /tmp/ccHkrygC.s:1073   .text.enable_spad_bit:0000000000000000 enable_spad_bit
     /tmp/ccHkrygC.s:1162   .text.count_enabled_spads:0000000000000000 $t
     /tmp/ccHkrygC.s:1167   .text.count_enabled_spads:0000000000000000 count_enabled_spads
     /tmp/ccHkrygC.s:1360   .text.set_ref_spad_map:0000000000000000 $t
     /tmp/ccHkrygC.s:1365   .text.set_ref_spad_map:0000000000000000 set_ref_spad_map
     /tmp/ccHkrygC.s:1409   .text.get_ref_spad_map:0000000000000000 $t
     /tmp/ccHkrygC.s:1414   .text.get_ref_spad_map:0000000000000000 get_ref_spad_map
     /tmp/ccHkrygC.s:1458   .text.enable_ref_spads:0000000000000000 $t
     /tmp/ccHkrygC.s:1463   .text.enable_ref_spads:0000000000000000 enable_ref_spads
     /tmp/ccHkrygC.s:1633   .text.perform_ref_signal_measurement:0000000000000000 $t
     /tmp/ccHkrygC.s:1638   .text.perform_ref_signal_measurement:0000000000000000 perform_ref_signal_measurement
     /tmp/ccHkrygC.s:1765   .text.VL53L0X_perform_ref_spad_management:0000000000000000 $t
     /tmp/ccHkrygC.s:1770   .text.VL53L0X_perform_ref_spad_management:0000000000000000 VL53L0X_perform_ref_spad_management
     /tmp/ccHkrygC.s:3281   .text.VL53L0X_perform_ref_calibration:0000000000000000 VL53L0X_perform_ref_calibration
     /tmp/ccHkrygC.s:2371   .text.VL53L0X_set_reference_spads:0000000000000000 $t
     /tmp/ccHkrygC.s:2376   .text.VL53L0X_set_reference_spads:0000000000000000 VL53L0X_set_reference_spads
     /tmp/ccHkrygC.s:2578   .text.VL53L0X_get_reference_spads:0000000000000000 $t
     /tmp/ccHkrygC.s:2583   .text.VL53L0X_get_reference_spads:0000000000000000 VL53L0X_get_reference_spads
     /tmp/ccHkrygC.s:2703   .text.VL53L0X_perform_single_ref_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:2708   .text.VL53L0X_perform_single_ref_calibration:0000000000000000 VL53L0X_perform_single_ref_calibration
     /tmp/ccHkrygC.s:2796   .text.VL53L0X_ref_calibration_io:0000000000000000 $t
     /tmp/ccHkrygC.s:2801   .text.VL53L0X_ref_calibration_io:0000000000000000 VL53L0X_ref_calibration_io
     /tmp/ccHkrygC.s:2985   .text.VL53L0X_perform_vhv_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:2990   .text.VL53L0X_perform_vhv_calibration:0000000000000000 VL53L0X_perform_vhv_calibration
     /tmp/ccHkrygC.s:3132   .text.VL53L0X_perform_phase_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:3137   .text.VL53L0X_perform_phase_calibration:0000000000000000 VL53L0X_perform_phase_calibration
     /tmp/ccHkrygC.s:3276   .text.VL53L0X_perform_ref_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:3373   .text.VL53L0X_set_ref_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:3378   .text.VL53L0X_set_ref_calibration:0000000000000000 VL53L0X_set_ref_calibration
     /tmp/ccHkrygC.s:3438   .text.VL53L0X_get_ref_calibration:0000000000000000 $t
     /tmp/ccHkrygC.s:3443   .text.VL53L0X_get_ref_calibration:0000000000000000 VL53L0X_get_ref_calibration
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
VL53L0X_SetXTalkCompensationEnable
VL53L0X_SetLimitCheckEnable
ARM GAS  /tmp/ccHkrygC.s 			page 87


VL53L0X_PerformSingleRangingMeasurement
VL53L0X_SetXTalkCompensationRateMegaCps
VL53L0X_SetOffsetCalibrationDataMicroMeter
VL53L0X_GetSequenceStepEnable
VL53L0X_SetSequenceStepEnable
VL53L0X_WrWord
VL53L0X_RdWord
VL53L0X_get_info_from_device
VL53L0X_GetOffsetCalibrationDataMicroMeter
VL53L0X_WriteMulti
VL53L0X_ReadMulti
VL53L0X_WrByte
memcpy
VL53L0X_measurement_poll_for_completion
VL53L0X_ClearInterruptMask
VL53L0X_RdByte
VL53L0X_UpdateByte
